System.register("chunks:///_virtual/Snl_AnimationPoints.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,o,e,r,s,a,l,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,l=t.Vec3,c=t.Component}],execute:function(){var p,u,h,f,g;r._RF.push({},"2c025zDT5RKir2I4ai+fJ68","Snl_AnimationPoints",void 0);var d=s.ccclass,y=s.property;t("SnlAnimationPoints",(p=d("SnlAnimationPoints"),u=y([a]),p((g=n((f=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(n,"points",g,e(n)),n}i(n,t);var r=n.prototype;return r.start=function(){this.log(this.node.name+" totalLength ",this.getTotalLength())},r.getTotalLength=function(){for(var t=0,n=0;n<this.points.length-1;n++)t+=l.distance(this.points[n].worldPosition,this.points[n+1].worldPosition);return t},n}(c)).prototype,"points",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=f))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_AnimationTag.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"7d0d7BMdoVEXqSMYiQCj7U2","Snl_AnimationTag",void 0);n("SnlAnimationTag",function(n){return n[n.DICE_ROLL=0]="DICE_ROLL",n[n.PIECE_MOVE=1]="PIECE_MOVE",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,o,t,n,a,u,l,r,s,c,d,p,h,f,y,b;return{setters:[function(i){e=i.applyDecoratedDescriptor,o=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized,a=i.createClass},function(i){u=i.cclegacy,l=i._decorator,r=i.CCString,s=i.AudioClip,c=i.CCFloat,d=i.CCBoolean,p=i.AudioSource,h=i.Prefab,f=i.sys,y=i.instantiate,b=i.Component}],execute:function(){var g,S,A,C,m,E,v,P,w,D,I,L,z,_,k,x,B,M,T,F,R,K,G;u._RF.push({},"c004fDlv/xDRazYPy/e2qJL","Snl_AudioManager",void 0);var U=l.ccclass,W=l.property,j=(g=U("SnlAudioClipData"),S=W({type:r}),A=W({type:s}),C=W({type:c}),m=W({type:c}),E=W({type:d}),g((w=e((P=function(){function i(){t(this,"name",w,this),t(this,"audioClips",D,this),t(this,"delayBetweenClips",I,this),t(this,"volume",L,this),t(this,"loop",z,this),this.isLoopPlaying=void 0,this.lastPlayedTime=0,this.clipIndex=0}var e=i.prototype;return e.GetClip=function(){var i=this.audioClips[this.clipIndex];if(this.clipIndex=(this.clipIndex+1)%this.audioClips.length,this.CanPlay())return this.lastPlayedTime=Date.now(),i},e.CanPlay=function(){return Date.now()-this.lastPlayedTime>1e3*this.delayBetweenClips},i}()).prototype,"name",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(P.prototype,"audioClips",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(P.prototype,"delayBetweenClips",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=e(P.prototype,"volume",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=e(P.prototype,"loop",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P))||v);i("SnlAudioManager",(_=U("SnlAudioManager"),k=W({type:j}),x=W({type:p}),B=W({type:h}),_(((G=function(i){function e(){for(var e,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return e=i.call.apply(i,[this].concat(a))||this,t(e,"audioClipData",F,n(e)),t(e,"backgroundAudioSource",R,n(e)),e.localStorageAudioEnabledKey="SNLAudioEnabled",t(e,"audioSourcePrefab",K,n(e)),e.audioSources=[],e._isAudioEnabled="true",e}o(e,i);var u=e.prototype;return u.onLoad=function(){e.instance=this,this.ReadAudioEnabledFromLocalStorage()},u.onDestroy=function(){e.instance===this&&(e.instance=null)},u.start=function(){this.SetAudioEnabled(this.IsAudioEnabled)},u.playSound=function(i){if("false"!=this.IsAudioEnabled){var e=this.audioClipData.find((function(e){return e.name==i}));if(null!=e){var o=e.GetClip();if(o){if(e.isLoopPlaying)return;var t=this.getEmptyAudioSource();t.loop=e.loop,e.isLoopPlaying=e.loop,t.volume=e.volume,t.clip=o,e.loop?t.play():t.playOneShot(o)}else console.warn("Audio Clip is in use ",i)}}},u.stopSound=function(i){var e=this.audioClipData.find((function(e){return e.name==i}));e?this.audioSources.forEach((function(i){i.clip==e.audioClips[e.clipIndex]&&(e.isLoopPlaying=!1,i.stop())})):console.warn("Audio Clip not found for ",i)},u.stopAllSounds=function(){this.audioSources.forEach((function(i){i.stop()})),this.audioClipData.forEach((function(i){i.isLoopPlaying=!1}))},u.ToggleAudio=function(){"true"==this.IsAudioEnabled?this.SetAudioEnabled("false"):this.SetAudioEnabled("true")},u.SetAudioEnabled=function(i){this._isAudioEnabled=i,this.UpdateBackgroundMusic(),this.WriteAudioEnabledToLocalStorage()},u.WriteAudioEnabledToLocalStorage=function(){f.localStorage.setItem(this.localStorageAudioEnabledKey,this.IsAudioEnabled)},u.ReadAudioEnabledFromLocalStorage=function(){var i=f.localStorage.getItem(this.localStorageAudioEnabledKey);this._isAudioEnabled=null==i?"true":i},u.UpdateBackgroundMusic=function(){var i,e;"true"==this.IsAudioEnabled?null==(i=this.backgroundAudioSource)||i.play():null==(e=this.backgroundAudioSource)||e.stop()},u.printAllPlayingAudioSources=function(){this.audioSources.forEach((function(i){i.playing&&console.log("Playing audio source: ",i.playing,i.clip.name,i.uuid)}))},u.getEmptyAudioSource=function(){var i=this.audioSources.find((function(i){return!i.playing}));return null==i&&(i=this.createAudioSource()),i},u.createAudioSource=function(){var i=y(this.audioSourcePrefab).getComponent(p);return i.node.setParent(this.node),this.audioSources.push(i),console.log("==== Created new audio source: ",this.audioSources.length),i},a(e,[{key:"IsAudioEnabled",get:function(){return this._isAudioEnabled}}]),e}(b)).instance=null,F=e((T=G).prototype,"audioClipData",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(T.prototype,"backgroundAudioSource",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(T.prototype,"audioSourcePrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=T))||M));u._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_AutoReturnToPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_PoolManager.ts"],(function(o){var t,e,n,r,i,l,u,a,s,c;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,l=o._decorator,u=o.CCFloat,a=o.CCBoolean,s=o.Component},function(o){c=o.SnlPoolManager}],execute:function(){var p,h,f,y,d,P,T;i._RF.push({},"33ad2bxJEtMXbFVNSIWVYh4","Snl_AutoReturnToPool",void 0);var b=l.ccclass,R=l.property;o("SnlAutoReturnToPool",(p=b("SnlAutoReturnToPool"),h=R({type:u}),f=R({type:a}),p((P=t((d=function(o){function t(){for(var t,e=arguments.length,i=new Array(e),l=0;l<e;l++)i[l]=arguments[l];return t=o.call.apply(o,[this].concat(i))||this,n(t,"timeToReturnToPool",P,r(t)),n(t,"shouldDestroy",T,r(t)),t}e(t,o);var i=t.prototype;return i.onEnable=function(){this.scheduleOnce(this.returnToPool,this.timeToReturnToPool)},i.start=function(){},i.update=function(o){},i.returnToPool=function(){c.instance.returnObjectToPool(this.node),this.shouldDestroy&&this.node.destroy()},t}(s)).prototype,"timeToReturnToPool",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),T=t(d.prototype,"shouldDestroy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_BasePlayerData.ts",["cc"],(function(i){var s;return{setters:[function(i){s=i.cclegacy}],execute:function(){s._RF.push({},"e8295XdaVJK04GaKMfAZPMP","Snl_BasePlayerData",void 0);i("SnlBasePlayerData",function(){function i(){this.userId=void 0,this.name=void 0,this.avatar=void 0,this.sessionId=void 0,this.playerNumber=void 0,this.type=void 0,this.isOnline=void 0,this.isConnected=void 0,this.isReplacedByBot=void 0,this.isKickedOut=void 0,this.isReady=void 0,this.score=void 0}return i.prototype.copyFrom=function(i){this.userId=i.userId,this.name=i.name,this.avatar=i.avatar,this.sessionId=i.sessionId,this.playerNumber=i.playerNumber,this.type=i.type,this.isOnline=i.isOnline,this.isConnected=i.isConnected,this.isReplacedByBot=i.isReplacedByBot,this.isKickedOut=i.isKickedOut,this.isReady=i.isReady,this.score=i.score},i}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_BaseRoomSettings.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bf274ySHyVCRaBe1Lt+wkW8","Snl_BaseRoomSettings",void 0);e("DefaultRoomSettings",{maxPlayers:8,minPlayers:2,maxClients:8,countdownTimeInSeconds:3,allowLateJoin:!0,maxReconnectionAttempts:3,reconnectionAttemptInterval:1e3,reconnectionTime:1e4,gameFPS:30,serverFPS:30,patchRate:1e3}),e("SnlBaseRoomSettings",function(){function e(){this.maxPlayers=void 0,this.minPlayers=void 0,this.maxClients=void 0,this.countdownTimeInSeconds=void 0,this.allowLateJoin=void 0,this.maxReconnectionAttempts=void 0,this.reconnectionAttemptInterval=void 0,this.reconnectionTime=void 0,this.gameFPS=void 0,this.serverFPS=void 0,this.patchRate=void 0}return e.prototype.copyFrom=function(e){this.maxPlayers=e.maxPlayers,this.minPlayers=e.minPlayers,this.maxClients=e.maxClients,this.countdownTimeInSeconds=e.countdownTimeInSeconds,this.allowLateJoin=e.allowLateJoin,this.reconnectionTime=e.reconnectionTime,this.gameFPS=e.gameFPS,this.serverFPS=e.serverFPS,this.patchRate=e.patchRate},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_BaseRoomState.ts",["cc","./Snl_RoomTypes.ts"],(function(t){var o,s;return{setters:[function(t){o=t.cclegacy},function(t){s=t.Snl_RoomStatus}],execute:function(){o._RF.push({},"188d5VyH+tJTahm43bSZiKp","Snl_BaseRoomState",void 0);t("SnlBaseRoomState",function(){function t(t,o){this.currentRoomStatus=s.WAITING_FOR_PLAYERS,this.previousRoomStatus=s.NONE,this.roomSettings=void 0,this.playersData=void 0,this.spectatorsData=void 0,this.roomSettings=t,this.playersData=o,this.spectatorsData=[]}return t.prototype.copyFrom=function(t){this.currentRoomStatus=t.currentRoomStatus,this.previousRoomStatus=t.previousRoomStatus,this.roomSettings.copyFrom(t.roomSettings)},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_Board.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_NetworkManager.ts","./Snl_Piece.ts","./SNLTileType.ts","./Snl_PowerUp.ts","./Snl_PlayerAssets.ts","./Snl_AnimationPoints.ts","./Snl_PlayerService.ts"],(function(e){var t,n,i,r,s,o,a,u,l,p,h,c,f,d,P,m,b,g,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,i=e.inheritsLoose,r=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,l=e.Vec2,p=e.instantiate,h=e.Vec3,c=e.Component},function(e){f=e.SnlNetworkManager},function(e){d=e.SnlPiece},function(e){P=e.SNLTileType},function(e){m=e.SnlPowerUp},function(e){b=e.SnlPlayerAssets},function(e){g=e.SnlAnimationPoints},function(e){y=e.SnlPlayerService}],execute:function(){var T,w,v,N,S,k,O,A,I,U,_,x,L,z,C,D,B,E,F,M,R,V,G,H;o._RF.push({},"7d609DnofpOup1Z3nz9INPE","Snl_Board",void 0);var K=a.ccclass,W=a.property,j=(T=K("SnlHomeTiles"),w=W({type:[u]}),T((S=t((N=function(){n(this,"homeTiles",S,this)}).prototype,"homeTiles",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=N))||v),Z=e("Snake",K("Snake")(k=function(e,t,n){this.data=void 0,this.animationPoints=void 0,this.node=null,this.data=e,this.node=t,this.animationPoints=n})||k);e("SnlBoard",(O=K("SnlBoard"),A=W({type:[u]}),I=W({type:[j]}),U=W({type:l}),_=W({type:u}),x=W({type:u}),L=W({type:u}),z=W({type:u}),O(((H=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"pathTiles",B,r(t)),n(t,"homeTiles",E,r(t)),n(t,"powerupOffsetFromTileCenter",F,r(t)),n(t,"rotationPivot",M,r(t)),n(t,"boardSpriteNode",R,r(t)),n(t,"snakesAndLaddersParent",V,r(t)),n(t,"powerupsParent",G,r(t)),t._initialOffset=0,t._isInitialized=!1,t.gameOptions=null,t.rocketSteps=8,t.tileTypes=[],t.pieces=[],t.powerUps=[],t.snakesData=[],t.ladders=[],t.snakesAnimationPoints=[],t.laddersAnimationPoints=[],t.snakes=[],t}i(t,e);var o=t.prototype;return o.onLoad=function(){null!=t._instance&&this.node.destroy(),t._instance=this,this._initialOffset=26},o.onDestroy=function(){this.cleanup()},o.cleanup=function(){t._instance===this&&(t._instance=null)},o.Initialize=function(e){if(!this._isInitialized){this.gameOptions=e.gameOptions;var t=e.playersData.find((function(e){return e.sessionId==f.Instance.getMySessionId()}));null!=t&&this.rotationPivot.setRotationFromEuler(0,0,180+90*this.getPlayerPositionOnBoard(t.playerNumber)),this._isInitialized=!0,this.rocketSteps=this.gameOptions.rocketSteps,null!=t&&console.log("Creating board preset for player ",t.playerNumber),this.createTiles(e),this.createLadders(e),this.createSnakes(e)}},o.reset=function(e){this.createTiles(e)},o.createTiles=function(e){this.tileTypes=[];for(var t=0;t<e.board.boardTiles.length;t++)this.tileTypes.push(e.board.boardTiles[t]);this.createPowerups()},o.createSnakes=function(e){var t=e.board.snakes;console.log("[Snakes] snakes count: ",t.length);for(var n=0;n<t.length;n++){var i=t[n],r=b.instance.snakePrefabs[i.snakePresetIndex],s=p(r);s.setParent(this.snakesAndLaddersParent,!0);var o=this.pathTiles[i.startTile-1];s.setWorldPosition(o.worldPosition.clone()),s.setScale(1,1,1),this.snakesData.push(i);var a=s.getComponent(g);this.snakesAnimationPoints.push(a),this.snakes.push(new Z(i,s,a))}console.log("[Snakes] snakes animation points count: ",this.snakesAnimationPoints.length)},o.createLadders=function(e){for(var t=e.board.ladders,n=0;n<t.length;n++){var i=t[n],r=b.instance.ladderPrefabs[i.ladderPresetIndex],s=p(r);s.setParent(this.snakesAndLaddersParent,!0);var o=this.pathTiles[i.startTile-1];s.setWorldPosition(o.worldPosition.clone()),s.setScale(1,1,1),this.ladders.push(i),this.laddersAnimationPoints.push(s.getComponent(g))}},o.createPowerups=function(){for(var e=[],t=0;t<this.tileTypes.length;t++)for(var n=0;n<this.gameOptions.PowerupTypes.length;n++)if(this.tileTypes[t]&this.gameOptions.PowerupTypes[n]){var i=this.popPowerupON(t);if(null!=i){e.push(i);break}var r=p(b.instance.powerUpPrefab).getComponent(m);r.node.setParent(this.powerupsParent,!0),r.node.worldPosition=this.pathTiles[t-1].worldPosition.clone().add(new h(0,-15,0)),r.setPathNumber(t),r.setPowerUpType(this.tileTypes[t]),e.push(r);break}for(var s=0;s<this.powerUps.length;s++)this.powerUps[s].node.destroy();this.powerUps=e},o.popPowerupON=function(e){var t=this.powerUps.findIndex((function(t){return t.pathNumber===e}));if(-1!==t){var n=this.powerUps[t];return this.powerUps.splice(t,1),n}return null},o.getPowerUpType=function(e){for(var t=this.tileTypes[e.pathNumber],n=0;n<this.gameOptions.PowerupTypes.length;n++)if(t&this.gameOptions.PowerupTypes[n])return this.gameOptions.PowerupTypes[n];return P.DEFAULT},o.getPowerupNode=function(e){var t=this.powerUps.find((function(t){return t.pathNumber===e.pathNumber}));return t?t.node:null},o.removePowerUp=function(e){this.tileTypes[e.pathNumber]=P.DEFAULT;var t=this.powerUps.indexOf(e);-1!==t&&this.powerUps.splice(t,1),e.node.destroy()},o.removePowerUpByPathNumber=function(e){this.tileTypes[e]=P.DEFAULT;var t=this.powerUps.findIndex((function(t){return t.pathNumber===e}));-1!==t&&(this.powerUps[t].node.destroy(),this.powerUps.splice(t,1))},o.getPathTile=function(e,t,n){if(0===e)return this.getPlayerBase(t);var i=this.getGlobalTileIndex(e,t);return this.pathTiles[i]},o.getPathPositions=function(e,t,n,i){var r=[],s=null;if(0===t){for(var o=e;o>=0;o--)(s=this.getPathTile(o,n,i))||console.error("Path tile not found for path number: ",o," player number: ",n," piece index: ",i),r.push(s.worldPosition.clone());return console.log("Piece going to home: path positions length ",r.length," start path number: ",e," end path number: ",t),r}for(var a=e;a<=t;a++)null!=(s=this.getPathTile(a,n,i))&&r.push(s.worldPosition.clone());return r},o.getGlobalTileIndex=function(e,t){return e-1},o.isValidPathNumber=function(e,t){return e>=1&&e<=this.TotalPathCount(this.gameOptions)},o.TotalPathCount=function(e){return e.boardTilesCount},o.isSafeTile=function(e){return(this.tileTypes[e]&P.SAFE)>0},o.isPathOccupied=function(e,t){return 0!==e&&this.pieces.some((function(e){return e.pathNumber===t.pathNumber&&e!==t}))},o.getPawnsCountOnTile=function(e){return 0===e?0:this.pieces.filter((function(t){return t.pathNumber===e})).length},o.getPawnsOnTile=function(e){return 0===e?[]:this.pieces.filter((function(t){return t.pathNumber===e}))},o.canKillOtherPieces=function(e,t,n){if(e<=0)return!1;if(this.isSafeTile(e))return!1;var i=this.getPathTile(e,t,n);return!(i.children.length>=3)&&i.children.some((function(e){return e.getComponent(d).playerNumber!==t}))},o.piecesOnTile=function(e,t){return e<=0?0:this.pieces.filter((function(t){return t.pathNumber===e})).length},o.getKillablePieces=function(e){if(e.pathNumber<=0)return null;if(this.isSafeTile(e.pathNumber))return null;var t=this.pieces.filter((function(t){return t!==e&&t.pathNumber===e.pathNumber}));if(1===t.length){var n=t[0];if(n.playerNumber!==e.playerNumber)return n}return null},o.doesEnemyExist=function(e,t){return!(0===t||t>this.TotalPathCount(this.gameOptions))&&this.pieces.some((function(t){return t.pathNumber===e.pathNumber&&t.playerNumber!==e.playerNumber}))},o.doesAnyPieceExistOnPath=function(e,t){return!(0===t||t>this.TotalPathCount(this.gameOptions))&&this.pieces.some((function(n){return n!==e&&n.pathNumber===t}))},o.getRocketLandingPathNumber=function(e){for(var t=e.pathNumber,n=0;n<this.rocketSteps;n++){if(!this.isValidPathNumber(t+1,e.playerNumber))return console.log("Invalid Path Number: ",t+1),t;t+=1}return t},o.getPlayerPositionOnBoard=function(e){return[0,2,3,1][e]||0},o.getPlayerBase=function(e){return y.instance.getPlayerBase(e)},o.getPlayerPiece=function(e,t){return y.instance.getPlayerPiece(e,t)},o.addPieces=function(e){var t;(t=this.pieces).push.apply(t,e)},o.addPiece=function(e){this.pieces.push(e)},o.updateAllPiecePositions=function(){this.pieces.forEach((function(e){return e.updatePiecePosition()}))},o.getLadderAnimationPoints=function(e){var t=this.ladders.findIndex((function(t){return t.ladderPresetIndex===e}));return this.laddersAnimationPoints[t]},o.getSnakeAnimationPoints=function(e){var t=this.snakesData.findIndex((function(t){return t.snakePresetIndex===e}));return this.snakesAnimationPoints[t]},o.getSnake=function(e){var t=this.snakesData.findIndex((function(t){return t.snakePresetIndex===e}));return this.snakes[t]},s(t,null,[{key:"Instance",get:function(){return t._instance}}]),t}(c))._instance=null,B=t((D=H).prototype,"pathTiles",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(D.prototype,"homeTiles",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(D.prototype,"powerupOffsetFromTileCenter",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,0)}}),M=t(D.prototype,"rotationPivot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"boardSpriteNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(D.prototype,"snakesAndLaddersParent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"powerupsParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=D))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_BoardData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("GetSnlEndTile",(function(e,t,s,r,n){var a=Math.floor((e-1)/n),l=(e-1)%n;a%2==1&&(l=n-1-l);var d,f=a+s,o=l+t;if(f<0||f>=Math.ceil(r/n)||o<0||o>=n)return-1;d=f%2==0?f*n+o+1:f*n+(n-1-o)+1;if(d<1||d>r)return-1;return d})),t._RF.push({},"fad84JHd51NponoK3hrgvEv","Snl_BoardData",void 0);e("SnakePresets",[{offset:{x:-2,y:-1,length:150}},{offset:{x:-2,y:-3,length:450}},{offset:{x:1,y:-2,length:300}},{offset:{x:1,y:-5,length:750}},{offset:{x:0,y:-4,length:600}},{offset:{x:-1,y:-1,length:150}}]),e("LadderPresets",[{offset:{x:1,y:1,length:144}},{offset:{x:1,y:2,length:282}},{offset:{x:-1,y:3,length:424}},{offset:{x:0,y:5,length:604}},{offset:{x:-1,y:5,length:604}},{offset:{x:1,y:1,length:144}}]),e("boardsData",[{snakes:[{startTile:9,snakePresetIndex:0},{startTile:27,snakePresetIndex:1},{startTile:46,snakePresetIndex:2},{startTile:49,snakePresetIndex:3},{startTile:57,snakePresetIndex:4},{startTile:61,snakePresetIndex:5}],ladders:[{startTile:3,ladderPresetIndex:0},{startTile:14,ladderPresetIndex:1},{startTile:21,ladderPresetIndex:2},{startTile:10,ladderPresetIndex:4},{startTile:53,ladderPresetIndex:5}]}]);t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_BotMadeMoveScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts","./UIManager.ts","./Snl_NetworkManager.ts","./Snl_GameMessageType.ts"],(function(n){var e,t,o,i,a,c,r,s;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,i=n.Node},function(n){a=n.SnlMenu},function(n){c=n.UIManager},function(n){r=n.SnlNetworkManager},function(n){s=n.SnlGameMessageType}],execute:function(){var l;t._RF.push({},"b2e8fzT4bJJkqddZgECVmkg","Snl_BotMadeMoveScreen",void 0);var u=o.ccclass;o.property,n("SnlBotMadeMoveScreen",u("SnlBotMadeMoveScreen")(l=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))||this)._timer=0,e}e(t,n);var o=t.prototype;return o.onLoad=function(){n.prototype.onLoad.call(this),this.content.on(i.EventType.TOUCH_START,this.OnClick,this)},o.onDestroy=function(){},o.Open=function(){n.prototype.Open.call(this),this._timer=0},o.Close=function(){n.prototype.Close.call(this)},o.initHandTween=function(){},o.initialization=function(){this.initHandTween()},o.OnClick=function(){r.Instance.sendMessage(s.PLAYER_CAMEBACK,{}),c.instance.CloseMenu(this.menuName)},t}(a))||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_CameraManger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,h,s,c,d,u,l,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,h=e.UITransform,s=e.Camera,c=e.screen,d=e.sys,u=e.view,l=e.math,g=e.Component}],execute:function(){var p,f,w,m,H,b,S,v,y,z,A,O;a._RF.push({},"78bacmf2DNE8YgvAunHfRKV","Snl_CameraManger",void 0);var R=o.ccclass,C=o.property;(0,o.executionOrder)(-1);e("SnlCameraManger",(p=R("SnlCameraManger"),f=C({type:h}),p(((O=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"canvasUITransform",H,r(t)),n(t,"designHeight",b,r(t)),n(t,"designWidth",S,r(t)),n(t,"defaultOrthoHeight",v,r(t)),n(t,"minOrthoHeight",y,r(t)),n(t,"maxOrthoHeight",z,r(t)),n(t,"safeAreaPadding",A,r(t)),t.designAspectRatio=void 0,t.currentAspectRatio=void 0,t.camera=null,t.windowWidth=1080,t.windowHeight=1920,t}i(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this,this.designAspectRatio=this.designWidth/this.designHeight,this.camera=this.node.getComponent(s)},a.start=function(){var e=this;this.updateScreenSize(),this.adaptCameraToScreen(),window.addEventListener("resize",(function(){e.updateScreenSize(),e.adaptCameraToScreen()}))},a.update=function(e){},a.updateScreenSize=function(){this.windowWidth=c.windowSize.width||window.innerWidth,this.windowHeight=c.windowSize.height||window.innerHeight,this.currentAspectRatio=this.windowWidth/this.windowHeight,console.log("Window Size: "+this.windowWidth+"x"+this.windowHeight+", Aspect Ratio: "+this.currentAspectRatio.toFixed(2))},a.adaptCameraToScreen=function(){if(this.camera){var e=0,t=0,i=0,n=0;if(d.os===d.OS.IOS||d.os===d.OS.ANDROID){var r=u.getVisibleSize(),a=u.getVisibleOrigin();r&&(e=a.y,t=this.windowHeight-(a.y+r.height),i=a.x,n=this.windowWidth-(a.x+r.width))}var o=this.windowHeight-e-t-2*this.safeAreaPadding,h=this.windowWidth-i-n-2*this.safeAreaPadding,s=h/o;console.log("Effective Size: "+h+"x"+o+", Aspect Ratio: "+s.toFixed(2));var c=this.currentAspectRatio>=1,g=this.defaultOrthoHeight;if(c)console.log("=== Landscape Mode ==="),g=this.defaultOrthoHeight*(1/this.currentAspectRatio)*1.5;else{console.log("=== Portrait Mode ===");var p=.6/Math.min(this.currentAspectRatio,.6);g=this.defaultOrthoHeight*p}g=l.clamp(g,this.minOrthoHeight,this.maxOrthoHeight),this.camera.orthoHeight=g,console.log("Camera Ortho Height: "+g.toFixed(2))}},a.getWidth=function(){return 2*this.camera.orthoHeight*this.currentAspectRatio},a.getCurrentOrthoHeight=function(){return this.camera.orthoHeight},a.refreshCameraAdaptation=function(){this.updateScreenSize(),this.adaptCameraToScreen()},t}(g)).instance=null,H=t((m=O).prototype,"canvasUITransform",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(m.prototype,"designHeight",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1920}}),S=t(m.prototype,"designWidth",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1080}}),v=t(m.prototype,"defaultOrthoHeight",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 820}}),y=t(m.prototype,"minOrthoHeight",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 750}}),z=t(m.prototype,"maxOrthoHeight",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1080}}),A=t(m.prototype,"safeAreaPadding",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),w=m))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_CountdownScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts"],(function(n){var t,e,o,i,c,l,r,u,a,s,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){c=n.cclegacy,l=n._decorator,r=n.Label,u=n.Node,a=n.tween,s=n.Vec3},function(n){d=n.SnlMenu}],execute:function(){var w,p,f,h,T,y,S;c._RF.push({},"1e126xY1TNAfKHpOQHeNPdl","Snl_CountdownScreen",void 0);var v=l.ccclass,_=l.property;n("SnlCountdownScreen",(w=v("SnlCountdownScreen"),p=_({type:r}),f=_({type:u}),w((y=t((T=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),l=0;l<e;l++)c[l]=arguments[l];return(t=n.call.apply(n,[this].concat(c))||this)._countdownTween=null,o(t,"countdownText",y,i(t)),o(t,"blackBG",S,i(t)),t}e(t,n);var c=t.prototype;return c.onLoad=function(){n.prototype.onLoad.call(this)},c.onDestroy=function(){},c.Open=function(){n.prototype.Open.call(this),this.initialization()},c.Close=function(){n.prototype.Close.call(this),null!=this._countdownTween&&this._countdownTween.stop()},c.initCountdownTween=function(){var n=this;this.countdownText.node.active=!0,this._countdownTween=a(this.countdownText.node);for(var t=function(t){n._countdownTween.call((function(){n.countdownText.string=t.toString(),n.countdownText.node.scale=s.ONE.clone().multiplyScalar(2)})).to(1,{scale:s.ONE.clone().multiplyScalar(1)},{easing:"sineIn"})},e=3;e>=1;e--)t(e);this._countdownTween.call((function(){n.deactivateScreen()}))},c.deactivateScreen=function(){this.countdownText.string="",this.countdownText.node.active=!1,this.blackBG.active=!1},c.initialization=function(){this.initCountdownTween(),this._countdownTween.start()},t}(d)).prototype,"countdownText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(T.prototype,"blackBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=T))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_DeathPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Board.ts","./Snl_DeathType.ts"],(function(e){var t,n,o,i,a,p,r,c,l,s,u,d,h,f,P,y,w,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,p=e._decorator,r=e.RichText,c=e.Sprite,l=e.Node,s=e.SpriteFrame,u=e.Layout,d=e.UITransform,h=e.Vec3,f=e.UIOpacity,P=e.tween,y=e.Component},function(e){w=e.SnlBoard},function(e){g=e.SnlDeathType}],execute:function(){var m,T,S,I,N,D,v,b,x,C,_,A;a._RF.push({},"b44a9UahXtP4J/rmk4XDCCh","Snl_DeathPopup",void 0);var z=p.ccclass,B=p.property;e("SnlDeathPopup",(m=z("SnlDeathPopup"),T=B({type:r}),S=B({type:c}),I=B({type:l}),N=B({type:s}),m(((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),p=0;p<n;p++)a[p]=arguments[p];return t=e.call.apply(e,[this].concat(a))||this,o(t,"deathText",b,i(t)),o(t,"deathIcon",x,i(t)),o(t,"deathPopupNode",C,i(t)),o(t,"deathIconSprites",_,i(t)),t.scaleTween=null,t.opacityTween=null,t.pendingScheduleId=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this},t.showDeathPopup=function(e,n,o){if(t.instance.deathPopupNode){t.instance.deathPopupNode.active=!0,t.instance.deathText.string=n,t.instance.deathIcon.spriteFrame=t.instance.getDeathIconSprite(o);var i=t.instance.deathPopupNode.getComponent(u);i&&i.updateLayout();var a=t.instance.deathPopupNode.getComponent(d);if(a){var p=t.instance.calculateAdjustedPosition(e,a,o);t.instance.deathPopupNode.setWorldPosition(p),t.instance.playDeathPopupAnimation()}else console.error("DeathPopup: Missing UITransform component on deathPopupNode")}else console.log("DeathPopup: deathPopupNode not assigned")},a.calculateAdjustedPosition=function(e,t,n){var o=w.Instance.boardSpriteNode,i=o.getComponent(d);if(!i)return console.error("DeathPopup: Board node missing UITransform component"),e;var a=o.worldPosition,p=i.width,r=a.x-.5*p,c=a.x+.5*p,l=t.width,s=e.x-.5*l,u=e.x+.5*l,f=e.x;if(s<r)f+=r-s;else if(u>c){f-=u-c}var P=.5*t.height+(n===g.SNAKE_BITE?40:50);return new h(f,e.y+P,e.z)},a.playDeathPopupAnimation=function(){var e=this;if(this.deathPopupNode){this.stopCurrentAnimation();var t=this.deathPopupNode.getComponent(f);t||(t=this.deathPopupNode.addComponent(f)),this.deathPopupNode.setScale(.75,.75,1),t.opacity=0,this.scaleTween=P(this.deathPopupNode).to(.3,{scale:new h(1,1,1)}).start(),this.opacityTween=P(t).to(.3,{opacity:255}).call((function(){e.pendingScheduleId=window.setTimeout((function(){e.scaleTween=P(e.deathPopupNode).to(.5,{scale:new h(.75,.75,1)}).start(),e.opacityTween=P(t).to(.5,{opacity:0}).call((function(){e.deathPopupNode.active=!1,e.scaleTween=null,e.opacityTween=null,e.pendingScheduleId=null})).start()}),2e3)})).start()}else console.error("DeathPopup: deathPopupNode not assigned for animation")},a.stopCurrentAnimation=function(){this.scaleTween&&(this.scaleTween.stop(),this.scaleTween=null),this.opacityTween&&(this.opacityTween.stop(),this.opacityTween=null),null!==this.pendingScheduleId&&(clearTimeout(this.pendingScheduleId),this.pendingScheduleId=null)},a.getDeathIconSprite=function(e){return this.deathIconSprites[e]},t}(y)).instance=null,b=t((v=A).prototype,"deathText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(v.prototype,"deathIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(v.prototype,"deathPopupNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(v.prototype,"deathIconSprites",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=v))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_DeathType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d450ec5/GxKB6SIOpxWx3vz","Snl_DeathType",void 0);e("SnlDeathType",function(e){return e[e.PAWN_KILL=0]="PAWN_KILL",e[e.SNAKE_BITE=1]="SNAKE_BITE",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_Dice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_AudioManager.ts","./Snl_AnimationTag.ts"],(function(e){var i,n,t,r,o,l,c,a,s,u,p,g;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,c=e.SpriteFrame,a=e.Sprite,s=e.tween,u=e.Component},function(e){p=e.SnlAudioManager},function(e){g=e.SnlAnimationTag}],execute:function(){var f,h,d,D,F,_,S,m,y;o._RF.push({},"7dd36jzz+1A04Qf8KqHC45+","Snl_Dice",void 0);var v=l.ccclass,w=l.property;e("SnlDice",(f=v("SnlDice"),h=w({type:[c]}),d=w({type:[c]}),D=w({type:a}),f((S=i((_=function(e){function i(){for(var i,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,t(i,"diceFaces",S,r(i)),t(i,"rollingFrames",m,r(i)),t(i,"diceSprite",y,r(i)),i.onDiceRollDone=function(){},i._currentFace=0,i._rollingTween=null,i._rollDuration=.5,i}n(i,e);var o=i.prototype;return o.onLoad=function(){this._rollingTween=s(this.diceSprite.node)},o.rollDice=function(e){p.instance.playSound("DiceRoll"),this.rollAnimation(e)},o.setDiceFace=function(e){e<0||e>=this.diceFaces.length||(this._currentFace=e,this.diceSprite.spriteFrame=this.diceFaces[e])},o.rollAnimation=function(e){var i=this;this.stopRolling(),this._rollingTween=s({value:0}).to(.5,{value:13},{onUpdate:function(e){var n=Math.floor(e.value)%i.rollingFrames.length;i.diceSprite.spriteFrame=i.rollingFrames[n]}}).call((function(){i.setDiceFace(e),console.log("~~~ Dice Rolling Done ~~~"),i.onDiceRollDone()})),this._rollingTween.tag(g.DICE_ROLL),this._rollingTween.start()},o.stopRolling=function(){this._rollingTween&&this._rollingTween.stop()},o.reset=function(){this.diceSprite.spriteFrame=this.diceFaces[0]},i}(u)).prototype,"diceFaces",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=i(_.prototype,"rollingFrames",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=i(_.prototype,"diceSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=_))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_EndRoundScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts","./Snl_GameManager.ts","./Snl_NetworkManager.ts","./Snl_NetworkTypes.ts","./SNLRoomState.ts","./SNLGameHandler.ts","./UIManager.ts","./Snl_PlayerAvatar.ts","./Snl_PlayerAssets.ts"],(function(e){var t,n,i,r,o,a,l,s,c,u,p,S,h,f,y,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Label},function(e){s=e.SnlMenu},function(e){c=e.SnlGameManager},function(e){u=e.ServerRoomStateChangeEvent},function(e){p=e.SnlNetworkEvents},function(e){S=e.SNLRoomState},function(e){h=e.SNLGameHandler},function(e){f=e.UIManager},function(e){y=e.SnlPlayerAvatar},function(e){_=e.SnlPlayerAssets}],execute:function(){var d,g,v,m,w,R,N;o._RF.push({},"0c5b9AHjNhFyp75IDpZBX2d","Snl_EndRoundScreen",void 0);var A=a.ccclass,G=a.property;e("SnlEndRoundScreen",(d=A("SnlEndRoundScreen"),g=G({type:y}),v=G({type:l}),d((R=t((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"playerAvatar",R,r(t)),i(t,"playerName",N,r(t)),t._shouldShowThisScreen=!1,t._optionsInitialized=!1,t._rotatingGlow=null,t}n(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),u.on(p.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},o.onDestroy=function(){u.off(p.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},o.ServerStateChanged=function(e){if(!this._optionsInitialized){var t=new S;t.gameOptions&&(this._shouldShowThisScreen=t.gameOptions.show_result_screen,this._optionsInitialized=!0),t.copyFrom(e)}},o.Open=function(){this._shouldShowThisScreen&&(e.prototype.Open.call(this),this.initialize())},o.Close=function(){e.prototype.Close.call(this),this.stopRotateGlow()},o.initialize=function(){if(e.prototype.initialize.call(this),f.instance.showResultScreen){c.Instance._won;var t=c.Instance._serverStateCopy.playersData.findIndex((function(e){return 1==e.finishPosition}));if(-1!=t){var n=h.Instance.getPlayer(t);this.playerAvatar.setAvatarFromSpriteFrame(n.GetProfileSpriteFrame()),this.playerAvatar.setOutlineColor(_.instance.getPawnColor(t)),this.playerName.string=this.GetDisplayName(n.playerName.string)}else console.error("no winning player")}else this.Close()},o.stopRotateGlow=function(){this._rotatingGlow&&(this._rotatingGlow.stop(),this._rotatingGlow=null)},o.GetDisplayName=function(e){return e.length>8?e.substring(0,8)+"..":e},t}(s)).prototype,"playerAvatar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"playerName",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_FitToScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_CameraManger.ts"],(function(e){var n,t,i,r,o,a,c,s,d,u,l,h,g,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.CCBoolean,s=e.director,d=e.Director,u=e.UITransform,l=e.screen,h=e.Widget,g=e.Component},function(e){p=e.SnlCameraManger}],execute:function(){var f,S,w,y,v;o._RF.push({},"af0c5MGzgxFxYg7gwI0cmu1","Snl_FitToScreen",void 0);var T=a.ccclass,m=a.property;e("SnlFitToScreen",(f=T("SnlFitToScreen"),S=m({type:c}),f((v=n((y=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"updateWidgetsRecursively",v,r(n)),n}t(n,e);var o=n.prototype;return o.onEnable=function(){var e=this;s.once(d.EVENT_AFTER_UPDATE,(function(){e.refresh()}))},o.setUiTransformToScreenSize=function(){var e=this.node.getComponent(u),n=p.instance.getCurrentOrthoHeight()/p.instance.defaultOrthoHeight,t=l.windowSize.width||window.innerWidth,i=l.windowSize.height||window.innerHeight,r=p.instance.designHeight*n,o=r*t/i;console.log("windowWidth",t,"windowHeight",i),e.setContentSize(o,r)},o.refresh=function(){this.setUiTransformToScreenSize(),this.updateWidgetsRecursively&&this.updateWidgetsInHierarchy()},o.updateWidgetsInHierarchy=function(){this.updateWidgetAndDescendants(this.node)},o.updateWidgetAndDescendants=function(e){var n=this,t=e.getComponent(h);t&&this.node.uuid!=e.uuid&&t.updateAlignment(),e.children.forEach((function(e){n.updateWidgetAndDescendants(e)}))},n}(g)).prototype,"updateWidgetsRecursively",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/snl_game",["./Snl_BotMadeMoveScreen.ts","./Snl_CountdownScreen.ts","./Snl_EndRoundScreen.ts","./Snl_HowToPlay.ts","./Snl_InGameMenu.ts","./Snl_InstructionsScreen.ts","./Snl_KickedOutScreen.ts","./Snl_Menu.ts","./Snl_ReconnectingScreen.ts","./TutorialScreen.ts","./UIManager.ts","./WaitingScreen.ts","./Snl_NetworkConfig.ts","./Snl_NetworkManager.ts","./Snl_CameraManger.ts","./Snl_FitToScreen.ts","./Snl_MiloLayout.ts","./Snl_PBLogger.ts","./Snl_PbExtensions.ts","./Snl_PbSaveSystem.ts","./Snl_PlayerAvatar.ts","./Snl_Utils.ts","./Snl_BasePlayerData.ts","./Snl_BaseRoomSettings.ts","./Snl_BaseRoomState.ts","./Snl_NetworkTypes.ts","./Snl_PlayerTypes.ts","./Snl_RoomTypes.ts","./Snl_BoardData.ts","./Snl_GameConfig.ts","./Snl_nterfaces.ts","./Snl_IdleState.ts","./Snl_MovePieceState.ts","./Snl_PlayerBaseState.ts","./Snl_PlayerStateMachine.ts","./Snl_RollingState.ts","./SNLGameHandler.ts","./Snl_AnimationPoints.ts","./Snl_AudioManager.ts","./Snl_Board.ts","./Snl_DeathPopup.ts","./Snl_Dice.ts","./Snl_GameManager.ts","./Snl_InputManager.ts","./Snl_MoveOptionsInput.ts","./Snl_OutComesUIManager.ts","./Snl_PawnHandler.ts","./Snl_Piece.ts","./Snl_Player.ts","./Snl_PlayerAssets.ts","./Snl_PlayerService.ts","./Snl_PowerUp.ts","./Snl_RoundCompleted.ts","./Timer.ts","./Snl_AutoReturnToPool.ts","./Snl_PoolManager.ts","./Snl_Pooler.ts","./SNLBoard.ts","./SNLPlayerData.ts","./SNLRoomSettings.ts","./SNLRoomState.ts","./SNLGameState.ts","./SNLTileType.ts","./Snl_AnimationTag.ts","./Snl_DeathType.ts","./Snl_GameMessageType.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Snl_GameConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SNLTileType.ts","./Snl_BaseRoomSettings.ts"],(function(e){var i,t,n,o;return{setters:[function(e){i=e.extends},function(e){t=e.cclegacy},function(e){n=e.SNLTileType},function(e){o=e.DefaultRoomSettings}],execute:function(){t._RF.push({},"c748eNlwE9CRZ3zS/0Zlhjn","Snl_GameConfig",void 0);e("DefaultSNLGameOptions",i({},o,{boardTilesCount:7,diceRollWaitTime:30,movePiecesWaitTime:30,lagDelayCompensationTime:1,animationWaitTime:10,rocketSteps:8,PowerupTypes:[n.ROCKET,n.SHIELD],show_mute_button:!1,show_result_screen:!0,show_faq:!0,MissTurnsToKickOut:3,turnWaitTime:30,maxReconnectionAttempts:10,piecesPerPlayer:2,boardIndex:0,boardTilesPerRow:8,snakeAnimationTimePerTile:.25,ladderAnimationTimePerTile:.1}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_NetworkManager.ts","./Snl_NetworkTypes.ts","./Snl_Board.ts","./Snl_AudioManager.ts","./SNLRoomState.ts","./Snl_RoomTypes.ts","./MiloGameSDK.ts","./UIManager.ts"],(function(e){var t,n,a,o,s,i,r,l,c,S,u,h,m,_,d,C,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){a=e.cclegacy,o=e._decorator,s=e.EventTarget,i=e.Component},function(e){r=e.ConnectionStateChangeEvent,l=e.ServerRoomStateChangeEvent,c=e.SnlNetworkManager},function(e){S=e.SnlNetworkEvents,u=e.SnlConnectionState},function(e){h=e.SnlBoard},function(e){m=e.SnlAudioManager},function(e){_=e.SNLRoomState},function(e){d=e.Snl_RoomStatus},function(e){C=e.MiloGameSDK},function(e){g=e.UIManager}],execute:function(){var f,p;a._RF.push({},"8f941Mt23tMO4B9iQk2PiAH","Snl_GameManager",void 0);var v=o.ccclass,y=e("RoomStatusChangeEvent",new s);e("SnlGameManager",v("SnlGameManager")(((p=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this)._roomState=d.NONE,t._won=!1,t._handledGameOverCallbacks=!1,t._serverStateCopy=null,t._missTurnsToKickOut=3,t.miloSDK=new C,t.gameStartTime=0,t}t(a,e);var o=a.prototype;return o.onLoad=function(){null!=a._instance&&this.node.destroy(),a._instance=this,this.miloSDK.init({gameId:"snl-game",debug:!0}),this.sendGameLoaded(),r.on(S.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),l.on(S.SERVER_ROOM_STATE_CHANGE,this.onServerStateChange,this)},o.sendGameLoaded=function(){var e={timestamp:Date.now()};this.miloSDK.gameLoaded(e)},o.sendGameStarted=function(){this.gameStartTime=Date.now();var e={timestamp:this.gameStartTime};this.miloSDK.gameStarted(e)},o.sendGameEnded=function(){var e=this,t=Date.now(),n={duration:this.gameStartTime>0?t-this.gameStartTime:0,hasWinningScreen:!0};setTimeout((function(){e.miloSDK.gameEnded(n)}),2e3)},o.onConnectionStateChange=function(e,t){t==u.DISCONNECTED?this._roomState!=d.END_GAME&&c.Instance.reconnect():t==u.KICKED_OUT&&this.setState(d.KICKED_OUT)},o.setState=function(e){this.OnRemoteGameStateChange(e),this._roomState=e,y.emit(S.ROOM_STATUS_CHANGE,e)},o.onServerStateChange=function(e){null==this._serverStateCopy&&(this._serverStateCopy=new _,this._serverStateCopy.copyFrom(e),this._missTurnsToKickOut=this._serverStateCopy.gameOptions.MissTurnsToKickOut),e.currentRoomStatus==d.END_GAME&&(console.log("Game Over"),this._serverStateCopy=new _,this._serverStateCopy.copyFrom(e),this.handleWon(e)),this.setState(e.currentRoomStatus)},o.handleWon=function(e){var t=new _;t.copyFrom(e);var n=c.Instance.CurrentRoom.sessionId,a=t.playersData.findIndex((function(e){return e.sessionId==n}));if(-1!=a){for(var o=t.playersData[a].pieces,s=h.Instance.TotalPathCount(t.gameOptions),i=0;i<o.length;i++)o[i]==s&&(this._won=!0);this._won?(g.instance.showConfetti(),m.instance.playSound("Win")):m.instance.playSound("Lose")}},o.onDestroy=function(){this.cleanup()},o.cleanup=function(){r.off(S.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),l.off(S.SERVER_ROOM_STATE_CHANGE,this.onServerStateChange,this),a._instance===this&&(a._instance=null)},o.GetPlayerData=function(){return console.log("Player Profiles : ",this._serverStateCopy.playersData),this._serverStateCopy.playersData.find((function(e){return e.sessionId==c.Instance.CurrentRoom.sessionId}))},o.GetWinnerPlayerData=function(){for(var e=-1,t=0;t<this._serverStateCopy.playersData.length;t++)if(this._serverStateCopy.playersData[t].finishPosition>=0){e=t;break}return console.log("Winner Player Id : ",e),-1==e?null:this._serverStateCopy.playersData.find((function(t){return t.playerNumber==e}))},o.OnRemoteGameStateChange=function(e){console.log("RemoteGameStateChange Message : "+e),this._roomState!=e&&(this._roomState==d.NONE&&e==d.WAITING_FOR_PLAYERS||e==d.COUNTDOWN||(e==d.GAME_SIMULATION?this.sendGameStarted():e==d.END_GAME&&(this.sendGameEnded(),this.HandleGameOverCallbacks())))},o.HandleGameOverCallbacks=function(){console.log("HandleGameOverCallbacks"),this._handledGameOverCallbacks?console.log("Already handled game over callbacks"):this._handledGameOverCallbacks=!0},o.setInput=function(e){},n(a,null,[{key:"Instance",get:function(){return this._instance}}]),a}(i))._instance=null,f=p))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_GameMessageType.ts",["cc"],(function(e){var _;return{setters:[function(e){_=e.cclegacy}],execute:function(){_._RF.push({},"9decd10gftDqoJe/mgUT2az","Snl_GameMessageType",void 0);e("SnlGameMessageType",function(e){return e.NONE="none",e.SET_STATE="set_state",e.DICE_OUTCOME="dice_outcome",e.CLIENT_DICE_ROLL="client_dice_roll",e.MOVE_PIECE="move_piece",e.ROLLING_ACK="rolling_ack",e.MOVE_PIECE_ACK="move_piece_ack",e.WAITING_ACK="waiting_ack",e.KICKED_OUT="kicked_out",e.PLAYER_CAMEBACK="player_cameback",e}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_HowToPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts"],(function(t){var e,n,o,i,l,r,a,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Button,c=t.PageView},function(t){u=t.SnlMenu}],execute:function(){var p,s,y,f,g,h,w;l._RF.push({},"296caJJcldLUrOdusp7ig4x","Snl_HowToPlay",void 0);var d=r.ccclass,b=r.property;t("SnlHowToPlay",(p=d("SnlHowToPlay"),s=b({type:a}),y=b({type:c}),p((h=e((g=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,o(e,"nextButton",h,i(e)),o(e,"pageView",w,i(e)),e}n(e,t);var l=e.prototype;return l.onLoad=function(){t.prototype.onLoad.call(this)},l.onDestroy=function(){},l.Open=function(){t.prototype.Open.call(this)},l.Close=function(){t.prototype.Close.call(this)},l.initHandTween=function(){},l.onNextButtonClick=function(){this.log("Next button clicked"),this.pageView.scrollToPage(1)},e}(u)).prototype,"nextButton",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(g.prototype,"pageView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_IdleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Player.ts","./Snl_PlayerBaseState.ts"],(function(e){var t,a,n,r;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy},function(e){n=e.PlayerState},function(e){r=e.SnlPlayerBaseState}],execute:function(){a._RF.push({},"6b743sDeAhByp9my+GfwP/h","Snl_IdleState",void 0);e("SnlIdleState",function(e){function a(t){var a;return(a=e.call(this)||this).stateMachine=void 0,a._stateName=n.IDLE,a.player=void 0,a.stateMachine=t,a.player=a.stateMachine.player,a}t(a,e);var r=a.prototype;return r.enterState=function(){this.clearPlayerData()},r.updateState=function(e){},r.exitState=function(){},r.clearPlayerData=function(){this.player.timer.stop(),this.player.timer.reset(),this.player.outComesUIManager.setGoldenDiceOutcomes(0),this.player.outComesUIManager.clearAllOutComes(),this.player.outComesUIManager.enableOutComesBg(!1),this.player.dice.reset(),this.player.diceRoot.active=!1,null!=this.player._moveOptioneInput&&(this.player._moveOptioneInput.node.active=!1)},a}(r));a._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_InGameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts","./Snl_AudioManager.ts","./Snl_NetworkManager.ts","./Snl_NetworkTypes.ts","./UIManager.ts"],(function(t){var n,e,i,o,r,u,a,s,l,c,p,f,d,S;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.SpriteFrame,s=t.Sprite,l=t.Node},function(t){c=t.SnlMenu},function(t){p=t.SnlAudioManager},function(t){f=t.ServerRoomStateChangeEvent},function(t){d=t.SnlNetworkEvents},function(t){S=t.UIManager}],execute:function(){var h,g,y,_,m,v,M,b,A,B,O;r._RF.push({},"a2162SoADBGWarZh5FA49gB","Snl_InGameMenu",void 0);var w=u.ccclass,E=u.property;t("SnlInGameMenu",(h=w("SnlInGameMenu"),g=E({type:a}),y=E({type:a}),_=E({type:s}),m=E({type:l}),h((b=n((M=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,i(n,"soundOnSprite",b,o(n)),i(n,"soundOffSprite",A,o(n)),i(n,"soundButton",B,o(n)),i(n,"faqButton",O,o(n)),n}e(n,t);var r=n.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),f.on(d.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},r.onDestroy=function(){f.off(d.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},r.ServerStateChanged=function(t){this.soundButton.node.active=t.gameOptions.show_mute_button},r.start=function(){},r.Open=function(){console.log("InGameMenu open called"),t.prototype.Open.call(this),this.initialize()},r.Close=function(){t.prototype.Close.call(this)},r.initialize=function(){t.prototype.initialize.call(this),this.UpdateAudioSprite(),this.soundButton.node.active=S.instance.showMuteButton,this.faqButton.active=S.instance.showFAQ},r.UpdateAudioSprite=function(){"true"==p.instance.IsAudioEnabled?this.soundButton.spriteFrame=this.soundOnSprite:this.soundButton.spriteFrame=this.soundOffSprite},r.ToggleSound=function(){p.instance.ToggleAudio(),this.UpdateAudioSprite()},n}(c)).prototype,"soundOnSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(M.prototype,"soundOffSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(M.prototype,"soundButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(M.prototype,"faqButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_GameMessageType.ts"],(function(e){var n,t,i;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){i=e.SnlGameMessageType}],execute:function(){t._RF.push({},"90b03rmJTpJi74Y9Ym6KIHF","Snl_InputManager",void 0),e("SnlInputManager",function(){function e(){this._isInputGiven=!1,this._inputType=i.MOVE_PIECE,this._movedPieceIndex=-1}var t=e.prototype;return t.ResetInput=function(){this._isInputGiven=!1,this._inputType=i.MOVE_PIECE,this._movedPieceIndex=-1},t.SetInput=function(e,n){void 0===n&&(n=-1),this._isInputGiven=!0,this._inputType=e,this._movedPieceIndex=n},n(e,[{key:"IsInputGiven",get:function(){return this._isInputGiven}},{key:"InputType",get:function(){return this._inputType}},{key:"MovedPieceIndex",get:function(){return this._movedPieceIndex}}],[{key:"Instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_InstructionsScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts"],(function(n){var t,e,i,r,o,l,u,s,c;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,l=n._decorator,u=n.Node,s=n.tween},function(n){c=n.SnlMenu}],execute:function(){var a,p,f,y,b,h,g,v,I,S,z;o._RF.push({},"323427oA1NHOrzVll+3ZoDO","Snl_InstructionsScreen",void 0);var _=l.ccclass,d=l.property;n("SnlInstructionsScreen",(a=_("SnlInstructionsScreen"),p=d({type:u}),f=d({type:u}),y=d({type:u}),b=d({type:u}),a((v=t((g=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];return t=n.call.apply(n,[this].concat(o))||this,i(t,"helpInstructions",v,r(t)),i(t,"autoMoveInstructions",I,r(t)),i(t,"waitingForUser",S,r(t)),i(t,"spinner",z,r(t)),t._isHelpInstructionDone=!1,t._isAutoMoveInstructionDone=!1,t}e(t,n);var o=t.prototype;return o.onLoad=function(){n.prototype.onLoad.call(this),s(this.spinner).repeatForever(s().by(1,{angle:360})).start()},o.onDestroy=function(){},o.Open=function(){n.prototype.Open.call(this),this.initialization()},o.Close=function(){n.prototype.Close.call(this)},o.initialization=function(){},t}(c)).prototype,"helpInstructions",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(g.prototype,"autoMoveInstructions",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(g.prototype,"waitingForUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(g.prototype,"spinner",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_KickedOutScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts","./Snl_GameManager.ts"],(function(e){var n,t,i,r,o,c,u,a,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,u=e.Label},function(e){a=e.SnlMenu},function(e){l=e.SnlGameManager}],execute:function(){var s,p,f,d,k;o._RF.push({},"fd780+uGGxGLrb+sG3j/mKp","Snl_KickedOutScreen",void 0);var y=c.ccclass,S=c.property;e("SnlKickedOutScreen",(s=y("SnlKickedOutScreen"),p=S({type:u}),s((k=n((d=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,i(n,"kickedOutLabel",k,r(n)),n}t(n,e);var o=n.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this)},o.onDestroy=function(){},o.Open=function(){e.prototype.Open.call(this),this.kickedOutLabel.string="You missed "+l.Instance._missTurnsToKickOut+" turns. kicked out of the game!"},o.Close=function(){e.prototype.Close.call(this)},o.initHandTween=function(){},o.update=function(e){},n}(a)).prototype,"kickedOutLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_Menu.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,o,r,l,c,a,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.Node,a=e.CCString,u=e.Component}],execute:function(){var s,p,f,h,d,y,m;r._RF.push({},"280f3m/n5ZISY1kYV9kzuwD","Snl_Menu",void 0);var g=l.ccclass,v=l.property;e("SnlMenu",(s=g("SnlMenu"),p=v({type:c}),f=v({type:a}),s((y=n((d=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=e.call.apply(e,[this].concat(r))||this,i(n,"content",y,o(n)),i(n,"menuName",m,o(n)),n.isOpened=!1,n}t(n,e);var r=n.prototype;return r.onLoad=function(){this.content=this.node.getChildByName("Content")},r.Open=function(){this.content.active=!0,this.isOpened=!0},r.Close=function(){this.content.active=!1,this.isOpened=!1},r.initialize=function(){console.log("Menu initialize called")},n}(u)).prototype,"content",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(d.prototype,"menuName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_MiloLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,a,o,s,c,r,h,T,u,p,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,c=t._decorator,r=t.Enum,h=t.Size,T=t.Node,u=t.Vec3,p=t.UITransform,_=t.Component}],execute:function(){var l,d,E,g,y,f,O,C,R,L,m,v,N,I,H;s._RF.push({},"074a0/fIGpEnrPANvPQz6du","Snl_MiloLayout",void 0);var b=c.ccclass,A=c.property,w=t("MiloLayoutType",function(t){return t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID",t}({})),M=t("MiloLayoutAlign",function(t){return t[t.LEFT_TOP=0]="LEFT_TOP",t[t.CENTER_TOP=1]="CENTER_TOP",t[t.RIGHT_TOP=2]="RIGHT_TOP",t[t.LEFT_CENTER=3]="LEFT_CENTER",t[t.CENTER=4]="CENTER",t[t.RIGHT_CENTER=5]="RIGHT_CENTER",t[t.LEFT_BOTTOM=6]="LEFT_BOTTOM",t[t.CENTER_BOTTOM=7]="CENTER_BOTTOM",t[t.RIGHT_BOTTOM=8]="RIGHT_BOTTOM",t}({}));t("SnlMiloLayout",(l=b("SnlMiloLayout"),d=A({type:r(w)}),E=A({type:r(w)}),g=A({type:r(M)}),y=A({type:r(M)}),f=A({visible:function(){return this._layoutType===w.GRID}}),l((R=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_layoutType",R,a(e)),n(e,"_alignment",L,a(e)),n(e,"_spacingX",m,a(e)),n(e,"_spacingY",v,a(e)),n(e,"_columns",N,a(e)),n(e,"_padding",I,a(e)),n(e,"_autoResize",H,a(e)),e._activeChildCount=0,e._layoutSize=new h(0,0),e._lastChildActiveState=[],e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.node.on(T.EventType.CHILD_ADDED,this.onChildAdded,this),this.node.on(T.EventType.CHILD_REMOVED,this.onChildRemoved,this)},s.onDestroy=function(){this.node.off(T.EventType.CHILD_ADDED,this.onChildAdded,this),this.node.off(T.EventType.CHILD_REMOVED,this.onChildRemoved,this),this.removeAllChildListeners()},s.onChildRemoved=function(t){this.removeChildListener(t),this.updateLayout()},s.removeAllChildListeners=function(){},s.removeChildListener=function(t){t.__miloLayoutActiveHandler&&(t.off(T.EventType.ACTIVE_IN_HIERARCHY_CHANGED,t.__miloLayoutActiveHandler),t.__miloLayoutActiveHandler=null)},s.start=function(){this._lastChildActiveState=this.node.children.map((function(t){return t.active})),this.updateLayout(),this.addChildActiveListeners()},s.addChildActiveListeners=function(){var t=this;this.node.children.forEach((function(e){t.addChildActiveListener(e)}))},s.addChildActiveListener=function(t){var e=this;t.off(T.EventType.ACTIVE_IN_HIERARCHY_CHANGED,this.onChildActiveChanged,this);var i=function(){e.scheduleOnce((function(){e.updateLayout()}),0)};t.__miloLayoutActiveHandler=i,t.on(T.EventType.ACTIVE_IN_HIERARCHY_CHANGED,i)},s.onChildActiveChanged=function(t){},s.onEnable=function(){this.updateLayout()},s.getAlignmentOffset=function(t){var e,i=new u,n=(null==(e=this.node.getComponent(p))?void 0:e.contentSize)||new h(0,0);switch(this._alignment){case M.LEFT_TOP:case M.LEFT_CENTER:case M.LEFT_BOTTOM:i.x=this._padding;break;case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:i.x=(n.width-t.width)/2;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:i.x=n.width-t.width-this._padding}switch(this._alignment){case M.LEFT_TOP:case M.CENTER_TOP:case M.RIGHT_TOP:i.y=-this._padding;break;case M.LEFT_CENTER:case M.CENTER:case M.RIGHT_CENTER:i.y=-(n.height-t.height)/2;break;case M.LEFT_BOTTOM:case M.CENTER_BOTTOM:case M.RIGHT_BOTTOM:i.y=-n.height+t.height+this._padding}return i},s.updateLayout=function(){if(this.node){var t=this.node.children.filter((function(t){return t.active}));if(this._activeChildCount=t.length,0!==this._activeChildCount)switch(this._layoutType){case w.HORIZONTAL:this.updateHorizontalLayout(t);break;case w.VERTICAL:this.updateVerticalLayout(t);break;case w.GRID:this.updateGridLayout(t)}}},s.updateHorizontalLayout=function(t){var e=this,i=2*this._padding,n=0;t.forEach((function(a,o){var s=a.getComponent(p);s&&(i+=s.width,o<t.length-1&&(i+=e._spacingX),n=Math.max(n,s.height))}));var a=new h(i,n+2*this._padding),o=this.getAlignmentOffset(a),s=o.x;if(t.forEach((function(t){var i=t.getComponent(p);if(i){var a=i.height,c=i.width,r=o.y;switch(e._alignment){case M.LEFT_TOP:case M.CENTER_TOP:case M.RIGHT_TOP:r=o.y-e._padding;break;case M.LEFT_CENTER:case M.CENTER:case M.RIGHT_CENTER:r=o.y-(n-a)/2;break;case M.LEFT_BOTTOM:case M.CENTER_BOTTOM:case M.RIGHT_BOTTOM:r=o.y-n+a}t.position=new u(s+c/2,r-a/2,0),s+=c+e._spacingX}})),this._layoutSize=a,this._autoResize){var c=this.node.getComponent(p);c&&c.setContentSize(a)}},s.updateVerticalLayout=function(t){var e=this,i=2*this._padding,n=0;t.forEach((function(a,o){var s=a.getComponent(p);s&&(i+=s.height,o<t.length-1&&(i+=e._spacingY),n=Math.max(n,s.width))}));var a=new h(n+2*this._padding,i),o=this.getAlignmentOffset(a),s=o.y;if(t.forEach((function(t){var i=t.getComponent(p);if(i){var a=i.height,c=i.width,r=o.x;switch(e._alignment){case M.LEFT_TOP:case M.LEFT_CENTER:case M.LEFT_BOTTOM:r=o.x+e._padding;break;case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:r=o.x+(n-c)/2+e._padding;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:r=o.x+n-c+e._padding}t.position=new u(r+c/2,s-a/2,0),s-=a+e._spacingY}})),this._layoutSize=a,this._autoResize){var c=this.node.getComponent(p);c&&c.setContentSize(a)}},s.updateGridLayout=function(t){if(!(this._columns<=0)){var e=Math.ceil(t.length/this._columns),i=0,n=0;t.forEach((function(t){var e=t.getComponent(p);e&&(i=Math.max(i,e.width),n=Math.max(n,e.height))}));for(var a=2*this._padding+i*this._columns+this._spacingX*(this._columns-1),o=2*this._padding+n*e+this._spacingY*(e-1),s=new h(a,o),c=this.getAlignmentOffset(s),r=0;r<e;r++){var T=Math.min(this._columns,t.length-r*this._columns),_=T*i+(T-1)*this._spacingX,l=0;switch(this._alignment){case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:l=(this._columns*i+(this._columns-1)*this._spacingX-_)/2;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:l=this._columns*i+(this._columns-1)*this._spacingX-_}for(var d=0;d<T;d++){var E=r*this._columns+d;if(E>=t.length)break;var g=t[E],y=g.getComponent(p);if(y){var f=y.width,O=y.height,C=c.x+this._padding+d*(i+this._spacingX)+l,R=c.y-this._padding-r*(n+this._spacingY),L=C,m=R;switch(this._alignment){case M.LEFT_TOP:case M.LEFT_CENTER:case M.LEFT_BOTTOM:L=C;break;case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:L=C+(i-f)/2;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:L=C+i-f}switch(this._alignment){case M.LEFT_TOP:case M.CENTER_TOP:case M.RIGHT_TOP:m=R;break;case M.LEFT_CENTER:case M.CENTER:case M.RIGHT_CENTER:m=R-(n-O)/2;break;case M.LEFT_BOTTOM:case M.CENTER_BOTTOM:case M.RIGHT_BOTTOM:m=R-n+O}g.position=new u(L+f/2,m-O/2,0)}}}if(this._layoutSize=s,this._autoResize){var v=this.node.getComponent(p);v&&v.setContentSize(s)}}},s.update=function(t){if(this.node&&this.node.children.length>0){var e=this.node.children.map((function(t){return t.active})),i=!1;if(this._lastChildActiveState.length!==e.length)i=!0;else for(var n=0;n<e.length;n++)if(this._lastChildActiveState[n]!==e[n]){i=!0;break}i&&(this._lastChildActiveState=e,this.updateLayout())}},s.onChildAdded=function(t){this.addChildActiveListener(t),this.updateLayout()},o(e,[{key:"layoutType",get:function(){return this._layoutType},set:function(t){this._layoutType=t,this.updateLayout()}},{key:"alignment",get:function(){return this._alignment},set:function(t){this._alignment=t,this.updateLayout()}},{key:"spacingX",get:function(){return this._spacingX},set:function(t){this._spacingX=t,this.updateLayout()}},{key:"spacingY",get:function(){return this._spacingY},set:function(t){this._spacingY=t,this.updateLayout()}},{key:"columns",get:function(){return this._columns},set:function(t){this._columns=t,this.updateLayout()}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding=t,this.updateLayout()}},{key:"autoResize",get:function(){return this._autoResize},set:function(t){this._autoResize=t,this.updateLayout()}}]),e}(_)).prototype,"_layoutType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.HORIZONTAL}}),e(C.prototype,"layoutType",[E],Object.getOwnPropertyDescriptor(C.prototype,"layoutType"),C.prototype),L=e(C.prototype,"_alignment",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.LEFT_TOP}}),e(C.prototype,"alignment",[y],Object.getOwnPropertyDescriptor(C.prototype,"alignment"),C.prototype),m=e(C.prototype,"_spacingX",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(C.prototype,"spacingX",[A],Object.getOwnPropertyDescriptor(C.prototype,"spacingX"),C.prototype),v=e(C.prototype,"_spacingY",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(C.prototype,"spacingY",[A],Object.getOwnPropertyDescriptor(C.prototype,"spacingY"),C.prototype),N=e(C.prototype,"_columns",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),e(C.prototype,"columns",[f],Object.getOwnPropertyDescriptor(C.prototype,"columns"),C.prototype),I=e(C.prototype,"_padding",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(C.prototype,"padding",[A],Object.getOwnPropertyDescriptor(C.prototype,"padding"),C.prototype),H=e(C.prototype,"_autoResize",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(C.prototype,"autoResize",[A],Object.getOwnPropertyDescriptor(C.prototype,"autoResize"),C.prototype),O=C))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_MoveOptionsInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_PlayerAssets.ts","./Snl_CameraManger.ts"],(function(t){var e,i,o,n,r,s,u,l,c,a,C,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,u=t.Sprite,l=t.Node,c=t.UITransform,a=t.Vec3,C=t.Component},function(t){p=t.SnlPlayerAssets},function(t){h=t.SnlCameraManger}],execute:function(){var m,d,S,f,O,T,y,k,g,v,b,U,_;r._RF.push({},"57a2bIGh8lM7qLp8vSOmTjE","Snl_MoveOptionsInput",void 0);var I=s.ccclass,w=s.property;t("SnlMoveOptionsInput",(m=I("SnlMoveOptionsInput"),d=w({type:u}),S=w({type:u}),f=w({type:u}),O=w({type:l}),T=w({type:c}),m((g=e((k=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"firstOutComeSprite",g,n(e)),o(e,"secondOutComeSprite",v,n(e)),o(e,"thirdOutComeSprite",b,n(e)),e.outComeValues=[6,6,6],o(e,"pointer",U,n(e)),e.outComeClickedCallback=null,e.uiTransform=null,o(e,"optionsUITransform",_,n(e)),e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.uiTransform=this.node.getComponent(c)},r.onEnable=function(){this.firstOutComeSprite.node.on(l.EventType.TOUCH_START,this.onFirstOutComeClick,this),this.secondOutComeSprite.node.on(l.EventType.TOUCH_START,this.onSecondOutComeClick,this),this.thirdOutComeSprite.node.on(l.EventType.TOUCH_START,this.onThirdOutComeClick,this)},r.onDisable=function(){this.firstOutComeSprite.node.off(l.EventType.TOUCH_START,this.onFirstOutComeClick,this),this.secondOutComeSprite.node.off(l.EventType.TOUCH_START,this.onSecondOutComeClick,this),this.thirdOutComeSprite.node.off(l.EventType.TOUCH_START,this.onThirdOutComeClick,this)},r.onDestroy=function(){this.cleanup()},r.cleanup=function(){this.firstOutComeSprite&&this.firstOutComeSprite.node&&this.firstOutComeSprite.node.off(l.EventType.TOUCH_START,this.onFirstOutComeClick,this),this.secondOutComeSprite&&this.secondOutComeSprite.node&&this.secondOutComeSprite.node.off(l.EventType.TOUCH_START,this.onSecondOutComeClick,this),this.thirdOutComeSprite&&this.thirdOutComeSprite.node&&this.thirdOutComeSprite.node.off(l.EventType.TOUCH_START,this.onThirdOutComeClick,this)},r.setOutComeSprites=function(t){this.outComeValues=t,t.length>=1&&(this.firstOutComeSprite.spriteFrame=p.instance.getDiceOutComesStackSprite(this.outComeValues[0])),t.length>=2?(console.log("Setting Second OutCome"),this.secondOutComeSprite.node.active=!0,this.secondOutComeSprite.spriteFrame=p.instance.getDiceOutComesStackSprite(this.outComeValues[1])):this.secondOutComeSprite.node.active=!1,t.length>=3?(console.log("Setting Third OutCome"),this.thirdOutComeSprite.node.active=!0,this.thirdOutComeSprite.spriteFrame=p.instance.getDiceOutComesStackSprite(this.outComeValues[2])):this.thirdOutComeSprite.node.active=!1},r.onFirstOutComeClick=function(){null!=this.outComeClickedCallback&&this.outComeClickedCallback(this.outComeValues[0])},r.onSecondOutComeClick=function(){null!=this.outComeClickedCallback&&this.outComeClickedCallback(this.outComeValues[1])},r.onThirdOutComeClick=function(){null!=this.outComeClickedCallback&&this.outComeClickedCallback(this.outComeValues[2])},r.SetPosition=function(t){this.node.setWorldPosition(t);var e=h.instance.getWidth(),i=this.optionsUITransform.node.position;i.set(0,7.5,0),console.log("setting worldPosintion : ",t);var o=t.x-.5*this.optionsUITransform.width,n=t.x+.5*this.optionsUITransform.width;o<0?(console.log("My X Left Bound: ",o,"Screen Width: ",e),i.add(new a(.5*this.optionsUITransform.width-45,0,0))):n>e&&(console.log("My X Right Bound: ",n,"Screen Width: ",e),i.add(new a(.5*-this.optionsUITransform.width+45,0,0))),this.optionsUITransform.node.setPosition(i)},e}(C)).prototype,"firstOutComeSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(k.prototype,"secondOutComeSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(k.prototype,"thirdOutComeSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(k.prototype,"pointer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(k.prototype,"optionsUITransform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_MovePieceState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Player.ts","./Snl_PlayerBaseState.ts","./Snl_Piece.ts","./Snl_GameMessageType.ts","./Snl_GameManager.ts","./Snl_NetworkManager.ts"],(function(e){var t,n,i,a,o,r,s,l,c,p;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e.Node,a=e.Vec3},function(e){o=e.PlayerState},function(e){r=e.SnlPlayerBaseState},function(e){s=e.SnlPiece},function(e){l=e.SnlGameMessageType},function(e){c=e.SnlGameManager},function(e){p=e.SnlNetworkManager}],execute:function(){n._RF.push({},"41da4EV04xLZIopQqU1Qqt5","Snl_MovePieceState",void 0);e("SnlMovePieceState",function(e){function n(t){var n;return(n=e.call(this)||this).stateMachine=void 0,n._stateName=o.MOVING_PIECE,n.player=void 0,n.moveOptionsOffset=new a(0,120,0),n.stateMachine=t,n.player=n.stateMachine.player,n}t(n,e);var r=n.prototype;return r.enterState=function(){console.log("Entered Moving Piece State"),console.log("Rolls : ",this.player.outComesUIManager.getOutComes());var e=this.stateMachine.currentServerState.playersData[this.player.playerNumber];this.player.outComesUIManager.reset(e.rollsList),this.player.diceRoot.active=!0,this.player.timer.stop(),this.player.timer.setTotalTime(this.stateMachine.currentServerState.gameOptions.movePiecesWaitTime),this.player.timer.run(),this.player._pawnHandler.StartSelectAnimationsForValidMovePieces();for(var t=0;t<this.player.pawns.length;t++)this.player.pawns[t].node.on(i.EventType.TOUCH_START,this.OnPieceClick,this)},r.updateState=function(e){},r.exitState=function(){console.log("Exited Move Piece State local ",this.player._isLocal),this.player.diceRoot.active=!1,this.player.timer.stop(),this.player._pawnHandler.Reset(this.stateMachine.currentServerState);for(var e=0;e<this.player.pawns.length;e++)this.player.pawns[e].node.off(i.EventType.TOUCH_START,this.OnPieceClick,this)},r.getAllMovablePieces=function(){for(var e,t=this,n=[],i=this.player.outComesUIManager.getOutComes(),a=function(a){e=i.filter((function(e){return t.canMovePiece(t.player.pawns[a].pathNumber,e)})),(e=Array.from(new Set(e))).length>0&&n.push(t.player.pawns[a])},o=0;o<this.player.pawns.length;o++)a(o);return n},r.OnPieceClick=function(e){var t=this;if(this.player._isLocal)if(this.player._pawnHandler.isAnimating())this.player._moveOptioneInput.node.active=!1;else{this.player._moveOptioneInput.node.active=!1;var n=e.target.getComponent(s),i=this.player.outComesUIManager.getOutComes().filter((function(e){return t.canMovePiece(n.pathNumber,e)}));if(i=Array.from(new Set(i)),console.log("Piece Valid OutComes: ",i),0!=i.length)return 1==i.length&&this.sendMovePieceMessage(n.pieceNumber,i[0]),i.length>=2?(this.player._moveOptioneInput.node.active=!0,this.player._moveOptioneInput.outComeClickedCallback=this.outComeClickedCallback.bind(this),this.player._moveOptioneInput.setOutComeSprites(i),this.player._currentSelectedPieceNumber=n.pieceNumber,void this.player._moveOptioneInput.SetPosition(e.target.worldPosition.clone().add(this.moveOptionsOffset))):void 0}},r.onMovePiece=function(){var e=JSON.parse(this.stateMachine.currentServerState.inputPayload.inputValue);console.log("Move Piece From Server: ",e);var t=e.pieceIndex,n=e.rollValue;this.player.timer.stop(),this.player._moveOptioneInput.node.active=!1,this.player._pawnHandler.movePiece(t,n,!0)},r.canMovePiece=function(e,t){var n=this.player._gameOptions;return(0!=e||6==t)&&!(e+t>this.TotalPathCount(n))},r.TotalPathCount=function(e){return e.boardTilesCount},r.sendMovePieceMessage=function(e,t){c.Instance.setInput("MovePiece"),p.Instance.CurrentRoom.send(l.MOVE_PIECE,JSON.stringify({pieceIndex:e,rollValue:t})),console.log("Move Piece Message Sent : ","piece ",e,"with roll value ",t)},r.outComeClickedCallback=function(e){this.sendMovePieceMessage(this.player._currentSelectedPieceNumber,e),this.player._moveOptioneInput.node.active=!1,this.player._currentSelectedPieceNumber=-1},r.reset=function(){this.exitState()},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_NetworkConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_PBLogger.ts"],(function(e){var r,t,o,i,n,a,s,u,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.sys,u=e.Component},function(e){l=e.SnlPBLogger}],execute:function(){var f,c,p,g,d,m,h,v,S,y,b,P,I,w,C;n._RF.push({},"4c7ffh7Y1pBd67s2Y5vw4dv","Snl_NetworkConfig",void 0);var L=a.ccclass,N=a.property;e("SnlNetworkConfig",(f=L("SnlNetworkConfig"),c=N({tooltip:"Server host address"}),p=N({tooltip:"Server port number"}),g=N({tooltip:"Use SSL for connections"}),d=N({tooltip:"Player identifier"}),m=N({tooltip:"Room identifier"}),h=N({tooltip:"Name of the game"}),f((y=r((S=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,o(r,"serverHost",y,i(r)),o(r,"serverPort",b,i(r)),o(r,"useSSL",P,i(r)),o(r,"userId",I,i(r)),o(r,"roomId",w,i(r)),o(r,"gameName",C,i(r)),r}t(r,e);var n=r.prototype;return n.initNetworkConfig=function(){if(s.isBrowser){var e=new URLSearchParams(window.location.search),r="true"===e.get("debug");l.debug("Initializing network config (debug="+r+")"),r?this.parseQueryParams(e):this.parseInjectedConfig(),l.debug("Final network config:",{serverHost:this.serverHost,serverPort:this.serverPort,useSSL:this.useSSL,userId:this.userId,roomId:this.roomId,gameName:this.gameName})}},n.parseQueryParams=function(e){var r=this;l.debug("Parsing config from query parameters"),this.updateConfigFromQueryParam(e,"userId",(function(e){return r.userId=e})),this.updateConfigFromQueryParam(e,"roomId",(function(e){return r.roomId=e})),this.updateConfigFromQueryParam(e,"apiUrl",(function(e){return r.serverHost=e})),this.updateConfigFromQueryParam(e,"apiPort",(function(e){var t=parseInt(e);isNaN(t)||(r.serverPort=t)})),this.updateConfigFromQueryParam(e,"useSSL",(function(e){return r.useSSL="true"===e}))},n.parseInjectedConfig=function(){l.debug("Parsing config from injected GameConfig");try{var e=window.GameConfig;if(!e)return void l.debug("No injected GameConfig found");var r="string"==typeof e?JSON.parse(e):e;this.applyConfig(r)}catch(e){l.debug("Failed to parse injected GameConfig:",e)}},n.applyConfig=function(e){var r,t,o,i,n;e&&(this.userId=null!=(r=e.userId)?r:this.userId,this.roomId=null!=(t=e.roomId)?t:this.roomId,this.serverHost=null!=(o=e.apiUrl)?o:this.serverHost,this.serverPort=Number(null!=(i=e.apiPort)?i:this.serverPort),this.useSSL=null!=(n=e.useSSL)?n:this.useSSL)},n.updateConfigFromQueryParam=function(e,r,t){var o=e.get(r);null!=o&&t(o)},r}(u)).prototype,"serverHost",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"localhost"}}),b=r(S.prototype,"serverPort",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2567}}),P=r(S.prototype,"useSSL",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=r(S.prototype,"userId",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=r(S.prototype,"roomId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"testroom1"}}),C=r(S.prototype,"gameName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Pictionary"}}),v=S))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_NetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./colyseus.mjs_cjs=&original=.js","./Snl_NetworkTypes.ts","./Snl_PlayerTypes.ts","./Snl_PbSaveSystem.ts","./Snl_NetworkConfig.ts","./Snl_PBLogger.ts","./colyseus.js"],(function(n){var t,e,o,i,r,a,s,c,l,h,u,f,g,m,d,p,C,_,v,k,S;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized,r=n.extends,a=n.createClass,s=n.asyncToGenerator,c=n.regeneratorRuntime},function(n){l=n.cclegacy,h=n._decorator,u=n.EventTarget,f=n.CCBoolean,g=n.Component},null,function(n){m=n.SnlConnectionState,d=n.SnlNetworkEvents,p=n.SnlServerMessageType},function(n){C=n.Snl_PlayerType},function(n){_=n.SnlPbSaveSystem},function(n){v=n.SnlNetworkConfig},function(n){k=n.SnlPBLogger},function(n){S=n.default}],execute:function(){var w,y,N,D,R,E,I,T;l._RF.push({},"98ff6lgDH1NyKL9cGbzig4G","Snl_NetworkManager",void 0);var b=h.ccclass,M=h.property,x={roomId:"testroom1",reconnectionToken:"eyJ"},O=n("ConnectionStateChangeEvent",new u),P=n("ServerRoomStateChangeEvent",new u),z=n("ServerMessageEvent",new u);n("SnlNetworkManager",(w=b("SnlNetworkManager"),y=M({type:f,tooltip:"Enable development mode for additional logging"}),N=M({type:v,tooltip:"Network configuration settings"}),w(((T=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t=n.call.apply(n,[this].concat(a))||this,o(t,"isDevMode",E,i(t)),o(t,"networkConfig",I,i(t)),t._client=void 0,t._room=void 0,t._currentConnectionState=m.INITIALIZING,t._reconnectionData=r({},x),t}e(t,n);var l=t.prototype;return l.onLoad=function(){t._instance&&(this.log("NetworkManager instance already exists. Destroying duplicate."),this.node.destroy()),t._instance=this,this.networkConfig.initNetworkConfig(),this.isDevMode||k.setProductionMode(!0)},l.start=function(){this.initializeClient(),k.info("============ Initializing client ========="),k.info("============ Connecting to room ========="),this.connect(this.networkConfig.roomId,this.networkConfig.userId)},l.initializeClient=function(){var n=this.networkConfig.useSSL?"wss":"ws",t="";t=0==this.networkConfig.serverPort?n+"://"+this.networkConfig.serverHost:n+"://"+this.networkConfig.serverHost+":"+this.networkConfig.serverPort,this.log("Initializing client with endpoint: "+t),this._client=new S.Client(t)},l.shouldRejoin=function(){return!this.isDevMode&&(this._reconnectionData=_.LoadData(this.networkConfig.gameName),!!(this._reconnectionData&&this._reconnectionData.roomId&&this._reconnectionData.reconnectionToken)&&this._reconnectionData.roomId===this.networkConfig.roomId)},l.connect=function(){var n=s(c().mark((function n(t,e){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(k.info("============ Connecting to room from connect function ========="),this.updateConnectionState(m.CONNECTING),!this.shouldRejoin()){n.next=7;break}return this.log("Rejoining room",t),n.next=6,this.rejoin();case 6:return n.abrupt("return");case 7:return n.prev=7,o=this.createPlayerData(e),this.log("Joining with options ",{player:o}),n.next=12,this._client.joinById(t,{player:o});case 12:this._room=n.sent,this.initAfterJoin(t),n.next=20;break;case 16:throw n.prev=16,n.t0=n.catch(7),this.handleConnectionError(n.t0),n.t0;case 20:case"end":return n.stop()}}),n,this,[[7,16]])})));return function(t,e){return n.apply(this,arguments)}}(),l.initAfterJoin=function(n){this.updateConnectionState(m.JOINED_ROOM),this.log("Joined room "+n+" with sessionId: "+this._room.sessionId),this.initializeRoomCallbacks(),this.saveReconnectionData()},l.createAndJoinRoom=function(){var n=s(c().mark((function n(t,e){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.log("Creating room",t),this.updateConnectionState(m.CONNECTING),n.prev=2,o=this.createPlayerData(e),n.next=6,this._client.create("PictionaryRoom",{roomId:t,player:o,roomSettings:{maxClients:10}});case 6:this._room=n.sent,this.initAfterJoin(t),n.next=14;break;case 10:throw n.prev=10,n.t0=n.catch(2),this.handleConnectionError(n.t0),n.t0;case 14:case"end":return n.stop()}}),n,this,[[2,10]])})));return function(t,e){return n.apply(this,arguments)}}(),l.createPlayerData=function(n){return{userId:n,name:n,avatar:"randomProfilePicture",type:C.HUMAN}},l.initializeRoomCallbacks=function(){var n=this;console.log("============ Initializing room callbacks ========="),this._room?(this._room.onStateChange((function(n){P.emit(d.SERVER_ROOM_STATE_CHANGE,n)})),this._room.onLeave((function(t){4001===t?n.updateConnectionState(m.KICKED_OUT):n.updateConnectionState(m.DISCONNECTED)})),this._room.onMessage(p.KICKED_OUT,(function(){n.updateConnectionState(m.KICKED_OUT)})),this._room.onMessage("*",(function(n,t){z.emit(d.SERVER_MESSAGE,n,t)}))):this.log("Cannot initialize callbacks: Room is not defined")},l.updateConnectionState=function(n){if(this._currentConnectionState!==n){var t=this._currentConnectionState;this._currentConnectionState=n,this.log("Connection state changed: "+m[t]+" -> "+m[n]),O.emit(d.CONNECTION_STATE_CHANGE,t,n)}},l.reconnect=function(){var n=s(c().mark((function n(t,e,o){var i,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t&&(t=1),void 0===e&&(e=10),void 0===o&&(o=2e3),this._currentConnectionState===m.DISCONNECTED||this._currentConnectionState===m.RECONNECTING){n.next=6;break}return this.log("Cannot reconnect: Current state is "+m[this._currentConnectionState]),n.abrupt("return");case 6:return this._room&&this._room.state&&(i=this._room.state).roomSettings&&i.roomSettings.maxReconnectionAttempts&&(e=i.roomSettings.maxReconnectionAttempts),this.updateConnectionState(m.RECONNECTING),this.log("Reconnect attempt "+t+"/"+e),n.prev=9,n.next=12,this.delay(o);case 12:if(this._room&&this._room.reconnectionToken){n.next=14;break}throw new Error("Reconnection token not available");case 14:return n.next=16,this._client.reconnect(this._room.reconnectionToken);case 16:r=n.sent,this._room=r,this.saveReconnectionData(),this.initializeRoomCallbacks(),this.updateConnectionState(m.JOINED_ROOM),this.log("Reconnected successfully."),n.next=27;break;case 24:n.prev=24,n.t0=n.catch(9),this.handleReconnectionError(n.t0,t,e,o);case 27:case"end":return n.stop()}}),n,this,[[9,24]])})));return function(t,e,o){return n.apply(this,arguments)}}(),l.rejoin=function(){var n=s(c().mark((function n(t,e,o){var i,r;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return void 0===t&&(t=1),void 0===e&&(e=10),void 0===o&&(o=2e3),this.log("Rejoin attempt "+t+"/"+e),n.prev=4,n.next=7,this.delay(o);case 7:if(this._reconnectionData&&this._reconnectionData.reconnectionToken){n.next=9;break}throw new Error("Reconnection data not available");case 9:return i=this._reconnectionData.roomId+":"+this._reconnectionData.reconnectionToken,k.info("Using formatted reconnection token: ",i),n.next=13,this._client.reconnect(i);case 13:r=n.sent,this._room=r,this.saveReconnectionData(),this.initializeRoomCallbacks(),this.updateConnectionState(m.JOINED_ROOM),this.log("Rejoined successfully."),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(4),this.handleReconnectionError(n.t0,t,e,o,"reJoin");case 24:case"end":return n.stop()}}),n,this,[[4,21]])})));return function(t,e,o){return n.apply(this,arguments)}}(),l.delay=function(){var n=s(c().mark((function n(t){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){return setTimeout(n,t)})));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),l.handleConnectionError=function(n){var t=(null==n?void 0:n.message)||"Unknown error";this.log("Error connecting to room:",t),this.updateConnectionState(m.DISCONNECTED)},l.handleReconnectionError=function(n,t,e,o,i){void 0===i&&(i="reconnect");var r=(null==n?void 0:n.message)||"Unknown error";this.log(i+" attempt "+t+" failed:",r),t<e||-1===e?"reconnect"===i?this.reconnect(t+1,e,o):this.rejoin(t+1,e,o):(this.log("Max reconnection attempts reached. Please check your network or contact support."),this.updateConnectionState(m.NOT_FOUND))},l.saveReconnectionData=function(){if(k.info("============ Saving reconnection data ========="),this._room&&this._room.reconnectionToken){var n=this._room.reconnectionToken;n.includes(":")&&(n=n.split(":")[1]),k.info("saving Reconnection token: ",n),this._reconnectionData={roomId:this.networkConfig.roomId,reconnectionToken:n},_.SaveData(this.networkConfig.gameName,this._reconnectionData),k.info("Reconnection data saved")}else this.log("Cannot save reconnection data: Room or reconnection token not available")},l.leaveRoom=function(){var n=this;this._room?(this.log("Leaving room"),this._room.leave(!0).then((function(){return n.log("Left room successfully")})).catch((function(t){return n.log("Error leaving room:",(null==t?void 0:t.message)||"Unknown error")}))):this.log("Cannot leave room: Room is not defined")},l.getMySessionId=function(){return this._room.sessionId},l.sendMessage=function(n,t){this._room?(this.isDevMode&&this.log("Sending message:",n,t),this._room.send(n,t)):this.log("Cannot send message: Room is not defined")},l.log=function(n){if(this.isDevMode){for(var t=arguments.length,e=new Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];e.length>0?k.info.apply(k,["[NetworkManager] "+n].concat(e)):k.info("[NetworkManager] "+n)}},l.onDestroy=function(){this.cleanup()},l.cleanup=function(){this._room&&(this.leaveRoom(),this._room=null),this._client&&(this._client=null),this._currentConnectionState=m.INITIALIZING,this._reconnectionData=r({},x),t._instance===this&&(t._instance=null)},a(t,[{key:"CurrentRoom",get:function(){return this._room}},{key:"CurrentConnectionState",get:function(){return this._currentConnectionState}}],[{key:"Instance",get:function(){if(!this._instance)throw new Error("NetworkManager instance is not initialized.");return this._instance}}]),t}(g))._instance=null,E=t((R=T).prototype,"isDevMode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(R.prototype,"networkConfig",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=R))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_NetworkTypes.ts",["cc"],(function(E){var N;return{setters:[function(E){N=E.cclegacy}],execute:function(){N._RF.push({},"d69fb2gpsFAE6I6fpxonvnR","Snl_NetworkTypes",void 0);E("SnlNetworkEvents",function(E){return E[E.SERVER_ROOM_STATE_CHANGE=0]="SERVER_ROOM_STATE_CHANGE",E[E.CONNECTION_STATE_CHANGE=1]="CONNECTION_STATE_CHANGE",E[E.ROOM_STATUS_CHANGE=2]="ROOM_STATUS_CHANGE",E[E.SERVER_MESSAGE=3]="SERVER_MESSAGE",E}({})),E("SnlConnectionState",function(E){return E[E.INITIALIZING=0]="INITIALIZING",E[E.CONNECTING=1]="CONNECTING",E[E.CONNECTED=2]="CONNECTED",E[E.LOBBY=3]="LOBBY",E[E.JOINED_ROOM=4]="JOINED_ROOM",E[E.DISCONNECTED=5]="DISCONNECTED",E[E.RECONNECTING=6]="RECONNECTING",E[E.KICKED_OUT=7]="KICKED_OUT",E[E.NOT_FOUND=8]="NOT_FOUND",E[E.NO_INTERNET=9]="NO_INTERNET",E}({})),E("SnlServerMessageType",function(E){return E.NONE="none",E.KICKED_OUT="kicked_out",E.PLAYER_CAMEBACK="player_cameback",E.PLAYER_JOINED="player_joined",E}({}));N._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_nterfaces.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9311ep3LWtMpKxM3yK2sM8p","Snl_nterfaces",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_OutComesUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_PlayerAssets.ts"],(function(e){var t,n,r,o,s,u,i,a,c,l,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,u=e._decorator,i=e.Prefab,a=e.Sprite,c=e.instantiate,l=e.Component},function(e){m=e.SnlPlayerAssets}],execute:function(){var h,C,p,O,f,g,d;s._RF.push({},"1589dGol3RCZrnubRpcxJKA","Snl_OutComesUIManager",void 0);var y=u.ccclass,b=u.property;e("SnlOutComesUIManager",(h=y("SnlOutComesUIManager"),C=b({type:i}),p=b({type:a}),h((g=t((f=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return t=e.call.apply(e,[this].concat(s))||this,r(t,"outComesPrefab",g,o(t)),r(t,"outcomesUiBgSprite",d,o(t)),t.currentOutComesUI=[],t.currentOutComesValues=[],t.goldenDiceOutcomes=0,t.player=null,t}n(t,e);var s=t.prototype;return s.setGoldenDiceOutcomes=function(e){this.goldenDiceOutcomes=e},s.addOutCome=function(e){var t=c(this.outComesPrefab);t.setParent(this.node),t.getComponent(a).spriteFrame=m.instance.getDiceOutComesStackSprite(e),this.currentOutComesUI.length<this.goldenDiceOutcomes&&6==e&&(t.getComponent(a).spriteFrame=m.instance.getGoldenDiceOutComeSprite()),this.currentOutComesUI.push(t),this.currentOutComesValues.push(e),this.onOutComesChanged()},s.removeOutCome=function(e){var t=this.currentOutComesValues.indexOf(e);-1!=t&&(this.currentOutComesUI[t].destroy(),this.currentOutComesUI.splice(t,1),this.currentOutComesValues.splice(t,1)),this.onOutComesChanged()},s.clearAllOutComes=function(){this.currentOutComesUI.forEach((function(e){e.destroy()})),this.currentOutComesUI=[],this.currentOutComesValues=[],this.onOutComesChanged()},s.getOutComes=function(){return this.currentOutComesValues},s.onOutComesChanged=function(){this.currentOutComesValues.length<=0?this.player.enableName(!0):this.player.enableName(!1)},s.reset=function(e){this.clearAllOutComes();for(var t=0;t<e.length;t++)this.addOutCome(e[t])},s.setPlayer=function(e){this.player=e},s.enableOutComesBg=function(e){this.outcomesUiBgSprite.enabled=e},t}(l)).prototype,"outComesPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(f.prototype,"outcomesUiBgSprite",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=f))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PawnHandler.ts",["cc","./Snl_Board.ts","./SNLTileType.ts","./Snl_GameMessageType.ts","./Snl_NetworkManager.ts","./Snl_PowerUp.ts","./Snl_AudioManager.ts","./Snl_AnimationTag.ts","./Snl_BoardData.ts","./UIManager.ts","./Snl_DeathPopup.ts","./Snl_DeathType.ts","./Snl_PlayerService.ts"],(function(e){var n,t,a,i,o,l,s,r,c,d,u,h,p,P,m,g,f,S,w,v;return{setters:[function(e){n=e.cclegacy,t=e.tween,a=e.Vec3,i=e.Color,o=e.math,l=e.Tween},function(e){s=e.SnlBoard},function(e){r=e.SNLTileType},function(e){c=e.SnlGameMessageType},function(e){d=e.SnlNetworkManager},function(e){u=e.SnlPowerUp},function(e){h=e.SnlAudioManager},function(e){p=e.SnlAnimationTag},function(e){P=e.SnakePresets,m=e.GetSnlEndTile,g=e.LadderPresets},function(e){f=e.UIManager},function(e){S=e.SnlDeathPopup},function(e){w=e.SnlDeathType},function(e){v=e.SnlPlayerService}],execute:function(){n._RF.push({},"ba9c67Eq2dJO6NuKLSrX9Hi","Snl_PawnHandler",void 0);var y=0,T=1;e("SnlPawnHandler",function(){function e(e,n){this.player=void 0,this.pawns=void 0,this.state=y,this.moveDataQueue=[],this.pawnAnimation=null,this.currentHandlingPieceIndex=-1,this.currentHandlingMoveData=null,this.pieceAnimationsTag=p.PIECE_MOVE,this.hasKilledInThisMove=!1,this.pawns=e,this.player=n}var n=e.prototype;return n.setState=function(e){this.state=e},n.onPawnMoveAnimationComplete=function(){s.Instance.updateAllPiecePositions()},n.handleData=function(){if(this.hasKilledInThisMove=!1,0!=this.moveDataQueue.length){this.StopPieceSelectAnimations();var e=this.moveDataQueue.shift();this.setState(T),this.player.outComesUIManager.removeOutCome(e.rollValue),this.currentHandlingPieceIndex=e.pieceIndex,this.currentHandlingMoveData=e,console.log("Handling Move Data: ","piece ",e.pieceIndex,"with roll value ",e.rollValue),this.pawnAnimation=this.pawns[e.pieceIndex].move(e.rollValue,this.onPieceLandedOnTargetTile.bind(this)),this.pawnAnimation.tag(this.pieceAnimationsTag),this.pawnAnimation.start()}else this.state==T&&(this.setState(y),this.StartSelectAnimationsForValidMovePieces())},n.onPieceLandedOnTargetTile=function(){var e=this;console.log("Moved Piece to Target Tile: ",this.pawns[this.currentHandlingPieceIndex].pathNumber);var n=this.killOpponentPieces(this.pawns[this.currentHandlingPieceIndex]);if(null!=n)return n.call((function(){e.onPieceLandedOnTargetTile()})),void n.start();var t=this.handlePowerUps(this.pawns[this.currentHandlingPieceIndex]);if(null!=t)return h.instance.playSound("Power"),void t.start();var a=this.handleSnake(this.pawns[this.currentHandlingPieceIndex]);if(null==a){var i=this.handleLadder(this.pawns[this.currentHandlingPieceIndex]);null==i?(this.sendMoveAck(),this.onPawnMoveAnimationComplete()):i.start()}else a.start()},n.handlePowerUps=function(e){var n=s.Instance.getPowerUpType(e);switch(n){case r.ROCKET:return console.log("[PawnHandler] Landed on Rocket Powerup"),this.getRocketAnimation(e);case r.SHIELD:return console.log("[PawnHandler] Landed on Shield Powerup"),this.getShieldAnimation(e);default:return console.warn("[PawnHandler] Unhandled PowerUp Type: "+r[n]),null}},n.handleSnake=function(e){if(0==(s.Instance.tileTypes[e.pathNumber]&r.SNAKE))return null;if(console.log("---------------------Landed on Snake"),e.hasShield)return console.log("[PawnHandler] Piece has Shield. Skipping Snake Animation"),this.handleShield(e,!1),null;var n=s.Instance.snakesData.find((function(n){return n.startTile===e.pathNumber}));if(!n)return console.error("Couldn't Find Snake. Check Board Preset Data"),null;var t=P[n.snakePresetIndex],a=m(n.startTile,t.offset.x,t.offset.y,s.Instance.gameOptions.boardTilesCount,s.Instance.gameOptions.boardTilesPerRow),i=s.Instance.getPathTile(a,e.playerNumber,e.pieceNumber).worldPosition.clone(),o=this.player.playerData.name,l="<color=#FF0000><b>"+this.player.truncateName(o,8)+"</b> got bitten</color>",c=s.Instance.getSnake(n.snakePresetIndex);return c?(this.handleShield(e,!1),S.showDeathPopup(e.node.worldPosition.clone(),l,w.SNAKE_BITE),this.getSnakeAnimationFromPoints(e,i,c,a,t)):(console.error("Couldn't Find Snake. Check Board Preset Data"),null)},n.handleLadder=function(e){if(!(0!=(s.Instance.tileTypes[e.pathNumber]&r.LADDER)))return null;console.log("--------------------- Landed on Ladder");var n=s.Instance.ladders.find((function(n){return n.startTile==e.pathNumber}));if(null==n)return console.error("Couldnt FInd Ladder. Check Board Preset Data"),null;var t=g[n.ladderPresetIndex],a=m(n.startTile,t.offset.x,t.offset.y,s.Instance.gameOptions.boardTilesCount,s.Instance.gameOptions.boardTilesPerRow),i=s.Instance.getPathTile(a,e.playerNumber,e.pieceNumber).worldPosition.clone();return console.log("[Ladder] Final Position: ",i),this.getLadderMoveAnimation(e,e.node.worldPosition.clone(),i,a,t)},n.getSnakeAnimationFromPoints=function(e,n,i,o,l){var r=this,c=i.animationPoints.points,d=s.Instance.gameOptions.snakeAnimationTimePerTile,u=.25,p=.9*(l.offset.length*d),P=l.offset.length/p,m=t(e.node);m.delay(1),m.call((function(){r.player._isLocal&&(console.log("[PawnHandler] Playing Flash Effect"),f.instance.playFlashEffect()),t(e.node).to(.1,{scale:e.node.scale.clone().multiplyScalar(1.2)}).to(.1,{scale:e.node.scale.clone().multiplyScalar(.9)}).start()})),m.delay(.2),m.call((function(){h.instance.playSound("ChompSnakeBite"),e.scaleDownPieceWithWiggle(u).start()})),m.call((function(){r.AnimateSnakeHead(i.node).start()})),m.delay(.35),m.call((function(){h.instance.stopSound("ChompSnakeBite"),h.instance.playSound("SnakeBite"),e.animateSnakeBulge(p).start()}));Math.floor(c.length/2);for(var g=0;g<c.length-1;g++){var S=a.distance(c[g].worldPosition,c[g+1].worldPosition)/P;m.to(S,{worldPosition:c[g+1].worldPosition})}var w=a.distance(c[c.length-1].worldPosition,n)/P;return m.to(w,{worldPosition:n}),m.call((function(){e.scaleUpPieceWithBounce(u).start()})),m.delay(.35),m.call((function(){e.setPathNumber(o),e.updateParentNode(),r.onPieceLandedOnTargetTile()}))},n.getDistanceBetweenTwoTiles=function(e,n){var t=Math.floor(e/s.Instance.gameOptions.boardTilesPerRow),a=Math.floor(n/s.Instance.gameOptions.boardTilesPerRow),i=e%s.Instance.gameOptions.boardTilesPerRow,o=n%s.Instance.gameOptions.boardTilesPerRow;return Math.sqrt(Math.pow(t-a,2)+Math.pow(i-o,2))},n.getRocketAnimation=function(e){var n=this,i=s.Instance.getRocketLandingPathNumber(e);console.log("Rocket Landing Path Number: ",i);var o=s.Instance.getPowerupNode(e);s.Instance.removePowerUp(o.getComponent(u)),e.setPathNumber(i),e.updateParentNode();var l=s.Instance.getPathTile(i,e.playerNumber,e.pieceNumber).worldPosition.clone(),r=a.distance(e.node.worldPosition,l)/100*.15,c=l.clone().subtract(e.node.worldPosition).normalize();r=Math.max(r,.3);var d=t(e.node).call((function(){e.playPropellerAnimation(c)})).to(r,{worldPosition:l});return d.call((function(){e.stopPropellerAnimation(),n.onPieceLandedOnTargetTile()})),d.tag(this.pieceAnimationsTag),d},n.handleShield=function(e,n){console.log("[PawnHandler] Handling Shield for Piece: ",e.pieceNumber,"with active: ",n),e.setShieldActive(n)},n.getShieldAnimation=function(e){return e.setShieldActive(!0),null},n.getLadderMoveAnimation=function(e,n,a,o,l){var r=this,c=(e.pathNumber,l.offset.length*s.Instance.gameOptions.ladderAnimationTimePerTile);console.log("[Ladder] Distance: ",l.offset.length,"totalTime: ",c);var d=e.node.scale.clone(),u=t(e.node).call((function(){r.player._isLocal&&f.instance.playFlashEffect(new i(15,156,4)),h.instance.playSound("Ladder"),e.node.setWorldPosition(n)}));return u.to(c,{worldPosition:a,scale:d}),u.call((function(){console.log("[Ladder] Climb Animation complete"),e.setPathNumber(o),e.updateParentNode(),r.onPieceLandedOnTargetTile()})),u},n.killOpponentPieces=function(e){var n=this,i=s.Instance.getKillablePieces(e);if(null!=i){console.log("Killing Opponent Piece: ","piece ",i.pieceNumber,"of player ",i.playerNumber);var l=this.player.playerData.name,r=this.player.truncateName(l,8),c=i.playerNumber,d=v.instance.getPlayer(c),u=d.playerData.name,h="<color=#FF0000><b>"+r+"</b> killed <b>"+d.truncateName(u,8)+"!</b></color>";S.showDeathPopup(i.node.worldPosition.clone(),h,w.PAWN_KILL);var p=s.Instance.getPathPositions(i.pathNumber,0,i.playerNumber,i.pieceNumber);i.setPathNumber(0),i.updateParentNode(),i.updatePieceScale();var P=o.clamp(a.distance(i.node.worldPosition,p[p.length-1])/50*.15,.3,1);console.log("kill animation duration per tile: ",P),this.handleShield(i,!1);var m=t(i.node);return m.delay(1),m.call((function(){i.onKilled(),i.node.setWorldPosition(p[0])})),m.to(P,{worldPosition:p[p.length-1]},{progress:function(e,t,a,i){return o.lerp(e,t,n.easeOutBack(i))}}),m.call((function(){})),this.hasKilledInThisMove=!0,m}},n.easeOutBack=function(e){var n=1.70158*1.5;return 1+3.5523700000000002*Math.pow(e-1,3)+n*Math.pow(e-1,2)},n.movePiece=function(e,n,t){this.moveDataQueue.push({pieceIndex:e,rollValue:n,sendAck:t}),this.state==y&&this.handleData()},n.updateShields=function(e){for(var n=0;n<this.pawns.length;n++)this.handleShield(this.pawns[n],e.playersData[this.player.playerNumber].hasShield[n])},n.Reset=function(e){this.stopAllAnimations(),this.moveDataQueue=[],this.setState(y),this.ResetPawnPositions(e),this.updateShields(e),s.Instance.reset(e)},n.ResetPawnPositions=function(e){for(var n=e.playersData[this.player.playerNumber],t=0;t<n.pieces.length;t++)this.pawns[t].reset(n.pieces[t]);console.log("Reset Pawn Positions of Player: ",this.player.playerNumber)},n.stopAllAnimations=function(){this.StopPieceSelectAnimations(),l.stopAllByTag(this.pieceAnimationsTag)},n.sendMoveAck=function(){d.Instance.CurrentRoom.send(c.MOVE_PIECE_ACK,JSON.stringify({}))},n.isAnimating=function(){return this.state==T},n.StartSelectAnimationsForValidMovePieces=function(){if(this.player._isLocal)for(var e=this.player._stateMachine.movePieceState.getAllMovablePieces(),n=0;n<e.length;n++)e[n].playSelectAnimation()},n.StopPieceSelectAnimations=function(){if(this.player._isLocal)for(var e=0;e<this.pawns.length;e++)this.pawns[e].stopSelectAnimation()},n.AnimateSnakeHead=function(e){var n=e.children[0].getChildByName("SnakeHead");if(null!=n){console.log("Animating Snake Head: ",n);var i=t(n),o=n.scale.clone();return i.to(.15,{scale:new a(.6*o.x,1.8*o.y,o.z)}),i.to(.2,{scale:new a(.85*o.x,1.3*o.y,o.z)}),i.to(.15,{scale:o}),i}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PbExtensions.ts",["cc","./Snl_PBLogger.ts"],(function(){var t,n,e,o;return{setters:[function(o){t=o.cclegacy,n=o.Vec3,e=o.Component},function(t){o=t.SnlPBLogger}],execute:function(){t._RF.push({},"a9e0eKF9Q1HlomPy3h4ueJO","Snl_PbExtensions",void 0),n.prototype.clampMagnitude=function(t,n){if(!(t>n)){var e=this.length();return e>n?(this.normalize(),this.multiplyScalar(n)):e<t&&(this.normalize(),this.multiplyScalar(t)),this}console.error("min should be less than max")},e.prototype.log=function(){for(var t=this.constructor.name,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];o.info.apply(o,[t+" "].concat(e))},t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PBLogger.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"279dedudGRJ76w+OOE9ojcP","Snl_PBLogger",void 0);var r=e("LogLevel",function(e){return e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e}({})),o=e("SnlPBLogger",function(){function e(){}return e.debug=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),t=1;t<n;t++)o[t-1]=arguments[t];this.log(r.Debug,e,o)},e.info=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),t=1;t<n;t++)o[t-1]=arguments[t];this.log(r.Info,e,o)},e.warning=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),t=1;t<n;t++)o[t-1]=arguments[t];this.log(r.Warning,e,o)},e.error=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),t=1;t<n;t++)o[t-1]=arguments[t];this.log(r.Error,e,o)},e.log=function(e,n,o){if(e>=this.currentLevel){var t,i=r[e]+": "+n;if((t=console).log.apply(t,[i].concat(o)),this.isProduction&&window.ReactNativeWebView)try{var c={event:"log",level:r[e],message:i,params:o};window.ReactNativeWebView.postMessage(JSON.stringify(c))}catch(e){console.error("Failed to send log to ReactNativeWebView:",e)}}},e.setLevel=function(e){this.currentLevel=e},e.setProductionMode=function(e){this.isProduction=e},e}());o.currentLevel=r.Debug,o.isProduction=!1,n._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PbSaveSystem.ts",["cc","./Snl_PBLogger.ts"],(function(e){var t,a,n,o;return{setters:[function(e){t=e.cclegacy,a=e._decorator,n=e.sys},function(e){o=e.SnlPBLogger}],execute:function(){var c;t._RF.push({},"0b7d0/mFfxOnqFZ7HJc5MNP","Snl_PbSaveSystem",void 0);var r=a.ccclass;e("SnlPbSaveSystem",r("SnlPbSaveSystem")(c=function(){function e(){}return e.SaveData=function(e,t){o.info("============ Saving data in pb save system ========="),n.localStorage.setItem(e,JSON.stringify(t))},e.LoadData=function(e){return JSON.parse(n.localStorage.getItem(e))},e.RemoveData=function(e){n.localStorage.removeItem(e)},e.ClearAllData=function(){n.localStorage.clear()},e}())||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_Piece.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_AudioManager.ts","./Snl_Board.ts","./Snl_PlayerAssets.ts","./Snl_PoolManager.ts","./UIManager.ts"],(function(e){var t,i,n,o,l,a,r,c,s,p,u,h,d,m,f,b,y,v,P,S,N,g,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Sprite,c=e.CCInteger,s=e.Node,p=e.Label,u=e.Animation,h=e.Prefab,d=e.CCBoolean,m=e.tween,f=e.Vec3,b=e.quat,y=e.Quat,v=e.Component},function(e){P=e.SnlAudioManager},function(e){S=e.SnlBoard},function(e){N=e.SnlPlayerAssets},function(e){g=e.SnlPoolManager},function(e){A=e.UIManager}],execute:function(){var w,O,B,E,C,z,I,T,k,M,D,R,_,L,U,W,x,j,F,Z,H,K,q,Q,V,G,J;l._RF.push({},"3c5efHL9E1NOoTfjyepiDsI","Snl_Piece",void 0);var X=a.ccclass,Y=a.property,$=.9;e("SnlPiece",(w=X("SnlPiece"),O=Y({type:r}),B=Y({type:c}),E=Y({type:c}),C=Y({type:r}),z=Y({type:s}),I=Y({type:p}),T=Y({type:u}),k=Y({type:u}),M=Y({type:h}),D=Y({type:d}),R=Y({type:u}),_=Y({type:s}),w((W=t((U=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,n(t,"pieceSprite",W,o(t)),n(t,"pieceNumber",x,o(t)),n(t,"playerNumber",j,o(t)),n(t,"labelSprite",F,o(t)),n(t,"labelNode",Z,o(t)),n(t,"pieceLabel",H,o(t)),t.moveData=[],t.previousPathNumber=0,t.pathNumber=0,n(t,"propellerAnimation",K,o(t)),n(t,"selectAnimation",q,o(t)),n(t,"moveRippleEffect",Q,o(t)),n(t,"hasShield",V,o(t)),n(t,"shieldAnimation",G,o(t)),n(t,"snakeBumpNode",J,o(t)),t.player=null,t}i(t,e);var l=t.prototype;return l.Initialize=function(e,t,i){this.labelNode.active=!1,this.playerNumber=e,this.pieceNumber=t,this.player=i,this.pieceSprite.spriteFrame=N.instance.getPawnSprite(e),this.labelSprite.color=N.instance.getPawnColor(e),this.pieceLabel.string=this.getPieceLabel(i.playerData.name),this.updatePieceScale()},l.move=function(e,t){var i=this.pathNumber+e;return this.isOnBase()&&6==e&&(this.labelNode.active=!0,i=1),this.setPathNumber(i),this.updateParentNode(),this.getMoveAnimation(i,t)},l.moveToTargetPathNumber=function(e,t,i){return void 0===i&&(i=.12),this.setPathNumber(e),this.updateParentNode(),this.getMoveAnimation(e,t,i)},l.getMoveAnimation=function(e,t,i){var n=this;void 0===i&&(i=.12);for(var o=this.node.worldPosition.clone(),l=S.Instance.getPathPositions(this.previousPathNumber,e,this.playerNumber,this.pieceNumber),a=(S.Instance.getPathTile(e,this.playerNumber,this.pieceNumber),m(this.node).call((function(){n.node.setWorldPosition(o)}))),r=1;r<l.length;r++)a.then(this.jumpToNextTileAnimation(this.node,l[r-1],l[r],i));return a.call((function(){null!=t&&(console.log("[Piece] Calling on pieces  landed CallBack"),t())})),a},l.jumpToNextTileAnimation=function(e,t,i,n){var o=this;void 0===n&&(n=.12);var l=t.clone().add(i).multiplyScalar(.5),a=e.scale.clone(),r=m(e).call((function(){P.instance.playSound("Move"),e.setWorldPosition(t)}));return r.call((function(){o.playMoveRippleEffect(t.clone())})),r.to(n,{worldPosition:l,scale:a.clone().multiplyScalar(1.25)}),r.to(n,{worldPosition:i,scale:a}),r},l.setPathNumber=function(e){this.previousPathNumber=this.pathNumber,this.pathNumber=e},l.updateParentNode=function(e){void 0===e&&(e=-1),-1==e&&(e=this.pathNumber);var t=S.Instance.getPathTile(e,this.playerNumber,this.pieceNumber);this.node.setParent(t,!0)},l.updatePiecePosition=function(e){void 0===e&&(e=-1),-1==e&&(e=this.pathNumber),this.node.setPosition(f.ZERO.clone());S.Instance.getPathTile(e,this.playerNumber,this.pieceNumber);S.Instance.piecesOnTile(e,this.playerNumber)>1&&this.node.setWorldPosition(this.node.worldPosition.add(this.getOffsetPosition())),this.updatePieceScale()},l.getOffsetPosition=function(){if(1==this.node.parent.children.length||0==this.pathNumber)return f.ZERO.clone();var e=this.myIndexInTile(this.node.parent),t=this.node.parent.children.length;return new f((e-(t-1)/2)*(t>3?7.5:15),0,0)},l.updatePieceScale=function(){var e=S.Instance.getPawnsCountOnTile(this.pathNumber),t=f.ONE.clone(),i=$;i=this.isOnBase()?$:e>4?.4:e>2?.65:.9,this.node.scale=t.multiplyScalar(i)},l.myIndexInTile=function(e){for(var t=0;t<e.children.length;t++)if(e.children[t]==this.node)return t;return-1},l.animatePieceToSize=function(e){m(this.node).to(.5,{scale:f.ONE.clone().multiplyScalar(e)}).start()},l.isOnBase=function(){return 0==this.pathNumber},l.playPropellerAnimation=function(e){this.propellerAnimation.node.active=!0,this.propellerAnimation.node.setPosition(f.ZERO.clone()),this.setNodeUpDirection(this.propellerAnimation.node,e),this.propellerAnimation.node.setWorldPosition(this.node.worldPosition.clone().subtract(this.propellerAnimation.node.up.multiplyScalar(50))),this.propellerAnimation.play(),P.instance.playSound("Propeller")},l.setNodeUpDirection=function(e,t){var i=t.clone().normalize(),n=new f(0,0,1),o=new f(0,0,0);f.cross(o,i,n).normalize();var l=b();y.fromAxes(l,o,i,n),e.setWorldRotation(l)},l.stopPropellerAnimation=function(){this.propellerAnimation.stop(),this.propellerAnimation.node.active=!1,P.instance.stopSound("Propeller")},l.playSelectAnimation=function(){this.selectAnimation.node.active=!0;var e=this.selectAnimation.node.getComponent(r);null!=e&&(e.color=N.instance.getPawnColor(this.playerNumber)),this.selectAnimation.play()},l.stopSelectAnimation=function(){this.selectAnimation.stop(),this.selectAnimation.node.active=!1},l.playMoveRippleEffect=function(e){var t=g.instance.getObjectFromPool(this.moveRippleEffect);t.setParent(S.Instance.node,!0),t.setWorldPosition(e);var i=t.getComponent(r);null!=i&&(i.color=N.instance.getPawnColor(this.playerNumber)),t.getComponent(u).play()},l.setShieldActive=function(e){if(this.hasShield!=e){e&&P.instance.playSound("Power"),this.hasShield=e;var t=this.shieldAnimation.node.getComponent(r);null!=t&&(t.color=N.instance.getPawnColor(this.playerNumber)),e?(console.log("[Piece] Playing Shield Animation"),this.shieldAnimation.node.active=!0,this.shieldAnimation.play()):(console.log("[Piece] Stopping Shield Animation"),this.shieldAnimation.stop(),this.shieldAnimation.node.active=!1)}},l.reset=function(e){this.setPathNumber(e),this.updateParentNode(),this.updatePiecePosition(),this.stopPropellerAnimation()},l.scaleDownPiece=function(e){var t=this;return void 0===e&&(e=.1),m(this.pieceSprite.node).call((function(){t.pieceSprite.node.active=!0})).to(e,{scale:this.pieceSprite.node.scale.clone().multiplyScalar(0)}).call((function(){t.pieceSprite.node.active=!1}))},l.scaleDownPieceWithWiggle=function(e){var t=this;return void 0===e&&(e=.25),m(this.pieceSprite.node).call((function(){t.pieceSprite.node.active=!0})).to(.3*e,{scale:this.pieceSprite.node.scale.clone().multiplyScalar(.8),angle:15}).to(.3*e,{scale:this.pieceSprite.node.scale.clone().multiplyScalar(.5),angle:-15}).to(.4*e,{scale:this.pieceSprite.node.scale.clone().multiplyScalar(0),angle:0}).call((function(){t.pieceSprite.node.active=!1}))},l.scaleDownBump=function(e){var t=this;return void 0===e&&(e=.1),m(this.snakeBumpNode).call((function(){t.snakeBumpNode.active=!0,t.snakeBumpNode.scale=f.ONE.clone()})).to(e,{scale:f.ONE.clone().multiplyScalar(.5)}).call((function(){t.snakeBumpNode.active=!1}))},l.animateSnakeBulge=function(e){var t=this;return void 0===e&&(e=.1),m(this.snakeBumpNode).delay(.1).call((function(){t.snakeBumpNode.active=!0,t.snakeBumpNode.scale=f.ONE.clone().multiplyScalar(1.2)})).to(e,{scale:f.ONE.clone().multiplyScalar(.5)}).call((function(){t.snakeBumpNode.active=!1}))},l.scaleUpPiece=function(e){var t=this;return void 0===e&&(e=.1),m(this.pieceSprite.node).call((function(){t.pieceSprite.node.active=!0})).to(e,{scale:f.ONE.clone().multiplyScalar($)})},l.scaleUpPieceWithBounce=function(e){var t=this;return void 0===e&&(e=.25),m(this.pieceSprite.node).call((function(){t.pieceSprite.node.active=!0,t.pieceSprite.node.scale=f.ONE.clone().multiplyScalar(0)})).to(.4*e,{scale:f.ONE.clone().multiplyScalar(1.3*$)}).to(.3*e,{scale:f.ONE.clone().multiplyScalar(.8*$)}).to(.3*e,{scale:f.ONE.clone().multiplyScalar($)})},l.onKilled=function(){P.instance.playSound("Kill"),this.player._isLocal&&(A.instance.playFlashEffect(),this.labelNode.active=!1)},l.getPieceLabel=function(e){var t=e.split(" ")[0].trim();return t.length>=4?(t[0]+t[2]).toUpperCase():t.length>=2?t.substring(0,2).toUpperCase():1===t.length?t.toUpperCase():"??"},t}(v)).prototype,"pieceSprite",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"pieceNumber",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(U.prototype,"playerNumber",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=t(U.prototype,"labelSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(U.prototype,"labelNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(U.prototype,"pieceLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(U.prototype,"propellerAnimation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(U.prototype,"selectAnimation",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(U.prototype,"moveRippleEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(U.prototype,"hasShield",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(U.prototype,"shieldAnimation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(U.prototype,"snakeBumpNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_NetworkManager.ts","./Snl_Dice.ts","./Snl_Board.ts","./Snl_Piece.ts","./Snl_PlayerAssets.ts","./Timer.ts","./Snl_PawnHandler.ts","./Snl_OutComesUIManager.ts","./Snl_MoveOptionsInput.ts","./Snl_PlayerStateMachine.ts","./Snl_PlayerAvatar.ts"],(function(e){var t,i,n,r,a,o,l,s,u,c,p,f,h,m,y,g,b,P,d,w,S,_,I,v,A,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.CCInteger,s=e.Label,u=e.Sprite,c=e.Widget,p=e.Node,f=e.Vec3,h=e.instantiate,m=e.tween,y=e.Component},function(e){g=e.SnlNetworkManager},function(e){b=e.SnlDice},function(e){P=e.SnlBoard},function(e){d=e.SnlPiece},function(e){w=e.SnlPlayerAssets},function(e){S=e.Timer},function(e){_=e.SnlPawnHandler},function(e){I=e.SnlOutComesUIManager},function(e){v=e.SnlMoveOptionsInput},function(e){A=e.SnlPlayerStateMachine},function(e){N=e.SnlPlayerAvatar}],execute:function(){var z,C,M,B,O,D,L,U,T,E,R,H,F,G,W,V,x,k,j,K,X,Y,Z,q,J,Q,$,ee,te,ie,ne,re,ae,oe,le;a._RF.push({},"0064a8AWZtHXaUaCzp7VEKF","Snl_Player",void 0);var se=o.ccclass,ue=o.property,ce=e("PlayerState",function(e){return e[e.IDLE=0]="IDLE",e[e.ROLLING=1]="ROLLING",e[e.MOVING_PIECE=2]="MOVING_PIECE",e}({}));e("SnlPlayer",(z=se("SnlPlayer"),C=ue({type:l}),M=ue({type:s}),B=ue({type:u}),O=ue({type:u}),D=ue({type:u}),L=ue({type:c}),U=ue({type:S}),T=ue({type:u}),E=ue({type:b}),R=ue({type:p}),H=ue({type:u}),F=ue({type:u}),G=ue({type:p}),W=ue({type:N}),V=ue({type:I}),x=ue({type:p}),z((K=t((j=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"playerNumber",K,r(t)),n(t,"playerName",X,r(t)),n(t,"profileImage",Y,r(t)),n(t,"profilePicHolder",Z,r(t)),n(t,"borderSprite",q,r(t)),n(t,"profilePicWidget",J,r(t)),n(t,"timer",Q,r(t)),n(t,"timerSprite",$,r(t)),n(t,"dice",ee,r(t)),n(t,"diceRoot",te,r(t)),n(t,"diceBgSprite",ie,r(t)),n(t,"namePlateSprite",ne,r(t)),n(t,"piecesBase",re,r(t)),n(t,"playerAvatar",ae,r(t)),t.bases=[],t.sortedBasesHorizontalPosition=[],t.pawns=[],t.playerData=null,t.state=ce.IDLE,t._isLocal=!1,t._isInitialized=!1,t._currentPiecesData=[0,0,0,0],t._currentDiceValue=1,t._pieceAnimations=[],t._isProfileInitialized=!1,t._board=null,t._myBasesParent=null,t._pawnHandler=null,n(t,"outComesUIManager",oe,r(t)),n(t,"dicePointingArrow",le,r(t)),t.diceArrowInitialPosition=new f(0,0,0),t._currentSelectedPieceNumber=-1,t._moveOptioneInput=null,t._gameOptions=null,t._stateMachine=void 0,t.profileImageUrl="",t.arrowAnimation=null,t}i(t,e);var a=t.prototype;return a.onLoad=function(){this._pawnHandler=new _(this.pawns,this),this.diceArrowInitialPosition=this.dicePointingArrow.getPosition(),null==this._stateMachine&&(this._stateMachine=new A(this))},a.start=function(){this.createMoveOptionsUI()},a.update=function(e){this._stateMachine.updateState(e)},a.createMoveOptionsUI=function(){var e=h(w.instance.moveOptionsUI);e.setParent(this.node),e.setPosition(new f(0,0,0)),this._moveOptioneInput=e.getComponent(v),this._moveOptioneInput.node.active=!1},a.initialize=function(e,t,i){var n=this;console.log("[Player] Initializing Player : ",this.playerNumber),this._board=t,this.playerNumber=i;var r=e.playersData.find((function(e){return e.playerNumber==n.playerNumber}));if(this.playerData=r,console.log("[Player] My Profile Data : ",r),null!=r){r.sessionId==g.Instance.CurrentRoom.sessionId&&(console.log("Setting Local Player"),this._isLocal=!0,this.timer.setLocal(this._isLocal)),this.loadProfile(r),this._myBasesParent=t.getPlayerBase(this.playerNumber);var a=e.gameOptions.piecesPerPlayer;this.createPawns(a),this._gameOptions=e.gameOptions,this.setDiceBgColor(),this.setBorderAndTimerColor(),this.outComesUIManager.setPlayer(this)}},a.loadProfile=function(e){if(!this._isProfileInitialized&&null!=e){var t=e.name;this._isLocal&&(t="You"),this.playerName.string=this.truncateName(t,8),this.profileImageUrl=e.avatar,this._isInitialized=!0,this.loadProfileImage(),this.profileImage.node.on(p.EventType.TOUCH_START,this.openProfile,this)}},a.loadProfileImage=function(){this.profileImageUrl?this.playerAvatar.setAvatarFromUrl(this.profileImageUrl):console.warn("[Player] No profile image URL provided")},a.createBases=function(e){var t=this;console.log("[Player] Creating Bases for Player : ",this.playerNumber);var i=w.instance.getPawnWidth();this.bases=Array.from({length:e},(function(e,n){var r=h(w.instance.basePrefab),a=(i+0)*n;return r.setParent(t._myBasesParent,!0),r.name="Base"+n,r.setPosition(new f(a,0,0)),r})),this.sortedBasesHorizontalPosition=this.bases.sort((function(e,t){return e.position.x-t.position.x}))},a.createPawns=function(e){console.log("[Player] Creating Pawns for Player : ",this.playerNumber);for(var t=w.instance.pawnPrefab,i=0;i<e;i++){this.log("CREATING PAWN ",i),this.log("BASES : ",this.bases);var n=h(t);n.setParent(this.piecesBase,!0),n.setPosition(new f(0,0,0));var r=n.getComponent(d);r.Initialize(this.playerNumber,i,this),this.pawns.push(r),P.Instance.addPiece(r)}},a.onServerStateChange=function(e){null==this._stateMachine&&(this._stateMachine=new A(this)),this._stateMachine.onServerStateChange(e)},a.onReconnection=function(e){this._stateMachine.onReconnection(e)},a.isMyTurn=function(e){return this.playerNumber==e},a.isAnyPieceSelected=function(){return-1!=this._currentSelectedPieceNumber},a.truncateName=function(e,t){var i=e.indexOf(" ");return-1!=i&&(e=e.substring(0,i)),e.length>t?e.substring(0,t)+"..":e},a.setPlayerNumber=function(e){this.playerNumber=e},a.enableName=function(e){},a.arrowPointToDiceAnimation=function(e){var t;null==(t=this.arrowAnimation)||t.stop(),console.log("arrowPointToDiceAnimation : ",e),e?(console.log("Enabling Arrow"),this.dicePointingArrow.active=!0,this.dicePointingArrow.setPosition(this.diceArrowInitialPosition),this.arrowAnimation=m(this.dicePointingArrow),this.arrowAnimation.by(.2,{position:new f(-10,-0,0)}),this.arrowAnimation.by(.2,{position:new f(10,0,0)}),this.arrowAnimation.union(),this.arrowAnimation.repeatForever(),this.arrowAnimation.start()):(console.log("Disabling Arrow"),this.dicePointingArrow.active=!1,this.arrowAnimation.stop())},a.isFinished=function(){for(var e=this._gameOptions,t=0;t<this.pawns.length;t++)if(this.pawns[t].pathNumber==P.Instance.TotalPathCount(e))return!0;return!1},a.setDiceBgColor=function(){this.diceBgSprite.color=w.instance.getDiceBgColor(this.playerNumber)},a.setBorderAndTimerColor=function(){this.borderSprite&&(this.borderSprite.color=w.instance.getPawnColor(this.playerNumber))},a.GetProfileSpriteFrame=function(){return this.profileImage.spriteFrame},a.openProfile=function(){var e=this,t=this._stateMachine.currentServerState.playersData.find((function(t){return t.playerNumber==e.playerNumber})).userId;console.log("Opening Profile of User : ",t)},t}(y)).prototype,"playerNumber",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(j.prototype,"playerName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(j.prototype,"profileImage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(j.prototype,"profilePicHolder",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"borderSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"profilePicWidget",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"timer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"timerSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"dice",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"diceRoot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"diceBgSprite",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"namePlateSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"piecesBase",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(j.prototype,"playerAvatar",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(j.prototype,"outComesUIManager",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(j.prototype,"dicePointingArrow",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=j))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PlayerAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SNLTileType.ts"],(function(e){var t,r,i,n,o,a,l,u,p,c,s,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.SpriteFrame,u=e.Color,p=e.Prefab,c=e.CCFloat,s=e.Component},function(e){f=e.SNLTileType}],execute:function(){var b,y,w,S,g,m,d,C,h,P,z,O,D,v,U,k,L,T,A,I,_,F,W,B,E,H,R,j,N,q,x,G;o._RF.push({},"0ae8612InhFj5ke08oinLqA","Snl_PlayerAssets",void 0);var K=a.ccclass,M=a.property;e("SnlPlayerAssets",(b=K("SnlPlayerAssets"),y=M({type:l}),w=M({type:u}),S=M({type:u}),g=M({type:p}),m=M({type:c}),d=M({type:p}),C=M({type:l}),h=M({type:l}),P=M({type:l}),z=M({type:p}),O=M({type:[l]}),D=M({type:p}),v=M({type:[p]}),U=M({type:[p]}),b(((G=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"pawnSprites",T,n(t)),i(t,"pawnColors",A,n(t)),i(t,"DiceBgColors",I,n(t)),i(t,"pawnPrefab",_,n(t)),i(t,"pawnWidth",F,n(t)),i(t,"basePrefab",W,n(t)),i(t,"diceOutComeSprites",B,n(t)),i(t,"diceOutComesStackSprites",E,n(t)),i(t,"goldenDiceOutComeSprite",H,n(t)),i(t,"moveOptionsUI",R,n(t)),i(t,"powerUpSprites",j,n(t)),i(t,"powerUpPrefab",N,n(t)),i(t,"snakePrefabs",q,n(t)),i(t,"ladderPrefabs",x,n(t)),t}r(t,e);var o=t.prototype;return o.onLoad=function(){t.instance=this},o.onDestroy=function(){t.instance===this&&(t.instance=null)},o.getPawnSprite=function(e){return this.pawnSprites[e]},o.getDiceOutComeSprite=function(e){return this.diceOutComeSprites[e]},o.getDiceOutComesStackSprite=function(e){return this.diceOutComesStackSprites[e]},o.getGoldenDiceOutComeSprite=function(){return this.goldenDiceOutComeSprite},o.getPawnWidth=function(){return this.pawnWidth},o.getPowerUpSprite=function(e){var t=e&f.SHIELD,r=e&f.ROCKET;return t?this.powerUpSprites[0]:r?this.powerUpSprites[1]:void 0},o.getPawnColor=function(e){return this.pawnColors[e]},o.getDiceBgColor=function(e){return u.WHITE.clone()},t}(s)).instance=null,T=t((L=G).prototype,"pawnSprites",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(L.prototype,"pawnColors",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(L.prototype,"DiceBgColors",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(L.prototype,"pawnPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(L.prototype,"pawnWidth",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),W=t(L.prototype,"basePrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(L.prototype,"diceOutComeSprites",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(L.prototype,"diceOutComesStackSprites",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(L.prototype,"goldenDiceOutComeSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"moveOptionsUI",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(L.prototype,"powerUpSprites",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=t(L.prototype,"powerUpPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(L.prototype,"snakePrefabs",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(L.prototype,"ladderPrefabs",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=L))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PlayerAvatar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,a,i,n,o,l,s,u,c,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Sprite,s=e.Node,u=e.assetManager,c=e.SpriteFrame,p=e.Texture2D,v=e.Component}],execute:function(){var y,h,f,d,m,g,A;n._RF.push({},"3240d/RDEVAiZyC8mIyd7PY","Snl_PlayerAvatar",void 0);var S=o.ccclass,w=o.property;e("SnlPlayerAvatar",(y=S("SnlPlayerAvatar"),h=w({type:l,tooltip:"Player Avatar"}),f=w({type:l,tooltip:"Player Avatar Outline"}),y((g=t((m=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"playerAvatar",g,i(t)),a(t,"outline",A,i(t)),t.enableOnClick=!1,t.userId="",t}r(t,e);var n=t.prototype;return n.initialize=function(e,t){this.enableOnClick=e,this.userId=t},n.onEnable=function(){this.registerTouchEvents()},n.onDisable=function(){this.unregisterTouchEvents()},n.start=function(){},n.update=function(e){},n.registerTouchEvents=function(){this.playerAvatar&&this.playerAvatar.node&&this.playerAvatar.node.on(s.EventType.TOUCH_START,this.handleTouchStart,this)},n.unregisterTouchEvents=function(){this.playerAvatar&&this.playerAvatar.node&&this.playerAvatar.node.off(s.EventType.TOUCH_START,this.handleTouchStart,this)},n.handleTouchStart=function(){this.enableOnClick},n.setOutline=function(e){this.outline&&(this.outline.enabled=e)},n.setOutlineColor=function(e){this.outline&&(this.outline.color=e)},n.setAvatarFromUrl=function(e){console.log("Setting avatar from url: ",e);var t=this.getFromCache(e);t?this.createSpriteFrameFromTexture(t):this.loadRemoteImage(e)},n.setAvatarFromSpriteFrame=function(e){this.playerAvatar&&(this.playerAvatar.spriteFrame=e)},n.getFromCache=function(e){var t=u.assets.get(e);return t&&t.isValid&&"function"==typeof t.getHash?t:null},n.createSpriteFrameFromTexture=function(e){if(e&&e.isValid&&"function"==typeof e.getHash)if(this.playerAvatar){var t=new c;t.texture=e,this.playerAvatar.spriteFrame=t}else console.warn("[SnlPlayerAvatar] PlayerAvatar component is null");else console.warn("[SnlPlayerAvatar] Invalid texture provided")},n.loadRemoteImage=function(e){var t=this;u.loadRemote(e,{ext:".png"},(function(r,a){if(r)return console.error("[Player] Failed to load profile image: "+JSON.stringify(r)),void(window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({message:"player_avatar_load_failed",data:{userId:t.userId,url:e,errorName:r.name,errorMessage:r.message,errorStack:r.stack}})));try{var i=new c,n=new p;n.image=a,n.isValid&&"function"==typeof n.getHash?(i.texture=n,t.playerAvatar?t.playerAvatar.spriteFrame=i:console.warn("[SnlPlayerAvatar] PlayerAvatar component is null")):console.warn("[SnlPlayerAvatar] Invalid texture created from imageAsset")}catch(r){console.error("[Player] Error creating sprite frame: "+r),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({message:"player_sprite_frame_creation_failed",data:{userId:t.userId,url:e,error:r}}))}}))},t}(v)).prototype,"playerAvatar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(m.prototype,"outline",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PlayerBaseState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a481d7dTmFEGoDykgL19t0o","Snl_PlayerBaseState",void 0);e("SnlPlayerBaseState",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PlayerService.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n;return{setters:[function(e){r=e.createClass},function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"d6c7foIuztErrmdF1D3CXBx","Snl_PlayerService",void 0);e("PlayerServiceEvents",new n);e("SnlPlayerService",function(){function e(){this._players=[],this._localPlayer=null,this._myPlayerNumber=0}var t=e.prototype;return t.registerPlayer=function(e,r){void 0===r&&(r=!1),this._players.push(e),r&&(this._localPlayer=e)},t.setMyPlayerNumber=function(e){this._myPlayerNumber=e},t.getMyPlayerNumber=function(){return this._myPlayerNumber},t.getPlayer=function(e){return e===this._myPlayerNumber&&this._localPlayer?this._localPlayer:this._players.find((function(r){return r.playerNumber===e}))},t.getPlayerBase=function(e){var r=this.getPlayer(e);return r?r.piecesBase:null},t.getPlayerPiece=function(e,r){var t=this.getPlayer(e);return t&&t.pawns.length>r?t.pawns[r]:null},t.clearPlayers=function(){this._players=[],this._localPlayer=null},r(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PlayerStateMachine.ts",["cc","./UIManager.ts","./SNLGameState.ts","./Snl_GameMessageType.ts","./Snl_IdleState.ts","./Snl_MovePieceState.ts","./Snl_RollingState.ts","./Snl_RoomTypes.ts"],(function(t){var e,r,a,n,i,s,S,u;return{setters:[function(t){e=t.cclegacy},function(t){r=t.UIManager},function(t){a=t.SNLGameState},function(t){n=t.SnlGameMessageType},function(t){i=t.SnlIdleState},function(t){s=t.SnlMovePieceState},function(t){S=t.SnlRollingState},function(t){u=t.Snl_RoomStatus}],execute:function(){e._RF.push({},"fad72B8hv9DkrVl5zLtWckn","Snl_PlayerStateMachine",void 0);t("SnlPlayerStateMachine",function(){function t(t){this._currentState=void 0,this.idleState=void 0,this.rollingState=void 0,this.movePieceState=void 0,this.player=void 0,this.currentServerState=void 0,this.currentTurnPlayerNumber=-1,this.player=t,this.idleState=new i(this),this.rollingState=new S(this),this.movePieceState=new s(this),this._currentState=this.idleState}var e=t.prototype;return e.updateState=function(t){null!=this._currentState&&this._currentState.updateState(t)},e.changeState=function(t){this._currentState.exitState(),this._currentState=t,this._currentState.enterState()},e.getPlayerNumber=function(){return this.player.playerNumber},e.onServerStateChange=function(t){if(this.currentServerState=t,this.currentTurnPlayerNumber!=t.turnPlayerNumber&&(this.currentTurnPlayerNumber=t.turnPlayerNumber,this.player.isMyTurn(t.turnPlayerNumber)&&(console.log("===================================="),console.log("Player Turn : ",this.currentTurnPlayerNumber))),this.currentServerState.currentRoomStatus!==u.END_GAME&&this.checkAndUpdateBotScreen(),this.player.isMyTurn(t.turnPlayerNumber)){if(t.inputPayload.inputType!=n.NONE)switch(t.inputPayload.inputType){case n.SET_STATE:this.onSetState(t);break;case n.DICE_OUTCOME:this._currentState==this.rollingState&&this.rollingState.onDiceOutCome();break;case n.MOVE_PIECE:this._currentState==this.movePieceState&&this.movePieceState.onMovePiece()}}else this._currentState!=this.idleState&&this.changeState(this.idleState)},e.onReconnection=function(t){if(this.currentServerState=t,this.rollingState.exitState(),this.movePieceState.exitState(),this.player.isMyTurn(t.turnPlayerNumber)){var e=t.playersData[this.player.playerNumber];this.player.outComesUIManager.reset(e.rollsList),t.currentGameState==a.ROLLING?(this._currentState=this.rollingState,this._currentState.enterState(),this.player.timer.setCurrentTime(t.timer)):t.currentGameState==a.MOVING_PIECE&&(this._currentState=this.movePieceState,this._currentState.enterState(),this.player.timer.setCurrentTime(t.timer))}else this.changeState(this.idleState)},e.onSetState=function(t){var e=t.playersData[this.player.playerNumber];this.player.outComesUIManager.reset(e.rollsList),t.currentGameState==a.ROLLING?this.changeState(this.rollingState):t.currentGameState==a.MOVING_PIECE&&this.changeState(this.movePieceState)},e.checkAndUpdateBotScreen=function(){this.player._isLocal&&(this.currentServerState.playersData[this.player.playerNumber].isKickedOut?r.instance.OpenMenu("KickedOutScreen"):this.currentServerState.playersData[this.player.playerNumber].isBot&&r.instance.OpenMenu("BotMadeMoveScreen"))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PlayerTypes.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"ea7e7ceKUFCkYMEtbS9yNEY","Snl_PlayerTypes",void 0);e("Snl_PlayerType",function(e){return e[e.HUMAN=0]="HUMAN",e[e.BOT=1]="BOT",e[e.SPECTATOR=2]="SPECTATOR",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_Pooler.ts",["cc"],(function(t){var e,o,c;return{setters:[function(t){e=t.cclegacy,o=t._decorator,c=t.instantiate}],execute:function(){var n;e._RF.push({},"011efV97bZLd60uRUeUsEEd","Snl_Pooler",void 0);var s=o.ccclass;o.property,t("SnlPooler",s("SnlPooler")(n=function(){function t(t){this.poolName="NodePool",this.pooledObjects=[],this.objectPrefab=null,this.pooledObjectCount=0,this.tempNode=null,this.poolName=t}var e=t.prototype;return e.getObject=function(){return this.pooledObjects.length>0?(this.tempNode=this.pooledObjects.pop(),this.tempNode.active=!0,this.tempNode):this.createObject()},e.returnObject=function(t){this.pooledObjects.push(t),t.active=!1},e.createObject=function(){this.pooledObjectCount++;var t=c(this.objectPrefab);return t.name=this.poolName+" "+this.pooledObjectCount,t},t}())||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Pooler.ts"],(function(o){var n,t,e,l,r;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator,l=o.Component},function(o){r=o.SnlPooler}],execute:function(){var c,s;t._RF.push({},"6502eM2PDBM77A668pOBDf5","Snl_PoolManager",void 0);var a=e.ccclass;e.property,o("SnlPoolManager",a("SnlPoolManager")(((s=function(o){function t(){for(var n,t=arguments.length,e=new Array(t),l=0;l<t;l++)e[l]=arguments[l];return(n=o.call.apply(o,[this].concat(e))||this).pools=[],n}n(t,o);var e=t.prototype;return e.onLoad=function(){t.instance=this},e.onDestroy=function(){t.instance===this&&(t.instance=null)},e.createPool=function(o){var n=new r(o.name);n.objectPrefab=o,this.pools.push(n)},e.getObjectFromPool=function(o){var n=this.getPool(o.name);return null!=n?n.getObject():(this.createPool(o),this.pools[this.pools.length-1].getObject())},e.getPool=function(o){for(var n=0;n<this.pools.length;n++)if(this.pools[n].poolName==o)return this.pools[n];return null},e.returnObjectToPool=function(o){if(o.active){var n=o.name.split(" ")[0],t=this.getPool(n);null!=t?t.returnObject(o):console.warn("No pool found for object "+o.name)}},t}(l)).instance=null,c=s))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_PowerUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_PlayerAssets.ts"],(function(t){var e,n,i,r,o,a,p,l,s,u,c,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,p=t.Sprite,l=t.Animation,s=t.tween,u=t.Color,c=t.Component},function(t){f=t.SnlPlayerAssets}],execute:function(){var h,y,m,d,w,b,P;o._RF.push({},"99481y3p3VOEpcm60dYYIoG","Snl_PowerUp",void 0);var v=a.ccclass,S=a.property;t("SnlPowerUp",(h=v("SnlPowerUp"),y=S({type:p}),m=S({type:l}),h((b=e((w=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"sprite",b,r(e)),e.pathNumber=0,e.powerupType=0,i(e,"animation",P,r(e)),e}n(e,t);var o=e.prototype;return o.start=function(){this.playIdleAnimation()},o.setPathNumber=function(t){this.pathNumber=t},o.setPowerUpType=function(t){this.powerupType=t,this.sprite.spriteFrame=f.instance.getPowerUpSprite(t)},o.blinkWithRedColor=function(){s(this.sprite).to(.2,{color:u.RED},{onUpdate:function(t,e){t.color=u.RED}}).to(.2,{color:u.WHITE},{onUpdate:function(t,e){t.color=u.WHITE}}).union().repeatForever().start()},o.playIdleAnimation=function(){var t=this,e=2e3*Math.random();null==this.animation&&(this.animation=this.getComponent(l)),setTimeout((function(){var e;null==(e=t.animation)||e.play()}),e)},e}(c)).prototype,"sprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_ReconnectingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts"],(function(n){var e,t,i,r,o,c,s,l,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,c=n._decorator,s=n.Node,l=n.tween},function(n){p=n.SnlMenu}],execute:function(){var a,u,f,h,y;o._RF.push({},"654c4C1kvRI9o7GcV+JKcUM","Snl_ReconnectingScreen",void 0);var S=c.ccclass,_=c.property;n("SnlReconnectingScreen",(a=S("SnlReconnectingScreen"),u=_({type:s}),a((y=e((h=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o))||this,i(e,"spinner",y,r(e)),e._spinnerTween=null,e}t(e,n);var o=e.prototype;return o.onLoad=function(){n.prototype.onLoad.call(this)},o.onDestroy=function(){},o.Open=function(){n.prototype.Open.call(this),this.startSpinner()},o.Close=function(){n.prototype.Close.call(this),this.stopSpinner()},o.startSpinner=function(){this._spinnerTween=l(this.spinner).repeatForever(l().by(1,{angle:360})).start()},o.stopSpinner=function(){var n;null==(n=this._spinnerTween)||n.stop(),this._spinnerTween=null},o.initHandTween=function(){},o.initialization=function(){this.initHandTween()},e}(p)).prototype,"spinner",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_RollingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Player.ts","./Snl_PlayerBaseState.ts","./Snl_GameMessageType.ts","./Snl_GameManager.ts","./Snl_NetworkManager.ts"],(function(e){var t,i,n,a,o,l,r,s,c,u;return{setters:[function(e){t=e.inheritsLoose,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e.Node,o=e.Input},function(e){l=e.PlayerState},function(e){r=e.SnlPlayerBaseState},function(e){s=e.SnlGameMessageType},function(e){c=e.SnlGameManager},function(e){u=e.SnlNetworkManager}],execute:function(){n._RF.push({},"9a8829asNRNJrRAy5IvaFib","Snl_RollingState",void 0);e("SnlRollingState",function(e){function n(t){var n;return(n=e.call(this)||this).stateMachine=void 0,n._stateName=l.ROLLING,n.player=void 0,n.currentDiceOutcome=0,n.goldenDiceOutcomes=0,n.stateMachine=t,n.player=n.stateMachine.player,n.player.dice.onDiceRollDone=n.onDiceRollDone.bind(i(n)),n}t(n,e);var r=n.prototype;return r.enterState=function(){console.log("Entered Rolling State"),this.player.diceRoot.active=!0,this.player.timer.stop(),this.player.outComesUIManager.enableOutComesBg(!0),this.player.timer.setTotalTime(this.stateMachine.currentServerState.gameOptions.diceRollWaitTime),this.player.timer.run(),this.player._pawnHandler.Reset(this.stateMachine.currentServerState),this.player.dice.reset();var e=this.stateMachine.currentServerState.playersData[this.player.playerNumber];this.player.outComesUIManager.reset(e.rollsList),this.player._isLocal&&(console.log("Setting Local Player Dice Click"),this.player.dice.node.on(a.EventType.TOUCH_START,this.OnDiceClick,this),this.player.arrowPointToDiceAnimation(!0),c.Instance.miloSDK.vibratePreset("light"))},r.updateState=function(e){},r.exitState=function(){this.player.diceRoot.active=!0,this.player.timer.stop(),console.log("Exited Rolling State local ",this.player._isLocal),this.player._isLocal&&this.player.dice.node.off(o.EventType.TOUCH_START,this.OnDiceClick,this)},r.OnDiceClick=function(e){console.log("OnDiceClick"),this.player._isLocal&&(console.log("OnDiceClick 2"),this.player.dice.node.off(o.EventType.TOUCH_START,this.OnDiceClick,this),c.Instance.setInput("DiceRoll"),this.player.arrowPointToDiceAnimation(!1),console.log("Clicked on Dice"),u.Instance.CurrentRoom.send(s.CLIENT_DICE_ROLL,JSON.stringify({})))},r.onDiceRollDone=function(){this.player.outComesUIManager.addOutCome(this.currentDiceOutcome),u.Instance.CurrentRoom.send(s.ROLLING_ACK,JSON.stringify({})),console.log("Roll Ack Sent")},r.onDiceOutCome=function(){var e=JSON.parse(this.stateMachine.currentServerState.inputPayload.inputValue);this.player.dice.rollDice(e.value),this.currentDiceOutcome=e.value,console.log("Rolled : ",e.value),this.player.timer.stop()},r.reset=function(){this.exitState()},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_RoomTypes.ts",["cc"],(function(t){var _;return{setters:[function(t){_=t.cclegacy}],execute:function(){_._RF.push({},"757e8Wrz9tIWYyubB5/TWQE","Snl_RoomTypes",void 0);t("Snl_RoomStatus",function(t){return t[t.NONE=0]="NONE",t[t.WAITING_FOR_PLAYERS=1]="WAITING_FOR_PLAYERS",t[t.COUNTDOWN=2]="COUNTDOWN",t[t.GAME_SIMULATION=3]="GAME_SIMULATION",t[t.END_GAME=4]="END_GAME",t[t.KICKED_OUT=5]="KICKED_OUT",t}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_RoundCompleted.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts","./Snl_PlayerAvatar.ts","./Snl_GameManager.ts","./SNLGameHandler.ts","./Snl_NetworkManager.ts","./Snl_NetworkTypes.ts","./SNLRoomState.ts","./MiloGameSDK.ts","./events.ts"],(function(e){var t,n,a,i,o,r,l,s,u,c,p,m,d,h,y,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,s=e.Node},function(e){u=e.SnlMenu},function(e){c=e.SnlPlayerAvatar},function(e){p=e.SnlGameManager},function(e){m=e.SNLGameHandler},function(e){d=e.ServerRoomStateChangeEvent},function(e){h=e.SnlNetworkEvents},function(e){y=e.SNLRoomState},function(e){f=e.HostChangeEvent},function(e){g=e.InternalGameSdkEvents}],execute:function(){var b,C,S,v,w,_,P,A,D,L,H,N,I,z,R,G,E,F,M,O,T,k,B;o._RF.push({},"8d0b3eUubVFyZ500OV2Hmds","Snl_RoundCompleted",void 0);var U=r.ccclass,V=r.property;e("SnlRoundCompleted",(b=U("SnlRoundCompleted"),C=V({type:c}),S=V({type:l}),v=V({type:c}),w=V({type:l}),_=V({type:c}),P=V({type:l}),A=V({type:l}),D=V({type:l}),L=V({type:s}),H=V({type:s}),b((z=t((I=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"winnerAvatar",z,i(t)),a(t,"winnerName",R,i(t)),a(t,"mostDeathsPlayerAvatar",G,i(t)),a(t,"mostDeathsPlayerName",E,i(t)),a(t,"mostLadderClimbPlayerAvatar",F,i(t)),a(t,"mostLadderClimbPlayerName",M,i(t)),a(t,"deathsCountLabel",O,i(t)),a(t,"ladderClimbCountLabel",T,i(t)),a(t,"actionsButtonContainer",k,i(t)),a(t,"infoContainer",B,i(t)),t._shouldShowThisScreen=!1,t._optionsInitialized=!1,t}n(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),d.on(h.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this),f.on(g.HOST_CHANGED,this.onHostChanged,this)},o.onDestroy=function(){d.off(h.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this),f.off(g.HOST_CHANGED,this.onHostChanged,this)},o.ServerStateChanged=function(e){if(!this._optionsInitialized){var t=new y;t.gameOptions&&(this._shouldShowThisScreen=t.gameOptions.show_result_screen,this._optionsInitialized=!0),t.copyFrom(e)}},o.Open=function(){this._shouldShowThisScreen&&(e.prototype.Open.call(this),this.initialize())},o.Close=function(){e.prototype.Close.call(this)},o.initialize=function(){e.prototype.initialize.call(this);var t=p.Instance._serverStateCopy.playersData.findIndex((function(e){return 1==e.finishPosition}));if(-1!=t){var n=m.Instance.getPlayer(t);this.winnerAvatar.setAvatarFromSpriteFrame(n.GetProfileSpriteFrame()),this.winnerName.string=n.playerData.name;var a=m.Instance.getMostDeathsPlayer();this.mostDeathsPlayerAvatar.setAvatarFromSpriteFrame(a.GetProfileSpriteFrame()),this.mostDeathsPlayerName.string=a.playerName.string;var i=m.Instance.getMostLadderClimbsPlayer();this.mostLadderClimbPlayerAvatar.setAvatarFromSpriteFrame(i.GetProfileSpriteFrame()),this.mostLadderClimbPlayerName.string=i.playerName.string,this.deathsCountLabel.string="Most Deaths: "+a.playerData.deathsCount,this.ladderClimbCountLabel.string="Most Ladders: "+i.playerData.ladderClimbCount,this.updateHostUI()}else console.error("no winning player")},o.updateHostUI=function(){var e=m.Instance.isLocalUserHost(),t=m.Instance.getHostPlayer();e?t&&(this.infoContainer.active=!1,this.actionsButtonContainer.active=!0):t&&(this.actionsButtonContainer.active=!1,this.infoContainer.getComponent(l).string="Ask "+t.playerData.name+"(Host) to play again or change game",this.infoContainer.active=!0)},o.onHostChanged=function(e){console.log("RoundCompleted: Host changed from",e.oldHostId,"to",e.newHostId),this.node.active&&this.updateHostUI()},o.onPlayAgainButtonClicked=function(){var e=Date.now();p.Instance.miloSDK.playAgain({timestamp:e}),console.log("play again button clicked")},o.onChangeGameButtonClicked=function(){var e=Date.now();p.Instance.miloSDK.changeGame({timestamp:e}),console.log("change game button clicked")},t}(u)).prototype,"winnerAvatar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"winnerName",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(I.prototype,"mostDeathsPlayerAvatar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(I.prototype,"mostDeathsPlayerName",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(I.prototype,"mostLadderClimbPlayerAvatar",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(I.prototype,"mostLadderClimbPlayerName",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(I.prototype,"deathsCountLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(I.prototype,"ladderClimbCountLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(I.prototype,"actionsButtonContainer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(I.prototype,"infoContainer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=I))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/Snl_Utils.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"fa5cdOgOIxMo6E6ar3zoqUl","Snl_Utils",void 0);n("SnlUtils",function(){function n(){}return n.roundNumber=function(n,t){void 0===t&&(t=2);var r=Math.pow(10,t);return Math.round((n+Number.EPSILON)*r)/r},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SNLBoard.ts",["cc"],(function(s){var t;return{setters:[function(s){t=s.cclegacy}],execute:function(){t._RF.push({},"7f17fKQ0pxNmppfWHiEOdtz","SNLBoard",void 0);s("SNLSnakeData",(function(){this.startTile=void 0,this.snakePresetIndex=void 0})),s("SNLLadderData",(function(){this.startTile=void 0,this.ladderPresetIndex=void 0})),s("SNLBoard",function(){function s(){this.boardTiles=[],this.snakes=[],this.ladders=[]}return s.prototype.copyFrom=function(s){this.boardTiles=[];for(var t=0;t<s.boardTiles.length;t++)this.boardTiles.push(s.boardTiles[t]);this.snakes=[];for(var e=0;e<s.snakes.length;e++)this.snakes.push(s.snakes[e]);this.ladders=[];for(var i=0;i<s.ladders.length;i++)this.ladders.push(s.ladders[i])},s}());t._RF.pop()}}}));

System.register("chunks:///_virtual/SNLGameHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SNLRoomState.ts","./SNLGameState.ts","./Snl_RoomTypes.ts","./Snl_AnimationTag.ts","./Snl_Player.ts","./Snl_Board.ts","./Snl_GameManager.ts","./Snl_AudioManager.ts","./Snl_NetworkManager.ts","./Snl_NetworkTypes.ts","./Snl_PBLogger.ts","./Snl_PlayerService.ts"],(function(e){var t,n,a,o,r,i,l,s,c,h,u,y,S,f,m,d,g,P,v,_,p,C,N,E,G,b,R,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){i=e.cclegacy,l=e._decorator,s=e.EventTarget,c=e.Node,h=e.game,u=e.Game,y=e.Tween,S=e.Component},function(e){f=e.SNLRoomState},function(e){m=e.SNLGameState},function(e){d=e.Snl_RoomStatus},function(e){g=e.SnlAnimationTag},function(e){P=e.SnlPlayer},function(e){v=e.SnlBoard},function(e){_=e.SnlGameManager},function(e){p=e.SnlAudioManager},function(e){C=e.ConnectionStateChangeEvent,N=e.ServerRoomStateChangeEvent,E=e.SnlNetworkManager},function(e){G=e.SnlNetworkEvents,b=e.SnlConnectionState},function(e){R=e.SnlPBLogger},function(e){T=e.SnlPlayerService}],execute:function(){var A,D,I,O,L,w,H,M,z,V;i._RF.push({},"043b9WCKYxCpKgbHB9BKVdi","SNLGameHandler",void 0);var F=l.ccclass,B=l.property;e("ClientStateChange",new s),e("SNLGameHandler",(A=F("SNLGameHandler"),D=B({type:c}),I=B({type:v}),O=B({type:P}),A(((V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._clientState=void 0,t._serverState=void 0,a(t,"playersParent",H,o(t)),t.allPlayers=[],a(t,"board",M,o(t)),t.myPlayerNumber=0,t.hasReconnected=!1,a(t,"localPlayer",z,o(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){this.LoadPlayers(),C.on(G.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),N.on(G.SERVER_ROOM_STATE_CHANGE,this.OnServerStateChange,this),t._instance=this,h.on(u.EVENT_HIDE,this.onGameHide,this),h.on(u.EVENT_SHOW,this.onGameShow,this),h.on(u.EVENT_RESTART,this.onGameRestart,this),h.on(u.EVENT_CLOSE,this.onGameClose,this),window.addEventListener("beforeunload",this.onGameClose)},i.LoadPlayers=function(){this.allPlayers=this.playersParent.children.map((function(e){return e.getComponent(P)}))},i.Init=function(e){},i.onGameHide=function(){console.log("====== Game Hide ======"),y.stopAll()},i.onGameShow=function(){console.log("====== Game Show ======"),y.stopAllByTag(g.DICE_ROLL),_.Instance._roomState,d.GAME_SIMULATION},i.onGameRestart=function(){console.log("====== Game Restart ======")},i.onGameClose=function(){console.log("====== Game Close ======"),T.instance.clearPlayers()},i.onGameDisconnect=function(){console.log("====== Game Disconnect ======"),p.instance.stopAllSounds()},i.onGameReconnect=function(){console.log("====== Game Reconnect ======")},i.OnServerStateChange=function(e){return console.log("============ OnServerStateChange ========="),null==this._clientState?(this._clientState=new f,this._clientState.copyFrom(e),this._serverState=new f,this._serverState.copyFrom(e),this.board.Initialize(e),this.InitializePlayers(e),void(this._serverState.currentGameState!=m.NONE&&(console.log("========= joined game in between ========="),this.board.reset(this._serverState),this.sendReconnectionStateToAllPlayers(this._serverState)))):(this._serverState=new f,this._serverState.copyFrom(e),e.currentRoomStatus==d.END_GAME?(console.log("========= Game Over State Change "),void this.board.reset(this._serverState)):this.hasReconnected?(console.log("========= sending Reconnection State Change "),this.board.reset(this._serverState),this.sendReconnectionStateToAllPlayers(this._serverState),void(this.hasReconnected=!1)):void this.sendStateToAllPlayers(this._serverState))},i.onConnectionStateChange=function(e,t){t==b.DISCONNECTED?this.onGameDisconnect():e==b.RECONNECTING&&t==b.JOINED_ROOM&&(this.hasReconnected=!0,this.onGameReconnect())},i.sendStateToAllPlayers=function(e){for(var t=0;t<this.allPlayers.length;t++)this.allPlayers[t].onServerStateChange(e)},i.sendReconnectionStateToAllPlayers=function(e){console.log("=========Reconnection State Sent to All Players");for(var t=0;t<this.allPlayers.length;t++)this.allPlayers[t].node.active&&this.allPlayers[t].onReconnection(e)},i.InitializePlayers=function(e){this.assignMyPlayerNumber(e),T.instance.setMyPlayerNumber(this.myPlayerNumber),R.info("My Player Number : ",this.myPlayerNumber);for(var t=0;t<e.playersData.length;t++)if(t==this.myPlayerNumber)this.localPlayer.node.active=!0,this.localPlayer.initialize(e,this.board,this.myPlayerNumber),this.allPlayers.push(this.localPlayer),T.instance.registerPlayer(this.localPlayer,!0),R.info("Local Player node name : ",this.localPlayer.node.name);else{console.log("Initializing Player : ",t),console.log("current player : ",this.allPlayers[t]);var n=this.allPlayers[t];n.node.active=!0,n.initialize(e,this.board,t),T.instance.registerPlayer(n),R.info("Current Player node name : ",n.node.name)}},i.assignMyPlayerNumber=function(e){for(var t=0;t<e.playersData.length;t++)if(e.playersData[t].sessionId==E.Instance.CurrentRoom.sessionId){this.myPlayerNumber=t;break}},i.getPlayer=function(e){return T.instance.getPlayer(e)},i.getNumberOfProfileRotation=function(e){return 0==e?0:1==e?2:2==e?1:3==e?3:void 0},i.allPlayersFinished=function(){for(var e=0,t=0,n=0;n<this.allPlayers.length;n++)this.allPlayers[n].node.active&&(t++,this.allPlayers[n].isFinished()&&e++);return console.log("Finished Players Count ",e),console.log("Total Players ",this.allPlayers.length),e==t-1},i.anyPlayerFinished=function(){for(var e=0;e<this.allPlayers.length;e++)if(this.allPlayers[e].isFinished())return!0;return!1},i.getMostDeathsPlayer=function(){for(var e=-1,t=-1,n=0;n<this._serverState.playersData.length;n++){var a=this._serverState.playersData[n];a.deathsCount>e&&(e=a.deathsCount,t=a.playerNumber)}return this.getPlayer(t)},i.getMostLadderClimbsPlayer=function(){for(var e=-1,t=-1,n=0;n<this._serverState.playersData.length;n++){var a=this._serverState.playersData[n];a.ladderClimbCount>e&&(e=a.ladderClimbCount,t=a.playerNumber)}return this.getPlayer(t)},i.isLocalUserHost=function(){return _.Instance.miloSDK.getHostId()==this.localPlayer.playerData.userId},i.getHostPlayer=function(){var e=_.Instance.miloSDK.getHostId();return e?this.allPlayers.filter((function(e){return e.playerData})).find((function(t){return t.playerData.userId==e})):null},i.onDestroy=function(){this.cleanup()},i.cleanup=function(){C.off(G.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),N.off(G.SERVER_ROOM_STATE_CHANGE,this.OnServerStateChange,this),h.off(u.EVENT_HIDE,this.onGameHide,this),h.off(u.EVENT_SHOW,this.onGameShow,this),h.off(u.EVENT_RESTART,this.onGameRestart,this),h.off(u.EVENT_CLOSE,this.onGameClose,this),window.removeEventListener("beforeunload",this.onGameClose),T.instance.clearPlayers(),t._instance===this&&(t._instance=null)},r(t,null,[{key:"Instance",get:function(){return this._instance}}]),t}(S))._instance=void 0,H=t((w=V).prototype,"playersParent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"board",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"localPlayer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=w))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/SNLGameState.ts",["cc"],(function(N){var t;return{setters:[function(N){t=N.cclegacy}],execute:function(){t._RF.push({},"73474ShBSNCp6MYj8EOTjIP","SNLGameState",void 0);N("SNLGameState",function(N){return N[N.NONE=0]="NONE",N[N.ROLLING=1]="ROLLING",N[N.MOVING_PIECE=2]="MOVING_PIECE",N[N.END_TURN=3]="END_TURN",N[N.ROLLING_ACK=4]="ROLLING_ACK",N[N.MOVING_PIECE_ACK=5]="MOVING_PIECE_ACK",N}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SNLPlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_BasePlayerData.ts"],(function(i){var t,s,e;return{setters:[function(i){t=i.inheritsLoose},function(i){s=i.cclegacy},function(i){e=i.SnlBasePlayerData}],execute:function(){s._RF.push({},"f8954WpxNhFWpgDtrYTrr9V","SNLPlayerData",void 0);i("SNLPlayerData",function(i){function s(){for(var t,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(t=i.call.apply(i,[this].concat(e))||this).pieces=[0,0],t.rollsList=[],t.timeLeft=0,t.finishPosition=-1,t.isBot=!1,t.hasKilled=!1,t.remainingTurnSkips=0,t.deathsCount=0,t.ladderClimbCount=0,t.hasShield=[!1,!1],t}return t(s,i),s.prototype.copyFrom=function(t){i.prototype.copyFrom.call(this,t),this.pieces=[];for(var s=0;s<t.pieces.length;s++)this.pieces.push(t.pieces[s]);this.rollsList=[];for(var e=0;e<t.rollsList.length;e++)this.rollsList.push(t.rollsList[e]);this.timeLeft=t.timeLeft,this.finishPosition=t.finishPosition,this.isBot=t.isBot,this.hasShield=[];for(var n=0;n<t.hasShield.length;n++)this.hasShield.push(t.hasShield[n]);this.hasKilled=t.hasKilled,this.remainingTurnSkips=t.remainingTurnSkips,this.deathsCount=t.deathsCount,this.ladderClimbCount=t.ladderClimbCount},s}(e));s._RF.pop()}}}));

System.register("chunks:///_virtual/SNLRoomSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_GameConfig.ts","./Snl_BaseRoomSettings.ts"],(function(e){var i,t,o,s;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy},function(e){o=e.DefaultSNLGameOptions},function(e){s=e.SnlBaseRoomSettings}],execute:function(){t._RF.push({},"4dde0jF7xFNHKcvHV98qN+F","SNLRoomSettings",void 0);e("SNLRoomSettings",function(e){function t(){for(var i,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return(i=e.call.apply(e,[this].concat(s))||this).turnWaitTime=o.turnWaitTime,i.boardTilesCount=o.boardTilesCount,i.boardTilesPerRow=o.boardTilesPerRow,i.piecesPerPlayer=o.piecesPerPlayer,i.boardIndex=o.boardIndex,i.diceRollWaitTime=o.diceRollWaitTime,i.movePiecesWaitTime=o.movePiecesWaitTime,i.lagDelayCompensationTime=o.lagDelayCompensationTime,i.animationWaitTime=o.animationWaitTime,i.rocketSteps=o.rocketSteps,i.PowerupTypes=o.PowerupTypes,i.show_mute_button=o.show_mute_button,i.show_result_screen=o.show_result_screen,i.show_faq=o.show_faq,i.MissTurnsToKickOut=o.MissTurnsToKickOut,i.maxReconnectionAttempts=o.maxReconnectionAttempts,i.snakeAnimationTimePerTile=o.snakeAnimationTimePerTile,i.ladderAnimationTimePerTile=o.ladderAnimationTimePerTile,i}return i(t,e),t.prototype.copyFrom=function(i){e.prototype.copyFrom.call(this,i),this.turnWaitTime=i.turnWaitTime,this.boardTilesCount=i.boardTilesCount,this.boardTilesPerRow=i.boardTilesPerRow,this.piecesPerPlayer=i.piecesPerPlayer,this.boardIndex=i.boardIndex,this.diceRollWaitTime=i.diceRollWaitTime,this.movePiecesWaitTime=i.movePiecesWaitTime,this.lagDelayCompensationTime=i.lagDelayCompensationTime,this.animationWaitTime=i.animationWaitTime,this.rocketSteps=i.rocketSteps,this.PowerupTypes=i.PowerupTypes,this.show_mute_button=i.show_mute_button,this.show_result_screen=i.show_result_screen,this.show_faq=i.show_faq,this.MissTurnsToKickOut=i.MissTurnsToKickOut,this.maxReconnectionAttempts=i.maxReconnectionAttempts,this.snakeAnimationTimePerTile=i.snakeAnimationTimePerTile,this.ladderAnimationTimePerTile=i.ladderAnimationTimePerTile},t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/SNLRoomState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SNLGameState.ts","./Snl_BaseRoomState.ts","./Snl_BasePlayerData.ts","./SNLRoomSettings.ts","./SNLBoard.ts","./SNLPlayerData.ts"],(function(t){var e,a,n,o,i,r,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy},function(t){n=t.SNLGameState},function(t){o=t.SnlBaseRoomState},function(t){i=t.SnlBasePlayerData},function(t){r=t.SNLRoomSettings},function(t){s=t.SNLBoard},function(t){u=t.SNLPlayerData}],execute:function(){a._RF.push({},"eacc0N6oc1ISakU6bdEwjIT","SNLRoomState",void 0);var c=t("SNLInputPayload",function(){function t(){this.inputType=void 0,this.inputValue=void 0}return t.prototype.copyFrom=function(t){this.inputType=t.inputType,this.inputValue=t.inputValue},t}());t("SNLRoomState",function(t){function a(){var e;return(e=t.call(this,new r,[])||this).turnPlayerNumber=0,e.finishedCount=0,e.gameOptions=new r,e.inputPayload=new c,e.currentGameState=n.NONE,e.previousGameState=n.NONE,e.syncStateNumber=0,e.board=new s,e.hasMissedTurn=!0,e.timer=0,e}return e(a,t),a.prototype.copyFrom=function(e){console.log("============ CopyFrom snl room state ========="),t.prototype.copyFrom.call(this,e),this.playersData=e.playersData.map((function(t){var e=new u;return e.copyFrom(t),e})),this.spectatorsData=e.spectatorsData.map((function(t){var e=new i;return e.copyFrom(t),e})),this.turnPlayerNumber=e.turnPlayerNumber,this.finishedCount=e.finishedCount,this.gameOptions=new r,this.gameOptions.copyFrom(e.gameOptions),this.syncStateNumber=e.syncStateNumber,this.inputPayload=new c,this.inputPayload.copyFrom(e.inputPayload),this.board=new s,this.board.copyFrom(e.board),this.hasMissedTurn=e.hasMissedTurn,this.timer=e.timer,this.currentGameState=e.currentGameState,this.previousGameState=e.previousGameState},a}(o));a._RF.pop()}}}));

System.register("chunks:///_virtual/SNLTileType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"50ec9GN3mFGcJFtBNdZFMLH","SNLTileType",void 0);e("SNLTileType",function(e){return e[e.DEFAULT=1]="DEFAULT",e[e.SNAKE=2]="SNAKE",e[e.LADDER=4]="LADDER",e[e.SHIELD=8]="SHIELD",e[e.ROCKET=16]="ROCKET",e[e.SAFE=32]="SAFE",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_AudioManager.ts"],(function(e){var i,t,n,r,s,c,a,o,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,c=e._decorator,a=e.Sprite,o=e.Component},function(e){u=e.SnlAudioManager}],execute:function(){var m,l,T,h,p;s._RF.push({},"80a58wc6VlK84Ys/IBzIYmU","Timer",void 0);var f=c.ccclass,g=c.property;e("Timer",(m=f("Timer"),l=g({type:a}),m((p=i((h=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return(i=e.call.apply(e,[this].concat(s))||this)._totalTime=0,i._currentTime=0,n(i,"timerSprite",p,r(i)),i._canRunTimer=!1,i._isTimerWarning=!1,i._isLocal=!1,i}t(i,e);var s=i.prototype;return s.update=function(e){this._canRunTimer&&(this._currentTime-=e,this._currentTime<0&&(this._currentTime=0),this.timerSprite.fillRange=this.getTimeLeftPercentage(),this.checkAndSetTimerWarning())},s.isTimeUp=function(){return this._currentTime<=0},s.setTotalTime=function(e){this._totalTime=e,this._currentTime=e,this.timerSprite.fillRange=this.getTimeLeftPercentage()},s.setCurrentTime=function(e){this._currentTime=e,this.timerSprite.fillRange=this.getTimeLeftPercentage()},s.run=function(){this._canRunTimer=!0},s.stop=function(){this._canRunTimer=!1,this.reset()},s.reset=function(){this._isTimerWarning=!1,this.timerSprite.fillRange=0,u.instance.stopSound("TimerWarning")},s.getTimeLeftPercentage=function(){return this._currentTime/this._totalTime},s.checkAndSetTimerWarning=function(){this._isLocal&&this.getTimeLeftPercentage()<.2&&(this._isTimerWarning||(u.instance.playSound("TimerWarning"),this._isTimerWarning=!0))},s.setLocal=function(e){this._isLocal=e},i}(o)).prototype,"timerSprite",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=h))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts"],(function(n){var e,t,i,o,a,r,l,s,c,u,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.Node,s=n.Quat,c=n.tween,u=n.Vec3},function(n){h=n.SnlMenu}],execute:function(){var d,p,f,y,_;a._RF.push({},"afe91hzxTRN/4/agyLtHzs5","TutorialScreen",void 0);var w=r.ccclass,m=r.property;n("TutorialScreen",(d=w("TutorialScreen"),p=m({type:l}),d((_=e((y=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"handNode",_,o(e)),e._showHandGesture=!0,e._handAnimationTween=null,e}t(e,n);var a=e.prototype;return a.onLoad=function(){n.prototype.onLoad.call(this)},a.start=function(){},a.onDestroy=function(){},a.ServerGameOptionsReceived=function(n){this._showHandGesture=n.show_hand_gesture},a.onSelectedLane=function(){console.log("Selected lane so closing tutorial"),this.Close()},a.Open=function(){this._showHandGesture&&(n.prototype.Open.call(this),this.initialization())},a.Close=function(){n.prototype.Close.call(this),this._handAnimationTween&&this._handAnimationTween.stop()},a.handClickAnimation=function(){var n=this,e=new s;s.fromEuler(e,0,0,15);new s;s.fromEuler(e,0,0,15),this._handAnimationTween=c(this.handNode).call((function(){n.handNode.eulerAngles=u.ZERO.clone()})).delay(.2).to(.3,{rotation:e},{easing:"backOut"}).delay(.7).union().repeatForever(),this._handAnimationTween.start()},a.initialization=function(){this.handClickAnimation()},e}(h)).prototype,"handNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts","./Snl_NetworkTypes.ts","./Snl_RoomTypes.ts","./Snl_CameraManger.ts","./Snl_GameManager.ts"],(function(e){var n,t,o,i,a,s,r,l,u,h,c,f,g,p,m,d,C,S,w,M,y,v,O;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,r=e.Camera,l=e.Node,u=e.Prefab,h=e.UITransform,c=e.Widget,f=e.Color,g=e.Sprite,p=e.tween,m=e.instantiate,d=e.Vec3,C=e.Component},function(e){S=e.SnlMenu},function(e){w=e.SnlNetworkEvents},function(e){M=e.Snl_RoomStatus},function(e){y=e.SnlCameraManger},function(e){v=e.RoomStatusChangeEvent,O=e.SnlGameManager}],execute:function(){var _,b,I,N,A,U,G,P,T,R,E,z,F,H;a._RF.push({},"2304fly6R9HErKhay4HPyij","UIManager",void 0);var W=s.ccclass,D=s.property;e("UIManager",(_=W("UIManager"),b=D({type:r}),I=D({type:[S]}),N=D({type:l}),A=D({type:u}),U=D({type:l}),_(((H=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,o(n,"uiCamera",T,i(n)),o(n,"menus",R,i(n)),o(n,"flashNode",E,i(n)),o(n,"showerConfettiPrefab",z,i(n)),o(n,"confettiPositionNode",F,i(n)),n.showMuteButton=!0,n.showResultScreen=!0,n.showFAQ=!0,n}t(n,e);var a=n.prototype;return a.onLoad=function(){n.instance=this,v.on(w.ROOM_STATUS_CHANGE,this.onGameStateChange,this)},a.start=function(){this.FixWidthOfUICamera()},a.onDestroy=function(){v.off(w.ROOM_STATUS_CHANGE,this.onGameStateChange,this)},a.OpenHowToPlay=function(){this.OpenMenu("HowToPlay")},a.OpenMenu=function(e){for(var n=0;n<this.menus.length;n++)this.menus[n].menuName==e&&this.menus[n].Open()},a.CloseMenu=function(e){for(var n=0;n<this.menus.length;n++)this.menus[n].menuName==e&&this.menus[n].Close()},a.GetMenu=function(e){for(var n=0;n<this.menus.length;n++)if(this.menus[n].menuName==e)return this.menus[n];return null},a.CloseAllMenus=function(){for(var e=0;e<this.menus.length;e++)this.menus[e].Close()},a.onGameStateChange=function(e){var n=this;console.log("[UIManager] Game State Change: ",e),e==M.WAITING_FOR_PLAYERS?(console.log("Opening waiting screen"),this.updateUiBasedOnConfig(),this.OpenMenu("WaitingScreen")):e==M.COUNTDOWN?(console.log("Opening countdown screen"),this.CloseAllMenus(),this.OpenMenu("CountdownScreen")):e==M.GAME_SIMULATION?this.scheduleOnce((function(){n.CloseMenu("CountdownScreen"),n.OpenMenu("InGameMenu")}),1):e==M.END_GAME?(console.log("[UIManager] End Game State handling in ui manager"),this.CloseAllMenus(),console.log("[UIManager] Opening end round screen"),this.OpenMenu("RoundCompletedScreen")):e==M.KICKED_OUT&&(this.CloseAllMenus(),this.OpenMenu("KickedOutScreen"))},a.FixWidthOfUICamera=function(){console.log("Fixing width of UI Camera"),this.FixCanvasSize()},a.FixCanvasSize=function(){var e=this.node.getComponent(h);e.setContentSize(y.instance.getWidth(),2*y.instance.camera.orthoHeight),console.log("UI Width: ",e.width,"UI Height: ",e.height);var n=this.node.getComponent(c);n.top=960-e.height/2,n.bottom=960-e.height/2,n.updateAlignment();for(var t=this.node.getComponentsInChildren(c),o=0;o<t.length;o++)t[o].updateAlignment()},a.getAllChildWidgets=function(e){var n=e.getComponentsInChildren(c);console.log("All widgets: ",n.length)},a.updateUiBasedOnConfig=function(){this.showMuteButton=O.Instance._serverStateCopy.gameOptions.show_mute_button,this.showResultScreen=O.Instance._serverStateCopy.gameOptions.show_result_screen,this.showFAQ=O.Instance._serverStateCopy.gameOptions.show_faq;for(var e=0;e<this.menus.length;e++)this.menus[e].initialize()},a.playFlashEffect=function(e){var n=this;void 0===e&&(e=new f(197,8,8)),this.flashNode.active=!0;var t=this.flashNode.getComponent(g);t?(t.color=new f(e.r,e.g,e.b,0),p(t).to(.2,{color:new f(e.r,e.g,e.b,255)}).delay(.05).to(.3,{color:new f(e.r,e.g,e.b,0)}).call((function(){n.flashNode.active=!1})).start()):console.error("No Sprite component found on flashNode")},a.showConfetti=function(){var e=m(this.showerConfettiPrefab);this.confettiPositionNode.addChild(e),e.setPosition(new d(0,150,0))},n}(C)).instance=null,T=n((P=H).prototype,"uiCamera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(P.prototype,"menus",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=n(P.prototype,"flashNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(P.prototype,"showerConfettiPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(P.prototype,"confettiPositionNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=P))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/WaitingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snl_Menu.ts"],(function(t){var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.SnlMenu}],execute:function(){var c;e._RF.push({},"a09e5Z+tyVKPLUvl7lBdOyg","WaitingScreen",void 0);var r=i.ccclass;i.property,t("WaitingScreen",r("WaitingScreen")(c=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onLoad=function(){t.prototype.onLoad.call(this)},i.onDestroy=function(){},i.Open=function(){t.prototype.Open.call(this)},i.Close=function(){t.prototype.Close.call(this)},i.initialize=function(){t.prototype.initialize.call(this)},e}(o))||c);e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/snl_game', 'chunks:///_virtual/snl_game'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});