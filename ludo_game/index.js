System.register("chunks:///_virtual/ILudoRoomSettings.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"79859f2JIJNtZdtajk99tGI","ILudoRoomSettings",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_AnimationTag.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"f59a8phHoNJLaYWbxPYCkUJ","Ludo_AnimationTag",void 0);n("LudoAnimationTag",function(n){return n[n.DICE_ROLL=0]="DICE_ROLL",n[n.PIECE_MOVE=1]="PIECE_MOVE",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,o,t,n,a,u,l,r,s,d,c,p,h,f,b,y;return{setters:[function(i){e=i.applyDecoratedDescriptor,o=i.inheritsLoose,t=i.initializerDefineProperty,n=i.assertThisInitialized,a=i.createClass},function(i){u=i.cclegacy,l=i._decorator,r=i.CCString,s=i.AudioClip,d=i.CCFloat,c=i.CCBoolean,p=i.AudioSource,h=i.Prefab,f=i.sys,b=i.instantiate,y=i.Component}],execute:function(){var g,A,S,C,m,E,v,P,L,w,I,D,z,_,F,k,B,M,T,x,K,R,j;u._RF.push({},"0bce8NjgndFhq9YoIFFHzFK","Ludo_AudioManager",void 0);var G=l.ccclass,H=l.property,U=(g=G("LudoAudioClipData"),A=H({type:r}),S=H({type:s}),C=H({type:d}),m=H({type:d}),E=H({type:c}),g((L=e((P=function(){function i(){t(this,"name",L,this),t(this,"audioClips",w,this),t(this,"delayBetweenClips",I,this),t(this,"volume",D,this),t(this,"loop",z,this),this.isLoopPlaying=void 0,this.lastPlayedTime=0,this.clipIndex=0}var e=i.prototype;return e.GetClip=function(){var i=this.audioClips[this.clipIndex];if(this.clipIndex=(this.clipIndex+1)%this.audioClips.length,this.CanPlay())return this.lastPlayedTime=Date.now(),i},e.CanPlay=function(){return Date.now()-this.lastPlayedTime>1e3*this.delayBetweenClips},i}()).prototype,"name",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(P.prototype,"audioClips",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(P.prototype,"delayBetweenClips",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=e(P.prototype,"volume",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),z=e(P.prototype,"loop",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P))||v);i("LudoAudioManager",(_=G("LudoAudioManager"),F=H({type:U}),k=H({type:p}),B=H({type:h}),_(((j=function(i){function e(){for(var e,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return e=i.call.apply(i,[this].concat(a))||this,t(e,"audioClipData",x,n(e)),t(e,"backgroundAudioSource",K,n(e)),e.localStorageAudioEnabledKey="LudoAudioEnabled",t(e,"audioSourcePrefab",R,n(e)),e.audioSources=[],e._isAudioEnabled="true",e}o(e,i);var u=e.prototype;return u.onLoad=function(){e.instance=this,this.ReadAudioEnabledFromLocalStorage()},u.start=function(){this.SetAudioEnabled(this.IsAudioEnabled)},u.playSound=function(i){if("false"!=this.IsAudioEnabled){var e=this.audioClipData.find((function(e){return e.name==i}));if(null!=e){var o=e.GetClip();if(o){if(e.isLoopPlaying)return;var t=this.getEmptyAudioSource();t.loop=e.loop,e.isLoopPlaying=e.loop,t.volume=e.volume,t.clip=o,e.loop?t.play():t.playOneShot(o)}else console.warn("Audio Clip is in use ",i)}}},u.stopSound=function(i){var e=this.audioClipData.find((function(e){return e.name==i}));e?this.audioSources.forEach((function(i){i.clip==e.audioClips[e.clipIndex]&&(e.isLoopPlaying=!1,i.stop())})):console.warn("Audio Clip not found for ",i)},u.stopAllSounds=function(){this.audioSources.forEach((function(i){i.stop()})),this.audioClipData.forEach((function(i){i.isLoopPlaying=!1}))},u.ToggleAudio=function(){"true"==this.IsAudioEnabled?this.SetAudioEnabled("false"):this.SetAudioEnabled("true")},u.SetAudioEnabled=function(i){this._isAudioEnabled=i,this.UpdateBackgroundMusic(),this.WriteAudioEnabledToLocalStorage()},u.WriteAudioEnabledToLocalStorage=function(){f.localStorage.setItem(this.localStorageAudioEnabledKey,this.IsAudioEnabled)},u.ReadAudioEnabledFromLocalStorage=function(){var i=f.localStorage.getItem(this.localStorageAudioEnabledKey);this._isAudioEnabled=null==i?"true":i},u.UpdateBackgroundMusic=function(){var i,e;"true"==this.IsAudioEnabled?null==(i=this.backgroundAudioSource)||i.play():null==(e=this.backgroundAudioSource)||e.stop()},u.printAllPlayingAudioSources=function(){this.audioSources.forEach((function(i){i.playing&&console.log("Playing audio source: ",i.playing,i.clip.name,i.uuid)}))},u.getEmptyAudioSource=function(){var i=this.audioSources.find((function(i){return!i.playing}));return null==i&&(i=this.createAudioSource()),i},u.createAudioSource=function(){var i=b(this.audioSourcePrefab).getComponent(p);return i.node.setParent(this.node),this.audioSources.push(i),console.log("==== Created new audio source: ",this.audioSources.length),i},u.onDestroy=function(){e.instance===this&&(e.instance=null)},a(e,[{key:"IsAudioEnabled",get:function(){return this._isAudioEnabled}}]),e}(y)).instance=null,x=e((T=j).prototype,"audioClipData",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(T.prototype,"backgroundAudioSource",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(T.prototype,"audioSourcePrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=T))||M));u._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_AutoReturnToPool.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_PoolManager.ts"],(function(o){var t,e,n,r,i,u,l,a,s,c;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized},function(o){i=o.cclegacy,u=o._decorator,l=o.CCFloat,a=o.CCBoolean,s=o.Component},function(o){c=o.LudoPoolManager}],execute:function(){var p,d,f,h,y,P,T;i._RF.push({},"fd98eYme1lBibSLi1fDdDHQ","Ludo_AutoReturnToPool",void 0);var b=u.ccclass,L=u.property;o("LudoAutoReturnToPool",(p=b("LudoAutoReturnToPool"),d=L({type:l}),f=L({type:a}),p((P=t((y=function(o){function t(){for(var t,e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return t=o.call.apply(o,[this].concat(i))||this,n(t,"timeToReturnToPool",P,r(t)),n(t,"shouldDestroy",T,r(t)),t}e(t,o);var i=t.prototype;return i.onEnable=function(){this.scheduleOnce(this.returnToPool,this.timeToReturnToPool)},i.start=function(){},i.update=function(o){},i.returnToPool=function(){c.instance.returnObjectToPool(this.node),this.shouldDestroy&&this.node.destroy()},t}(s)).prototype,"timeToReturnToPool",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),T=t(y.prototype,"shouldDestroy",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_BasePlayerData.ts",["cc"],(function(i){var s;return{setters:[function(i){s=i.cclegacy}],execute:function(){s._RF.push({},"ae0b1fI4I5GDZhxMKh6Yad9","Ludo_BasePlayerData",void 0);i("LudoBasePlayerData",function(){function i(){this.userId=void 0,this.name=void 0,this.avatar=void 0,this.sessionId=void 0,this.playerNumber=void 0,this.type=void 0,this.isOnline=void 0,this.isConnected=void 0,this.isReplacedByBot=void 0,this.isKickedOut=void 0,this.isReady=void 0,this.score=void 0}return i.prototype.copyFrom=function(i){this.userId=i.userId,this.name=i.name,this.avatar=i.avatar,this.sessionId=i.sessionId,this.playerNumber=i.playerNumber,this.type=i.type,this.isOnline=i.isOnline,this.isConnected=i.isConnected,this.isReplacedByBot=i.isReplacedByBot,this.isKickedOut=i.isKickedOut,this.isReady=i.isReady,this.score=i.score},i}());s._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_BaseRoomSettings.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7fec135h2xKlIO+Q+n1ixAz","Ludo_BaseRoomSettings",void 0);e("DefaultRoomSettings",{maxPlayers:8,minPlayers:2,maxClients:8,countdownTimeInSeconds:3,allowLateJoin:!0,maxReconnectionAttempts:3,reconnectionAttemptInterval:1e3,reconnectionTime:1e4,gameFPS:30,serverFPS:30,patchRate:1e3}),e("LudoBaseRoomSettings",function(){function e(){this.maxPlayers=void 0,this.minPlayers=void 0,this.maxClients=void 0,this.countdownTimeInSeconds=void 0,this.allowLateJoin=void 0,this.maxReconnectionAttempts=void 0,this.reconnectionAttemptInterval=void 0,this.reconnectionTime=void 0,this.gameFPS=void 0,this.serverFPS=void 0,this.patchRate=void 0}return e.prototype.copyFrom=function(e){this.maxPlayers=e.maxPlayers,this.minPlayers=e.minPlayers,this.maxClients=e.maxClients,this.countdownTimeInSeconds=e.countdownTimeInSeconds,this.allowLateJoin=e.allowLateJoin,this.reconnectionTime=e.reconnectionTime,this.gameFPS=e.gameFPS,this.serverFPS=e.serverFPS,this.patchRate=e.patchRate},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_BaseRoomState.ts",["cc","./Ludo_RoomTypes.ts"],(function(t){var o,s;return{setters:[function(t){o=t.cclegacy},function(t){s=t.LudoRoomStatus}],execute:function(){o._RF.push({},"92cc9D9VqVFCoBMqhukL46V","Ludo_BaseRoomState",void 0);t("LudoBaseRoomState",function(){function t(t,o){this.currentRoomStatus=s.WAITING_FOR_PLAYERS,this.previousRoomStatus=s.NONE,this.roomSettings=void 0,this.playersData=void 0,this.spectatorsData=void 0,this.roomSettings=t,this.playersData=o,this.spectatorsData=[]}return t.prototype.copyFrom=function(t){this.currentRoomStatus=t.currentRoomStatus,this.previousRoomStatus=t.previousRoomStatus,this.roomSettings.copyFrom(t.roomSettings)},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Board.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Piece.ts","./Ludo_Defines.ts","./Ludo_PowerUp.ts","./Ludo_PlayerAssets.ts","./Ludo_AudioManager.ts","./Ludo_NetworkManager.ts"],(function(e){var t,i,r,s,n,o,a,h,u,l,p,c,m,b,P,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,r=e.inheritsLoose,s=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,a=e._decorator,h=e.Node,u=e.instantiate,l=e.Component},function(e){p=e.LudoPiece},function(e){c=e.LudoTileType},function(e){m=e.LudoPowerUp},function(e){b=e.LudoPlayerAssets},function(e){P=e.LudoAudioManager},function(e){f=e.LudoNetworkManager}],execute:function(){var g,d,y,N,T,w,S,v,U,L,G,O,_,B,C,E,I;o._RF.push({},"00ec6G0x55IjbOOdOucCJhh","Ludo_Board",void 0);var A=a.ccclass,k=a.property,x=(g=A("LudoHomeTiles"),d=k({type:[h]}),g((T=t((N=function(){i(this,"homeTiles",T,this)}).prototype,"homeTiles",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=N))||y);e("LudoBoard",(w=A("LudoBoard"),S=k({type:[h]}),v=k({type:[x]}),U=k({type:h}),L=k({type:h}),w(((I=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"pathTiles",_,s(t)),t.tileTypes=[],t.powerUps=[],i(t,"homeTiles",B,s(t)),i(t,"basesParent",C,s(t)),t.pieces=[],t._initialOffset=0,t._isInitialized=!1,t.roomSettings=null,i(t,"powerupsParent",E,s(t)),t.bombSteps=8,t.rocketSteps=8,t}r(t,e);var o=t.prototype;return o.onLoad=function(){null!=t._instance&&this.node.destroy(),t._instance=this,this._initialOffset=26},o.onDestroy=function(){t._instance===this&&(t._instance=null)},o.Initialize=function(e){if(!this._isInitialized){this.roomSettings=e.roomSettings;var t=e.playersData.find((function(e){return e.sessionId==f.Instance.CurrentRoom.sessionId}));null!=t&&(this.node.setRotationFromEuler(0,0,180+90*this.getPlayerPositionOnBoard(t.playerNumber)),this._isInitialized=!0,this.bombSteps=this.roomSettings.bombSteps,this.rocketSteps=this.roomSettings.rocketSteps,this.createTiles(e))}},o.reset=function(e){this.createTiles(e)},o.createTiles=function(e){this.tileTypes=[];for(var t=0;t<e.boardTiles.length;t++)this.tileTypes.push(e.boardTiles[t]);this.createPowerups()},o.start=function(){},o.createPowerups=function(){for(var e=[],t=0;t<this.tileTypes.length;t++)for(var i=0;i<this.roomSettings.PowerupTypes.length;i++)if(this.tileTypes[t]&this.roomSettings.PowerupTypes[i]){var r=this.popPowerupON(t);if(null!=r){e.push(r);break}var s=u(b.instance.powerUpPrefab).getComponent(m);s.node.setParent(this.powerupsParent,!0),s.node.worldPosition=this.pathTiles[t].worldPosition.clone(),s.setPathNumber(t),s.setPowerUpType(this.tileTypes[t]),e.push(s);break}for(var n=0;n<this.powerUps.length;n++)this.powerUps[n].node.destroy();this.powerUps=e},o.popPowerupON=function(e){for(var t=0;t<this.powerUps.length;t++)if(this.powerUps[t].pathNumber==e){var i=this.powerUps[t];return this.powerUps.splice(t,1),i}return null},o.getPathTile=function(e,t,i){if(0==e)return this.getPlayerBase(t).children[i];if(e>=52)return this.homeTiles[t].homeTiles[e-52];var r=this.getGlobalTileIndex(e,t);return this.pathTiles[r]},o.getPathPositions=function(e,t,i,r){var s=[],n=null;if(0==t){for(var o=e;o>=0;o--)n=this.getPathTile(o,i,r),s.push(n.worldPosition.clone());return console.log("Piece going to home : path positions length ",s.length," start path number: ",e," end path number: ",t),s}for(var a=e;a<=t;a++)null!=(n=this.getPathTile(a,i,r))&&s.push(n.worldPosition.clone());return s},o.isPathOccupied=function(e,t){if(0==e)return!1;for(var i=this.getGlobalPiecePathNumber(t.playerNumber,t.pathNumber,this.roomSettings),r=0;r<this.pieces.length;r++)if(this.getGlobalPiecePathNumber(this.pieces[r].playerNumber,this.pieces[r].pathNumber,this.roomSettings)==i&&this.pieces[r]!=t)return!0;return!1},o.getPawnsCountOnTile=function(e,t){var i=this.getGlobalPiecePathNumber(t,e,this.roomSettings);if(-1==i)return 0;for(var r=0,s=0;s<this.pieces.length;s++){this.getGlobalPiecePathNumber(this.pieces[s].playerNumber,this.pieces[s].pathNumber,this.roomSettings)==i&&r++}return r},o.getPawnsOnTile=function(e,t){var i=this.getGlobalPiecePathNumber(t,e,this.roomSettings);if(-1==i)return[];for(var r=[],s=0;s<this.pieces.length;s++){this.getGlobalPiecePathNumber(this.pieces[s].playerNumber,this.pieces[s].pathNumber,this.roomSettings)==i&&r.push(this.pieces[s])}return r},o.canKillOtherPieces=function(e,t,i){if(this.getGlobalPiecePathNumber(t,e,this.roomSettings)<=-1)return!1;var r=this.getPathTile(e,t,i);if(this.isSafeTile(e,t))return!1;if(r.children.length>=3)return!1;for(var s=0;s<r.children.length;s++)if(r.children[s].getComponent(p).playerNumber!=t)return!0;return!1},o.piecesOnTile=function(e,t){for(var i=this.getGlobalPiecePathNumber(t,e,this.roomSettings),r=0,s=0;s<this.pieces.length;s++){this.getGlobalPiecePathNumber(this.pieces[s].playerNumber,this.pieces[s].pathNumber,this.roomSettings)==i&&r++}return r},o.getKillablePieces=function(e){var t=this.getGlobalPiecePathNumber(e.playerNumber,e.pathNumber,this.roomSettings);if(t<=-1)return null;if(this.isSafeTile(e.pathNumber,e.playerNumber))return null;for(var i=0,r=null,s=0;s<this.pieces.length;s++){if(this.pieces[s]!=e)this.getGlobalPiecePathNumber(this.pieces[s].playerNumber,this.pieces[s].pathNumber,this.roomSettings)==t&&(i++,this.pieces[s].playerNumber!=e.playerNumber&&(r=this.pieces[s]))}return console.log("Other Pieces on Tile: ",i),console.log("Opponent Piece: ",r),1==i?r:null},o.isSafeTile=function(e,t){var i=this.getGlobalPiecePathNumber(t,e,this.roomSettings);return(this.tileTypes[i]&c.SAFE)>0},o.getPowerUpType=function(e){for(var t=this.getGlobalPiecePathNumber(e.playerNumber,e.pathNumber,this.roomSettings),i=this.tileTypes[t],r=0;r<this.roomSettings.PowerupTypes.length;r++)if(i&this.roomSettings.PowerupTypes[r]){this.getGlobalPiecePathNumber(e.playerNumber,e.pathNumber,this.roomSettings);return this.roomSettings.PowerupTypes[r]}return c.DEFAULT},o.getPowerupNode=function(e){for(var t=this.getGlobalPiecePathNumber(e.playerNumber,e.pathNumber,this.roomSettings),i=0;i<this.powerUps.length;i++)if(this.powerUps[i].pathNumber==t)return this.powerUps[i].node;return null},o.removePowerUp=function(e){this.tileTypes[e.pathNumber]=c.DEFAULT;for(var t=0;t<this.powerUps.length;t++)if(this.powerUps[t]==e){this.powerUps.splice(t,1);break}e.node.destroy()},o.removePowerUpByPathNumber=function(e){this.tileTypes[e]=c.DEFAULT;for(var t=0;t<this.powerUps.length;t++)if(this.powerUps[t].pathNumber==e){this.powerUps[t].node.destroy(),this.powerUps.splice(t,1);break}},o.doesEnemyExist=function(e,t){if(0==t||t>=this.nonHomePathCount(this.roomSettings))return!1;for(var i=this.getGlobalPiecePathNumber(e.playerNumber,t,this.roomSettings),r=0;r<this.pieces.length;r++){var s=this.getGlobalPiecePathNumber(this.pieces[r].playerNumber,this.pieces[r].pathNumber,this.roomSettings);if(s==i&&this.pieces[r].playerNumber!=e.playerNumber)return console.log("otherPieceGlobalPathNumber: ",s," globalPathNumber: ",i),console.log("Enemy Exists at Path Number: ",this.pieces[r].pathNumber," for player: ",this.pieces[r].playerNumber," at piece: ",this.pieces[r].pieceNumber),console.log(" my piece path number: ",e.pathNumber," my piece player number: ",e.playerNumber," my piece index: ",e.pieceNumber),console.log("my piece ",e),console.log("enemy piece ",this.pieces[r]),!0}return!1},o.doesAnyPieceExistOnPath=function(e,t){if(0==t||t>=this.nonHomePathCount(this.roomSettings))return!1;for(var i=this.getGlobalPiecePathNumber(e.playerNumber,t,this.roomSettings),r=0;r<this.pieces.length;r++){if(this.pieces[r]!=e)if(this.getGlobalPiecePathNumber(this.pieces[r].playerNumber,this.pieces[r].pathNumber,this.roomSettings)==i)return!0}return!1},o.getPropellerLandingPathNumber=function(e){for(var t=e.pathNumber,i=0;i<this.rocketSteps;i++){if(!this.isValidPathNumber(t+1,e.playerNumber))return console.log("Invalid Path Number: ",t+1),t;if(this.doesAnyPieceExistOnPath(e,t+1))return console.log("Enemy Exists at Path Number: ",t+1),t;t+=1}return t},o.getBombLandingPathNumber=function(e){for(var t=e.pathNumber,i=0;i<this.bombSteps;i++){if(!this.isValidPathNumber(t+1,e.playerNumber))return t;if(this.doesAnyPieceExistOnPath(e,t+1))return t+1;t+=1}return t},o.getGlobalTileIndex=function(e,t){return(e+13*this.getPlayerPositionOnBoard(t))%this.pathTiles.length},o.getGlobalPiecePathNumber=function(e,t,i){if(t>=this.nonHomePathCount(i)){var r=t-this.nonHomePathCount(i);return-1*e*i.pathTilesPerSide-5-r}return 0==t?-1*e-1:(this.getInitialOffset(e,i)+t)%this.nonHomePathCount(i)},o.getInitialOffset=function(e,t){return 0==e?0:1==e?4*t.pathTilesPerSide+2:2==e?6*t.pathTilesPerSide+3:3==e?2*t.pathTilesPerSide+1:void 0},o.isValidPathNumber=function(e,t){return e>=0&&e<this.nonHomePathCount(this.roomSettings)+this.homePathCount(this.roomSettings)},o.nonHomePathCount=function(e){return 8*e.pathTilesPerSide+4},o.homePathCount=function(e){return e.pathTilesPerSide},o.getPlayerPositionOnBoard=function(e){return 0==e?0:1==e?2:2==e?3:3==e?1:void 0},o.getPlayerBase=function(e){return this.basesParent.children[e]},o.addPieces=function(e){var t;(t=this.pieces).push.apply(t,e)},o.addPiece=function(e){this.pieces.push(e)},o.updateAllPiecePositions=function(){for(var e=0;e<this.pieces.length;e++)this.pieces[e].updatePiecePosition()},o.createBombBlastEffect=function(e){var i=u(b.instance.bombBlastEffectPrefab);P.instance.playSound("BombBlast"),i.setParent(t.Instance.node,!0),i.worldPosition=e,this.scheduleOnce((function(){i.destroy()}),1)},n(t,null,[{key:"Instance",get:function(){return t._instance}}]),t}(l))._instance=null,_=t((O=I).prototype,"pathTiles",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(O.prototype,"homeTiles",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(O.prototype,"basesParent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(O.prototype,"powerupsParent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=O))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_BotMadeMoveScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts","./Ludo_UIManager.ts","./Ludo_NetworkManager.ts","./Ludo_NetworkTypes.ts"],(function(e){var n,t,o,i,c,r,u,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,i=e.Node},function(e){c=e.LudoMenu},function(e){r=e.LudoUIManager},function(e){u=e.LudoNetworkManager},function(e){a=e.LudoServerMessageType}],execute:function(){var s;t._RF.push({},"2a54ci7xlBJbIDclel3ETXQ","Ludo_BotMadeMoveScreen",void 0);var l=o.ccclass;o.property,e("LudoBotMadeMoveScreen",l("LudoBotMadeMoveScreen")(s=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this)._timer=0,n}n(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.content.on(i.EventType.TOUCH_START,this.OnClick,this)},o.onDestroy=function(){},o.Open=function(){e.prototype.Open.call(this),this._timer=0},o.Close=function(){e.prototype.Close.call(this)},o.initHandTween=function(){},o.initialization=function(){this.initHandTween()},o.OnClick=function(){u.Instance.sendMessage(a.PLAYER_CAMEBACK,{}),r.instance.CloseMenu(this.menuName)},t}(c))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_CameraManger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,a,o,h,s,c,d,u,g,f,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,h=e.EventTarget,s=e.UITransform,c=e.Camera,d=e.screen,u=e.sys,g=e.view,f=e.math,l=e.Component}],execute:function(){var p,w,m,v,H,b,S,A,z,O,y,C;a._RF.push({},"01e10aBtaxDyoi4buVWsPAK","Ludo_CameraManger",void 0);var R=o.ccclass,W=o.property,x=o.executionOrder,L=e("CameraOrthoSizeChangeEvent",new h);x(-100);e("LudoCameraManger",(p=R("LudoCameraManger"),w=W({type:s}),p(((C=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"canvasUITransform",H,n(t)),r(t,"designHeight",b,n(t)),r(t,"designWidth",S,n(t)),r(t,"defaultOrthoHeight",A,n(t)),r(t,"minOrthoHeight",z,n(t)),r(t,"maxOrthoHeight",O,n(t)),r(t,"safeAreaPadding",y,n(t)),t.designAspectRatio=void 0,t.currentAspectRatio=void 0,t.camera=null,t.windowWidth=1080,t.windowHeight=1920,t.effectiveWidth=0,t.effectiveHeight=0,t.effectiveAspectRatio=0,t}i(t,e);var a=t.prototype;return a.onLoad=function(){console.log("CameraManger onLoad"),t.instance=this,this.designAspectRatio=this.designWidth/this.designHeight,this.camera=this.node.getComponent(c)},a.start=function(){var e=this;this.updateScreenSize(),this.adaptCameraToScreen(),window.addEventListener("resize",(function(){e.updateScreenSize(),e.adaptCameraToScreen()}))},a.updateScreenSize=function(){this.windowWidth=d.windowSize.width||window.innerWidth,this.windowHeight=d.windowSize.height||window.innerHeight,this.currentAspectRatio=this.windowWidth/this.windowHeight,console.log("Window Size: "+this.windowWidth+"x"+this.windowHeight+", Aspect Ratio: "+this.currentAspectRatio.toFixed(2))},a.adaptCameraToScreen=function(){if(this.camera){var e=0,t=0,i=0,r=0;if(u.os===u.OS.IOS||u.os===u.OS.ANDROID){var n=g.getVisibleSize(),a=g.getVisibleOrigin();n&&(e=a.y,t=this.windowHeight-(a.y+n.height),i=a.x,r=this.windowWidth-(a.x+n.width))}this.effectiveHeight=this.windowHeight-e-t-2*this.safeAreaPadding,this.effectiveWidth=this.windowWidth-i-r-2*this.safeAreaPadding,this.effectiveAspectRatio=this.effectiveWidth/this.effectiveHeight,console.log("Effective Size: "+this.effectiveWidth+"x"+this.effectiveHeight+", Aspect Ratio: "+this.effectiveAspectRatio.toFixed(2));var o=this.currentAspectRatio>=1,h=this.defaultOrthoHeight;if(o)console.log("=== Landscape Mode ==="),h=this.defaultOrthoHeight*(1/this.currentAspectRatio)*1.5;else{console.log("=== Portrait Mode ===");var s=.6/Math.min(this.currentAspectRatio,.6);h=this.defaultOrthoHeight*s}h=f.clamp(h,this.minOrthoHeight,this.maxOrthoHeight),this.camera.orthoHeight=h,console.log("Camera Ortho Height: "+h.toFixed(2)),L.emit("CameraOrthoSizeChange",h)}},a.getWidth=function(){return 2*this.camera.orthoHeight*this.currentAspectRatio},a.getCurrentOrthoHeight=function(){return this.camera.orthoHeight},a.refreshCameraAdaptation=function(){this.updateScreenSize(),this.adaptCameraToScreen()},t}(l)).instance=null,H=t((v=C).prototype,"canvasUITransform",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"designHeight",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1920}}),S=t(v.prototype,"designWidth",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1080}}),A=t(v.prototype,"defaultOrthoHeight",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 820}}),z=t(v.prototype,"minOrthoHeight",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 750}}),O=t(v.prototype,"maxOrthoHeight",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1080}}),y=t(v.prototype,"safeAreaPadding",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_CountdownScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts"],(function(n){var t,e,o,i,c,u,r,a,l,s,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){c=n.cclegacy,u=n._decorator,r=n.Label,a=n.Node,l=n.tween,s=n.Vec3},function(n){d=n.LudoMenu}],execute:function(){var w,p,f,h,y,T,v;c._RF.push({},"e235b1n845P3Kj8E4MhzxR0","Ludo_CountdownScreen",void 0);var _=u.ccclass,b=u.property;n("LudoCountdownScreen",(w=_("LudoCountdownScreen"),p=b({type:r}),f=b({type:a}),w((T=t((y=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),u=0;u<e;u++)c[u]=arguments[u];return(t=n.call.apply(n,[this].concat(c))||this)._countdownTween=null,o(t,"countdownText",T,i(t)),o(t,"blackBG",v,i(t)),t}e(t,n);var c=t.prototype;return c.onLoad=function(){n.prototype.onLoad.call(this)},c.onDestroy=function(){},c.Open=function(){n.prototype.Open.call(this),this.initialization()},c.Close=function(){n.prototype.Close.call(this),null!=this._countdownTween&&this._countdownTween.stop()},c.initCountdownTween=function(){var n=this;this.countdownText.node.active=!0,this._countdownTween=l(this.countdownText.node);for(var t=function(t){n._countdownTween.call((function(){n.countdownText.string=t.toString(),n.countdownText.node.scale=s.ONE.clone().multiplyScalar(2)})).to(1,{scale:s.ONE.clone().multiplyScalar(1)},{easing:"sineIn"})},e=3;e>=1;e--)t(e);this._countdownTween.call((function(){n.deactivateScreen()}))},c.deactivateScreen=function(){this.countdownText.string="",this.countdownText.node.active=!1,this.blackBG.active=!1},c.initialization=function(){this.initCountdownTween(),this._countdownTween.start()},t}(d)).prototype,"countdownText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"blackBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Defines.ts",["cc"],(function(e){var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"3af50d/ZYNP9Zdeeel1JjUX","Ludo_Defines",void 0);e("LudoGameState",function(e){return e[e.NONE=0]="NONE",e[e.ROLLING=1]="ROLLING",e[e.MOVING_PIECE=2]="MOVING_PIECE",e[e.END_TURN=3]="END_TURN",e[e.ROLLING_ACK=4]="ROLLING_ACK",e[e.MOVING_PIECE_ACK=5]="MOVING_PIECE_ACK",e}({})),e("LudoGameMessageType",function(e){return e.NONE="none",e.SET_STATE="set_state",e.DICE_OUTCOME="dice_outcome",e.CLIENT_DICE_ROLL="client_dice_roll",e.MOVE_PIECE="move_piece",e.ROLLING_ACK="rolling_ack",e.MOVE_PIECE_ACK="move_piece_ack",e.WAITING_ACK="waiting_ack",e}({})),e("LudoTileType",function(e){return e[e.DEFAULT=1]="DEFAULT",e[e.SAFE=2]="SAFE",e[e.GOLDEN_DICE=4]="GOLDEN_DICE",e[e.BOMB=8]="BOMB",e[e.PROPELLER=16]="PROPELLER",e}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Dice.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_AudioManager.ts","./Ludo_AnimationTag.ts"],(function(e){var i,t,n,r,o,l,c,a,s,u,p,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,c=e.SpriteFrame,a=e.Sprite,s=e.tween,u=e.Component},function(e){p=e.LudoAudioManager},function(e){d=e.LudoAnimationTag}],execute:function(){var g,h,f,F,D,_,m,y,v;o._RF.push({},"1d7316nvBFKubCgcOjXz/2t","Ludo_Dice",void 0);var L=l.ccclass,S=l.property;e("LudoDice",(g=L("LudoDice"),h=S({type:[c]}),f=S({type:[c]}),F=S({type:a}),g((m=i((_=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,n(i,"diceFaces",m,r(i)),n(i,"rollingFrames",y,r(i)),n(i,"diceSprite",v,r(i)),i.onDiceRollDone=function(){},i._currentFace=0,i._rollingTween=null,i._rollDuration=.5,i}t(i,e);var o=i.prototype;return o.onLoad=function(){this._rollingTween=s(this.diceSprite.node)},o.rollDice=function(e){p.instance.playSound("DiceRoll"),this.rollAnimation(e)},o.setDiceFace=function(e){e<0||e>=this.diceFaces.length||(this._currentFace=e,this.diceSprite&&this.diceFaces[e]&&(this.diceSprite.spriteFrame=this.diceFaces[e]))},o.rollAnimation=function(e){var i=this;this.stopRolling(),this._rollingTween=s({value:0}).to(.5,{value:12},{onUpdate:function(e){var t=Math.floor(e.value)%i.rollingFrames.length;i.diceSprite&&i.rollingFrames[t]&&(i.diceSprite.spriteFrame=i.rollingFrames[t])}}).call((function(){i.setDiceFace(e),console.log("~~~ Dice Rolling Done ~~~"),i.onDiceRollDone()})),this._rollingTween.tag(d.DICE_ROLL),this._rollingTween.start()},o.stopRolling=function(){this._rollingTween&&this._rollingTween.stop()},o.reset=function(){this.diceSprite&&this.diceFaces[0]&&(this.diceSprite.spriteFrame=this.diceFaces[0])},i}(u)).prototype,"diceFaces",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=i(_.prototype,"rollingFrames",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(_.prototype,"diceSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=_))||D));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_EndRoundScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts","./Ludo_GameManager.ts","./LudoRoomState.ts","./Ludo_GameHandler.ts","./Ludo_UIManager.ts","./Ludo_LeaderboardProfile.ts","./Ludo_NetworkManager.ts","./Ludo_NetworkTypes.ts"],(function(e){var t,o,n,r,i,a,s,l,u,d,c,h,f,p,g,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Node,l=e.tween},function(e){u=e.LudoMenu},function(e){d=e.LudoGameManager},function(e){c=e.LudoRoomState},function(e){h=e.LudoGameHandler},function(e){f=e.LudoUIManager},function(e){p=e.LudoLeaderboardProfile},function(e){g=e.ServerRoomStateChangeEvent},function(e){_=e.LudoNetworkEvents}],execute:function(){var S,y,L,w,R,v,b;i._RF.push({},"dd2c6RLMhNIZagz0allhO2A","Ludo_EndRoundScreen",void 0);var G=a.ccclass,m=a.property;e("LudoEndRoundScreen",(S=G("LudoEndRoundScreen"),y=m({type:s}),L=m({type:[p]}),S((v=t((R=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"rotatingGlow",v,r(t)),n(t,"leaderboardProfiles",b,r(t)),t._shouldShowThisScreen=!1,t._optionsInitialized=!1,t._isWinner=!1,t._rotatingGlow=null,t}o(t,e);var i=t.prototype;return i.onLoad=function(){e.prototype.onLoad.call(this),g.on(_.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},i.onDestroy=function(){g.off(_.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},i.ServerStateChanged=function(e){if(!this._optionsInitialized){var t=new c;t.roomSettings&&(this._shouldShowThisScreen=t.roomSettings.show_result_screen,this._optionsInitialized=!0),t.copyFrom(e)}},i.Open=function(){this._shouldShowThisScreen&&(e.prototype.Open.call(this),console.log("Opening EndROudnScreen"),this.initialize())},i.Close=function(){e.prototype.Close.call(this),this.stopRotateGlow()},i.initialize=function(){var t=this;if(e.prototype.initialize.call(this),f.instance.showResultScreen){for(var o=d.Instance.getPlayersRanking(),n=o.length,r=function(e){var n=t.leaderboardProfiles[e],r=h.Instance.players.find((function(t){return t.playerNumber==o[e].playerNumber}));n.node.active=!0,n.setPlayerData(r)},i=0;i<Math.min(n,this.leaderboardProfiles.length);i++)r(i);for(var a=n;a<this.leaderboardProfiles.length;a++)this.leaderboardProfiles[a].node.active=!1}else this.Close()},i.stopRotateGlow=function(){this._rotatingGlow&&(this._rotatingGlow.stop(),this._rotatingGlow=null)},i.rotateGlow=function(){this.stopRotateGlow(),this._rotatingGlow=l(this.rotatingGlow).by(10,{angle:360}).repeatForever().start()},i.GetDisplayName=function(e){return e.length>6?e.substring(0,6)+"..":e},t}(u)).prototype,"rotatingGlow",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(R.prototype,"leaderboardProfiles",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=R))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_FitToScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_CameraManger.ts"],(function(e){var t,n,i,r,o,a,s,c,d,u,h,l,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.CCBoolean,c=e.director,d=e.Director,u=e.UITransform,h=e.screen,l=e.Widget,p=e.Component},function(e){g=e.LudoCameraManger}],execute:function(){var f,y,w,v,T;o._RF.push({},"8367ePaJIVEZqV0my7KdGeL","Ludo_FitToScreen",void 0);var m=a.ccclass,S=a.property;e("LudoFitToScreen",(f=m("LudoFitToScreen"),y=S({type:s}),f((T=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"updateWidgetsRecursively",T,r(t)),t}n(t,e);var o=t.prototype;return o.onEnable=function(){var e=this;c.once(d.EVENT_AFTER_UPDATE,(function(){e.refresh()}))},o.setUiTransformToScreenSize=function(){var e=this.node.getComponent(u),t=g.instance.getCurrentOrthoHeight()/g.instance.defaultOrthoHeight,n=h.windowSize.width||window.innerWidth,i=h.windowSize.height||window.innerHeight,r=g.instance.designHeight*t,o=r*n/i;console.log("windowWidth",n,"windowHeight",i),e.setContentSize(o,r)},o.refresh=function(){this.setUiTransformToScreenSize(),this.updateWidgetsRecursively&&this.updateWidgetsInHierarchy()},o.updateWidgetsInHierarchy=function(){this.updateWidgetAndDescendants(this.node)},o.updateWidgetAndDescendants=function(e){var t=this,n=e.getComponent(l);n&&this.node.uuid!=e.uuid&&n.updateAlignment(),e.children.forEach((function(e){t.updateWidgetAndDescendants(e)}))},t}(p)).prototype,"updateWidgetsRecursively",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=v))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/ludo_game",["./Ludo_NetworkConfig.ts","./Ludo_NetworkManager.ts","./Ludo_CameraManger.ts","./Ludo_FitToScreen.ts","./Ludo_MiloLayout.ts","./Ludo_PBLogger.ts","./Ludo_PbExtensions.ts","./Ludo_PbSaveSystem.ts","./Ludo_Utils.ts","./Ludo_BasePlayerData.ts","./Ludo_BaseRoomSettings.ts","./Ludo_BaseRoomState.ts","./Ludo_NetworkTypes.ts","./Ludo_PlayerTypes.ts","./Ludo_RoomTypes.ts","./Ludo_AudioManager.ts","./Ludo_Board.ts","./Ludo_Dice.ts","./Ludo_GameHandler.ts","./Ludo_GameManager.ts","./Ludo_InputManager.ts","./Ludo_LeaderboardProfile.ts","./Ludo_MiloClientSdk.ts","./Ludo_MoveOptionsInput.ts","./Ludo_OutComesUIManager.ts","./Ludo_PawnHandler.ts","./Ludo_Piece.ts","./Ludo_Player.ts","./Ludo_PlayerAssets.ts","./Ludo_PlayerAvatar.ts","./Ludo_PowerUp.ts","./Ludo_RoundCompleted.ts","./Ludo_ScaleUICanvas.ts","./Ludo_Timer.ts","./Ludo_IdleState.ts","./Ludo_MovePieceState.ts","./Ludo_PlayerBaseState.ts","./Ludo_PlayerStateMachine.ts","./Ludo_RollingState.ts","./Ludo_AutoReturnToPool.ts","./Ludo_PoolManager.ts","./Ludo_Pooler.ts","./Ludo_BotMadeMoveScreen.ts","./Ludo_CountdownScreen.ts","./Ludo_EndRoundScreen.ts","./Ludo_HowToPlay.ts","./Ludo_InGameMenu.ts","./Ludo_InstructionsScreen.ts","./Ludo_KickedOutScreen.ts","./Ludo_Menu.ts","./Ludo_ReconnectingScreen.ts","./Ludo_TutorialScreen.ts","./Ludo_UIManager.ts","./Ludo_WaitingScreen.ts","./LudoInputPayload.ts","./LudoPlayerData.ts","./LudoRoomSettings.ts","./LudoRoomState.ts","./ILudoRoomSettings.ts","./Ludo_AnimationTag.ts","./Ludo_Defines.ts","./TestScript.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Ludo_GameHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Defines.ts","./Ludo_AnimationTag.ts","./Ludo_Player.ts","./Ludo_Board.ts","./Ludo_GameManager.ts","./Ludo_AudioManager.ts","./LudoRoomState.ts","./Ludo_NetworkManager.ts","./Ludo_NetworkTypes.ts","./Ludo_RoomTypes.ts","./Ludo_PBLogger.ts"],(function(e){var t,n,o,a,r,i,s,l,u,c,h,d,y,f,m,S,g,p,v,_,N,E,C,P,R,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){i=e.cclegacy,s=e._decorator,l=e.EventTarget,u=e.game,c=e.Game,h=e.Tween,d=e.Component},function(e){y=e.LudoGameState},function(e){f=e.LudoAnimationTag},function(e){m=e.LudoPlayer},function(e){S=e.LudoBoard},function(e){g=e.LudoGameManager},function(e){p=e.LudoAudioManager},function(e){v=e.LudoRoomState},function(e){_=e.ConnectionStateChangeEvent,N=e.ServerRoomStateChangeEvent,E=e.LudoNetworkManager},function(e){C=e.LudoNetworkEvents,P=e.LudoConnectionState},function(e){R=e.LudoRoomStatus},function(e){T=e.LudoPBLogger}],execute:function(){var G,L,b,I,A,O,D,w;i._RF.push({},"a00c9NpjJBFt4W4CEuvRPJr","Ludo_GameHandler",void 0);var H=s.ccclass,M=s.property;e("ClientStateChange",new l),e("LudoGameHandler",(G=H("LudoGameHandler"),L=M({type:[m]}),b=M({type:S}),G(((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._clientState=void 0,t._serverState=void 0,o(t,"players",O,a(t)),o(t,"board",D,a(t)),t.roomSettings=void 0,t.myPlayerNumber=-1,t.hasReconnected=!1,t.isNewPlayerJoined=!1,t}n(t,e);var i=t.prototype;return i.onLoad=function(){t._instance=this,_.on(C.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),N.on(C.SERVER_ROOM_STATE_CHANGE,this.OnServerStateChange,this),u.on(c.EVENT_HIDE,this.onGameHide,this),u.on(c.EVENT_SHOW,this.onGameShow,this),u.on(c.EVENT_RESTART,this.onGameRestart,this),u.on(c.EVENT_CLOSE,this.onGameClose,this),window.addEventListener("beforeunload",this.onGameClose)},i.onGameHide=function(){console.log("====== Game Hide ======"),h.stopAll()},i.onGameShow=function(){console.log("====== Game Show ======"),h.stopAllByTag(f.DICE_ROLL),g.Instance._roomStatus,R.GAME_SIMULATION},i.onGameRestart=function(){console.log("====== Game Restart ======")},i.onGameClose=function(){console.log("====== Game Close ======")},i.onGameDisconnect=function(){console.log("====== Game Disconnect ======"),p.instance.stopAllSounds()},i.onGameReconnect=function(){console.log("====== Game Reconnect ======")},i.OnServerStateChange=function(e){return null==this._clientState?(T.info("========= Setting initial Client State ========="),this._clientState=new v,this._clientState.copyFrom(e),this._serverState=new v,this._serverState.copyFrom(e),this.board.Initialize(e),this.InitializePlayers(e),void(this._serverState.currentGameState!=y.NONE&&(console.log("========= joined game in between ========="),S.Instance.reset(this._serverState),this.sendReconnectionStateToAllPlayers(this._serverState)))):(this._serverState=new v,this._serverState.copyFrom(e),e.currentRoomState==R.END_GAME?(console.log("========= Game Over State Change ",this._serverState),void this.sendReconnectionStateToAllPlayers(this._serverState)):this.hasReconnected?(console.log("========= sending Reconnection State Change ",this._serverState),S.Instance.reset(this._serverState),this.sendReconnectionStateToAllPlayers(this._serverState),void(this.hasReconnected=!1)):void this.sendStateToAllPlayers(this._serverState))},i.onConnectionStateChange=function(e,t){t==P.DISCONNECTED?this.onGameDisconnect():e==P.RECONNECTING&&t==P.JOINED_ROOM&&(this.hasReconnected=!0,this.onGameReconnect())},i.sendStateToAllPlayers=function(e){T.info("sendStateToAllPlayers input payload inputType : ",e.inputPayload.inputType);for(var t=0;t<this.players.length;t++)this.players[t].onServerStateChange(e)},i.sendReconnectionStateToAllPlayers=function(e){console.log("=========Reconnection State Sent to All Players");for(var t=0;t<this.players.length;t++)this.players[t].node.active&&this.players[t].onReconnection(e)},i.InitializePlayers=function(e){-1==this.myPlayerNumber&&(this.assignMyPlayerNumber(e),this.rotatePlayerNumbersInProfileUI(this.getNumberOfProfileRotation(this.myPlayerNumber)));for(var t=0;t<e.playersData.length;t++){var n=this.getPlayer(t);null==n||n.node.active||(n.node.active=!0,n.initialize(e,this.board))}},i.assignMyPlayerNumber=function(e){for(var t=0;t<e.playersData.length;t++)if(e.playersData[t].sessionId==E.Instance.CurrentRoom.sessionId){this.myPlayerNumber=t;break}},i.rotatePlayerNumbersInProfileUI=function(e){for(;e>0;){for(var t=-1,n=-1,o=0;o<this.players.length;o++)t=this.players[o].playerNumber,this.players[o].playerNumber=n,n=t;this.players[0].playerNumber=n,e--}},i.getNumberOfProfileRotation=function(e){return 0==e?0:1==e?2:2==e?1:3==e?3:void 0},i.getPlayer=function(e){return this.players.find((function(t){return t.playerNumber==e}))},i.allPlayersFinished=function(){for(var e=0,t=0,n=0;n<this.players.length;n++)this.players[n].node.active&&(t++,this.players[n].isFinished()&&e++);return console.log("Finished Players Count ",e),console.log("Total Players ",this.players.length),e==t-1},i.anyPlayerFinished=function(){for(var e=0;e<this.players.length;e++)if(this.players[e].isFinished())return!0;return!1},i.getMostKillsPlayer=function(){var e=this._serverState.playersData.reduce((function(e,t){return t.killsCount>e.killsCount?t:e}));return this.getPlayer(e.playerNumber)},i.getMostDeathsPlayer=function(){var e=this._serverState.playersData.reduce((function(e,t){return t.deathsCount>e.deathsCount?t:e}));return this.getPlayer(e.playerNumber)},i.isLocalUserHost=function(){var e,t=g.Instance.miloSdk.getHostId(),n=this.getPlayer(this.myPlayerNumber);return null!=n&&null!=(e=n.playerData)&&e.userId?t===n.playerData.userId:(console.warn("Local player data not available"),!1)},i.getHostPlayer=function(){var e=g.Instance.miloSdk.getHostId(),t=this._serverState.playersData.find((function(t){return t.userId===e}));return t?this.getPlayer(t.playerNumber):null},i.getContactName=function(e){var t;if(!e||null==(t=g.Instance)||!t.miloSdk)return null;var n=g.Instance.miloSdk.getContactName(e);return n&&""!==n.trim()?n:null},i.onDestroy=function(){this.cleanup()},i.cleanup=function(){_.off(C.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),N.off(C.SERVER_ROOM_STATE_CHANGE,this.OnServerStateChange,this),u.off(c.EVENT_HIDE,this.onGameHide,this),u.off(c.EVENT_SHOW,this.onGameShow,this),u.off(c.EVENT_RESTART,this.onGameRestart,this),u.off(c.EVENT_CLOSE,this.onGameClose,this),window.removeEventListener("beforeunload",this.onGameClose),t._instance===this&&(t._instance=null)},r(t,null,[{key:"Instance",get:function(){return this._instance}}]),t}(d))._instance=void 0,O=t((A=w).prototype,"players",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(A.prototype,"board",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=A))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Board.ts","./Ludo_AudioManager.ts","./LudoRoomState.ts","./Ludo_UIManager.ts","./Ludo_RoomTypes.ts","./Ludo_NetworkManager.ts","./Ludo_NetworkTypes.ts","./MiloGameSDK.ts"],(function(e){var t,n,o,a,s,i,r,u,c,l,d,h,m,S,_,g,C;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){o=e.cclegacy,a=e._decorator,s=e.EventTarget,i=e.Component},function(e){r=e.LudoBoard},function(e){u=e.LudoAudioManager},function(e){c=e.LudoRoomState},function(e){l=e.LudoUIManager},function(e){d=e.LudoRoomStatus},function(e){h=e.ConnectionStateChangeEvent,m=e.ServerRoomStateChangeEvent,S=e.LudoNetworkManager},function(e){_=e.LudoNetworkEvents,g=e.LudoConnectionState},function(e){C=e.MiloGameSDK}],execute:function(){var f,v;o._RF.push({},"47909I9gx9JA61azZJFCYtu","Ludo_GameManager",void 0);var p=a.ccclass,y=(a.property,e("RoomStatusChangeEvent",new s));e("LudoGameManager",p("LudoGameManager")(((v=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this)._roomStatus=d.NONE,t._won=!1,t._handledGameOverCallbacks=!1,t._handledWinLose=!1,t._serverStateCopy=null,t._missTurnsToKickOut=3,t._gameStartTime=0,t.miloSdk=new C,t}t(o,e);var a=o.prototype;return a.onLoad=function(){null!=o._instance&&this.node.destroy(),o._instance=this,this.miloSdk.init({gameId:"Ludo",debug:!0}),this.sendGameLoadedEvent(),h.on(_.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),m.on(_.SERVER_ROOM_STATE_CHANGE,this.onServerStateChange,this)},a.onConnectionStateChange=function(e,t){t==g.DISCONNECTED?this._roomStatus!=d.END_GAME&&S.Instance.reconnect():t==g.KICKED_OUT&&this.setRoomStatus(d.KICKED_OUT)},a.setRoomStatus=function(e){this.OnRemoteGameStateChange(e),this._roomStatus=e,y.emit(_.ROOM_STATUS_CHANGE,e)},a.onServerStateChange=function(e){null==this._serverStateCopy&&(this._serverStateCopy=new c,this._serverStateCopy.copyFrom(e),this._missTurnsToKickOut=this._serverStateCopy.roomSettings.MissTurnsToKickOut),e.currentRoomStatus!=d.END_GAME||this._handledWinLose||(console.log("Game Over"),this._serverStateCopy=new c,this._serverStateCopy.copyFrom(e),this.handleWon(e),this._handledWinLose=!0),this.setRoomStatus(e.currentRoomStatus)},a.handleWon=function(e){if(this._handledWinLose)console.log("Already handled win/lose sound, skipping");else{var t=new c;t.copyFrom(e);var n=S.Instance.CurrentRoom.sessionId,o=t.playersData.findIndex((function(e){return e.sessionId==n}));if(-1!=o){for(var a=t.playersData[o].pieces,s=r.Instance.nonHomePathCount(t.roomSettings)+r.Instance.homePathCount(t.roomSettings)-1,i=0;i<a.length;i++)a[i]==s&&(this._won=!0);this._won?(l.instance.showConfetti(),u.instance.playSound("Win")):u.instance.playSound("Lose")}}},a.getPlayersRanking=function(){var e=this;return this._serverStateCopy.playersData.sort((function(t,n){return e.getPlayerDistanceFromFinish(t)-e.getPlayerDistanceFromFinish(n)}))},a.getPlayerDistanceFromFinish=function(e){for(var t=60,n=0;n<e.pieces.length;n++)-1!=e.pieces[n]&&(t=Math.min(t,57-e.pieces[n]));return t},a.onDestroy=function(){h.off(_.CONNECTION_STATE_CHANGE,this.onConnectionStateChange,this),m.off(_.SERVER_ROOM_STATE_CHANGE,this.onServerStateChange,this),o._instance===this&&(o._instance=null)},a.update=function(e){},a.GetPlayerData=function(){return console.log("Player Profiles : ",this._serverStateCopy.playersData),this._serverStateCopy.playersData.find((function(e){return e.sessionId==S.Instance.CurrentRoom.sessionId}))},a.GetWinnerPlayerData=function(){for(var e=-1,t=0;t<this._serverStateCopy.playersData.length;t++)if(this._serverStateCopy.playersData[t].finishPosition>=0){e=t;break}return console.log("Winner Player Id : ",e),-1==e?null:this._serverStateCopy.playersData.find((function(t){return t.playerNumber==e}))},a.OnRemoteGameStateChange=function(e){this._roomStatus!=e&&(this._roomStatus==d.NONE&&e==d.WAITING_FOR_PLAYERS||e==d.COUNTDOWN||(e==d.GAME_SIMULATION?this.sendGameStartedEvent():e==d.END_GAME&&(this.sendGameEndedEvent(),this.HandleGameOverCallbacks())))},a.HandleGameOverCallbacks=function(){if(!this._handledGameOverCallbacks){var e=this._won?1:0;this.sendScoreEvent(e),this._handledGameOverCallbacks=!0}},a.setInput=function(e){},a.sendGameLoadedEvent=function(){this.miloSdk.gameLoaded({timestamp:Date.now()}),console.log("[MiloGameSDK] Game loaded event sent")},a.sendGameStartedEvent=function(){this._gameStartTime=Date.now(),this.miloSdk.gameStarted({timestamp:this._gameStartTime}),console.log("[MiloGameSDK] Game started event sent")},a.sendGameEndedEvent=function(){var e=this._gameStartTime>0?Date.now()-this._gameStartTime:0;this.miloSdk.gameEnded({duration:e,hasWinningScreen:!0}),console.log("[MiloGameSDK] Game ended event sent with duration: "+e+"ms")},a.sendScoreEvent=function(e){this.miloSdk.sendScore({score:e}),console.log("[MiloGameSDK] Score event sent: "+e)},n(o,null,[{key:"Instance",get:function(){return this._instance}}]),o}(i))._instance=null,f=v))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_HowToPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts"],(function(o){var n,t,e,u;return{setters:[function(o){n=o.inheritsLoose},function(o){t=o.cclegacy,e=o._decorator},function(o){u=o.LudoMenu}],execute:function(){var r;t._RF.push({},"821e72ZsnJA46G0QRnrdfAC","Ludo_HowToPlay",void 0);var c=e.ccclass;e.property,o("LudoHowToPlay",c("LudoHowToPlay")(r=function(o){function t(){return o.apply(this,arguments)||this}n(t,o);var e=t.prototype;return e.onLoad=function(){o.prototype.onLoad.call(this)},e.onDestroy=function(){},e.Open=function(){o.prototype.Open.call(this)},e.Close=function(){o.prototype.Close.call(this)},e.initHandTween=function(){},t}(u))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_IdleState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Player.ts","./Ludo_PlayerBaseState.ts"],(function(e){var t,a,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy},function(e){o=e.PlayerState},function(e){i=e.LudoPlayerBaseState}],execute:function(){a._RF.push({},"4d196ipAgNGv7Yzxlx1Vt+Y","Ludo_IdleState",void 0);e("LudoIdleState",function(e){function a(t){var a;return(a=e.call(this)||this).stateMachine=void 0,a._stateName=o.IDLE,a.player=void 0,a.stateMachine=t,a.player=a.stateMachine.player,a}t(a,e);var i=a.prototype;return i.enterState=function(){this.clearPlayerData()},i.updateState=function(e){},i.exitState=function(){},i.clearPlayerData=function(){this.player.timer.stop(),this.player.outComesUIManager.setGoldenDiceOutcomes(0),this.player.outComesUIManager.clearAllOutComes(),this.player.dice.reset(),this.player.diceRoot.active=!1,null!=this.player._moveOptioneInput&&(this.player._moveOptioneInput.node.active=!1)},a}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_InGameMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts","./Ludo_AudioManager.ts","./Ludo_UIManager.ts","./Ludo_NetworkManager.ts","./Ludo_NetworkTypes.ts"],(function(t){var e,n,o,i,r,u,a,s,l,c,p,d,f,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.SpriteFrame,s=t.Sprite,l=t.Node},function(t){c=t.LudoMenu},function(t){p=t.LudoAudioManager},function(t){d=t.LudoUIManager},function(t){f=t.ServerRoomStateChangeEvent},function(t){h=t.LudoNetworkEvents}],execute:function(){var S,g,y,L,_,A,M,b,v,m,O;r._RF.push({},"20f5108aW9Of6FiA/+OEL5D","Ludo_InGameMenu",void 0);var E=u.ccclass,w=u.property;t("LudoInGameMenu",(S=E("LudoInGameMenu"),g=w({type:a}),y=w({type:a}),L=w({type:s}),_=w({type:l}),S((b=e((M=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,o(e,"soundOnSprite",b,i(e)),o(e,"soundOffSprite",v,i(e)),o(e,"soundButton",m,i(e)),o(e,"faqButton",O,i(e)),e}n(e,t);var r=e.prototype;return r.onLoad=function(){t.prototype.onLoad.call(this),f.on(h.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},r.onDestroy=function(){f.off(h.SERVER_ROOM_STATE_CHANGE,this.ServerStateChanged,this)},r.ServerStateChanged=function(t){},r.start=function(){},r.Open=function(){console.log("InGameMenu open called"),t.prototype.Open.call(this),this.initialize()},r.Close=function(){t.prototype.Close.call(this)},r.initialize=function(){t.prototype.initialize.call(this),this.UpdateAudioSprite(),this.soundButton.node.active=d.instance.showMuteButton,this.faqButton.active=d.instance.showFAQ},r.UpdateAudioSprite=function(){console.log("UpdateAudioSprite: ",p.instance.IsAudioEnabled),"true"==p.instance.IsAudioEnabled?this.soundButton.spriteFrame=this.soundOnSprite:this.soundButton.spriteFrame=this.soundOffSprite},r.ToggleSound=function(){p.instance.ToggleAudio(),this.UpdateAudioSprite()},e}(c)).prototype,"soundOnSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(M.prototype,"soundOffSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(M.prototype,"soundButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(M.prototype,"faqButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Defines.ts"],(function(e){var n,t,i;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){i=e.LudoGameMessageType}],execute:function(){t._RF.push({},"aac54/JVAZBGLlV+reHzC2h","Ludo_InputManager",void 0),e("LudoInputManager",function(){function e(){this._isInputGiven=!1,this._inputType=i.MOVE_PIECE,this._movedPieceIndex=-1}var t=e.prototype;return t.ResetInput=function(){this._isInputGiven=!1,this._inputType=i.MOVE_PIECE,this._movedPieceIndex=-1},t.SetInput=function(e,n){void 0===n&&(n=-1),this._isInputGiven=!0,this._inputType=e,this._movedPieceIndex=n},n(e,[{key:"IsInputGiven",get:function(){return this._isInputGiven}},{key:"InputType",get:function(){return this._inputType}},{key:"MovedPieceIndex",get:function(){return this._movedPieceIndex}}],[{key:"Instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}())._instance=void 0,t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_InstructionsScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts"],(function(n){var t,e,i,r,o,u,s,c,l;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,u=n._decorator,s=n.Node,c=n.tween},function(n){l=n.LudoMenu}],execute:function(){var a,p,f,y,b,d,h,I,g,v,L;o._RF.push({},"79bf6wI4i5Fkr7dx3hG1Gbi","Ludo_InstructionsScreen",void 0);var w=u.ccclass,_=u.property;n("LudoInstructionsScreen",(a=w("LudoInstructionsScreen"),p=_({type:s}),f=_({type:s}),y=_({type:s}),b=_({type:s}),a((I=t((h=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),u=0;u<e;u++)o[u]=arguments[u];return t=n.call.apply(n,[this].concat(o))||this,i(t,"helpInstructions",I,r(t)),i(t,"autoMoveInstructions",g,r(t)),i(t,"waitingForUser",v,r(t)),i(t,"spinner",L,r(t)),t._isHelpInstructionDone=!1,t._isAutoMoveInstructionDone=!1,t}e(t,n);var o=t.prototype;return o.onLoad=function(){n.prototype.onLoad.call(this),c(this.spinner).repeatForever(c().by(1,{angle:360})).start()},o.onDestroy=function(){},o.Open=function(){n.prototype.Open.call(this),this.initialization()},o.Close=function(){n.prototype.Close.call(this)},o.initialization=function(){},t}(l)).prototype,"helpInstructions",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(h.prototype,"autoMoveInstructions",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(h.prototype,"waitingForUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(h.prototype,"spinner",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_KickedOutScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts","./Ludo_GameManager.ts"],(function(e){var t,n,o,i,r,u,c,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,c=e.Label},function(e){a=e.LudoMenu},function(e){s=e.LudoGameManager}],execute:function(){var l,p,d,f,L;r._RF.push({},"b801evtUuFNXKpm4DNQWEi1","Ludo_KickedOutScreen",void 0);var k=u.ccclass,y=u.property;e("LudoKickedOutScreen",(l=k("LudoKickedOutScreen"),p=y({type:c}),l((L=t((f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,o(t,"kickedOutLabel",L,i(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this)},r.onDestroy=function(){},r.Open=function(){e.prototype.Open.call(this),this.kickedOutLabel.string="You missed "+s.Instance._missTurnsToKickOut+" turns. kicked out of the game!"},r.Close=function(){e.prototype.Close.call(this)},r.initHandTween=function(){},r.update=function(e){},t}(a)).prototype,"kickedOutLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_LeaderboardProfile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_GameHandler.ts"],(function(e){var r,t,n,a,i,o,l,u,c,p,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Sprite,u=e.Color,c=e.Label,p=e.Component},function(e){s=e.LudoGameHandler}],execute:function(){var f,b,d,y,m,L,g,v,h,P,z,_,w;i._RF.push({},"8b65chvZHZMiKIen1RIFX6s","Ludo_LeaderboardProfile",void 0);var D=o.ccclass,C=o.property;e("LudoLeaderboardProfile",(f=D("LudoLeaderboardProfile"),b=C({type:l}),d=C({type:l}),y=C({type:u}),m=C({type:l}),L=C({type:c}),f((h=r((v=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,n(r,"profileOutline",h,a(r)),n(r,"numberBG",P,a(r)),n(r,"bgColor",z,a(r)),n(r,"avatar",_,a(r)),n(r,"nameLabel",w,a(r)),r}t(r,e);var i=r.prototype;return i.onLoad=function(){},i.start=function(){},i.setPlayerData=function(e){this.avatar.spriteFrame=e.GetProfileSpriteFrame();var r=s.Instance.getContactName(e.playerData.userId),t=r||e.playerData.name;this.nameLabel.string=this.truncateName(t,10)},i.truncateName=function(e,r){var t=e.indexOf(" ");return-1!=t&&(e=e.substring(0,t)),e.length>r?e.substring(0,r)+"..":e},i.update=function(e){},r}(p)).prototype,"profileOutline",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=r(v.prototype,"numberBG",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=r(v.prototype,"bgColor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(v.prototype,"avatar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(v.prototype,"nameLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Menu.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,c,u,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,u=e.Node,a=e.CCString,l=e.Component}],execute:function(){var s,p,d,f,h,y,g;r._RF.push({},"738a5KZKwtEMoE2/rtxUtOr","Ludo_Menu",void 0);var m=c.ccclass,v=c.property;e("LudoMenu",(s=m("LudoMenu"),p=v({type:u}),d=v({type:a}),s((y=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"content",y,o(t)),i(t,"menuName",g,o(t)),t.isOpened=!1,t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.content=this.node.getChildByName("Content")},r.Open=function(){this.content.active=!0,this.isOpened=!0},r.Close=function(){this.content.active=!1,this.isOpened=!1},r.initialize=function(){console.log("Menu initialize called")},t}(l)).prototype,"content",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(h.prototype,"menuName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_MiloClientSdk.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,n,i,o,s,r;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,r=e.Component}],execute:function(){var u,m,c,l;e("sendMessageToParent",f),o._RF.push({},"529e4S0uIRGoYleRsJTkb7O","Ludo_MiloClientSdk",void 0);var g=s.ccclass,d=s.property,p=s.executionOrder;function f(e){try{var t={type:"GAME_EVENT",payload:e,timestamp:Date.now()};console.log("Sending message to parent:",t),window.parent.postMessage(JSON.stringify(t),"*")}catch(e){console.error("Failed to send message:",e)}}e("LudoMiloClientSdk",g("LudoMiloClientSdk")(u=p(-100)(((l=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"gameName",c,i(t)),t.isDebugMode=!0,t}a(t,e);var o=t.prototype;return o.onLoad=function(){t.instance=this},o.handlePauseGame=function(){this.gamePaused()},o.handleResumeGame=function(){this.gameResumed()},o.gameInitializing=function(){f({status:"initializing",gameName:this.gameName})},o.gameStarted=function(){f({status:"started",gameName:this.gameName})},o.gameCompleted=function(e){f({status:"completed",gameName:this.gameName,score:e})},o.gamePaused=function(){f({status:"paused",gameName:this.gameName})},o.gameResumed=function(){f({status:"resumed",gameName:this.gameName})},o.gameError=function(e){f({status:"error",gameName:this.gameName,error:e})},o.onDestroy=function(){t.instance===this&&(t.instance=null)},t}(r)).instance=null,c=t((m=l).prototype,"gameName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"speed-ludo"}}),u=m))||u)||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_MiloLayout.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,a,o,s,c,r,h,u,T,p,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,c=t._decorator,r=t.Enum,h=t.Size,u=t.Node,T=t.Vec3,p=t.UITransform,_=t.Component}],execute:function(){var l,d,E,g,y,f,O,C,R,L,m,v,N,I,H;s._RF.push({},"640d11d9f5CfojRvMNrEUJN","Ludo_MiloLayout",void 0);var b=c.ccclass,A=c.property,w=t("LudoMiloLayoutType",function(t){return t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID",t}({})),M=t("LudoMiloLayoutAlign",function(t){return t[t.LEFT_TOP=0]="LEFT_TOP",t[t.CENTER_TOP=1]="CENTER_TOP",t[t.RIGHT_TOP=2]="RIGHT_TOP",t[t.LEFT_CENTER=3]="LEFT_CENTER",t[t.CENTER=4]="CENTER",t[t.RIGHT_CENTER=5]="RIGHT_CENTER",t[t.LEFT_BOTTOM=6]="LEFT_BOTTOM",t[t.CENTER_BOTTOM=7]="CENTER_BOTTOM",t[t.RIGHT_BOTTOM=8]="RIGHT_BOTTOM",t}({}));t("LudoMiloLayout",(l=b("LudoMiloLayout"),d=A({type:r(w)}),E=A({type:r(w)}),g=A({type:r(M)}),y=A({type:r(M)}),f=A({visible:function(){return this._layoutType===w.GRID}}),l((R=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"_layoutType",R,a(e)),n(e,"_alignment",L,a(e)),n(e,"_spacingX",m,a(e)),n(e,"_spacingY",v,a(e)),n(e,"_columns",N,a(e)),n(e,"_padding",I,a(e)),n(e,"_autoResize",H,a(e)),e._activeChildCount=0,e._layoutSize=new h(0,0),e._lastChildActiveState=[],e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.node.on(u.EventType.CHILD_ADDED,this.onChildAdded,this),this.node.on(u.EventType.CHILD_REMOVED,this.onChildRemoved,this)},s.onDestroy=function(){this.node.off(u.EventType.CHILD_ADDED,this.onChildAdded,this),this.node.off(u.EventType.CHILD_REMOVED,this.onChildRemoved,this),this.removeAllChildListeners()},s.onChildRemoved=function(t){this.removeChildListener(t),this.updateLayout()},s.removeAllChildListeners=function(){var t=this;this.node.children.forEach((function(e){t.removeChildListener(e)}))},s.removeChildListener=function(t){t.__miloLayoutActiveHandler&&(t.off(u.EventType.ACTIVE_IN_HIERARCHY_CHANGED,t.__miloLayoutActiveHandler),t.__miloLayoutActiveHandler=null)},s.start=function(){this._lastChildActiveState=this.node.children.map((function(t){return t.active})),this.updateLayout(),this.addChildActiveListeners()},s.addChildActiveListeners=function(){var t=this;this.node.children.forEach((function(e){t.addChildActiveListener(e)}))},s.addChildActiveListener=function(t){var e=this;t.off(u.EventType.ACTIVE_IN_HIERARCHY_CHANGED,this.onChildActiveChanged,this);var i=function(){e.scheduleOnce((function(){e.updateLayout()}),0)};t.__miloLayoutActiveHandler=i,t.on(u.EventType.ACTIVE_IN_HIERARCHY_CHANGED,i)},s.onChildActiveChanged=function(t){},s.onEnable=function(){this.updateLayout()},s.getAlignmentOffset=function(t){var e,i=new T,n=(null==(e=this.node.getComponent(p))?void 0:e.contentSize)||new h(0,0);switch(this._alignment){case M.LEFT_TOP:case M.LEFT_CENTER:case M.LEFT_BOTTOM:i.x=this._padding;break;case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:i.x=(n.width-t.width)/2;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:i.x=n.width-t.width-this._padding}switch(this._alignment){case M.LEFT_TOP:case M.CENTER_TOP:case M.RIGHT_TOP:i.y=-this._padding;break;case M.LEFT_CENTER:case M.CENTER:case M.RIGHT_CENTER:i.y=-(n.height-t.height)/2;break;case M.LEFT_BOTTOM:case M.CENTER_BOTTOM:case M.RIGHT_BOTTOM:i.y=-n.height+t.height+this._padding}return i},s.updateLayout=function(){if(this.node){var t=this.node.children.filter((function(t){return t.active}));if(this._activeChildCount=t.length,0!==this._activeChildCount)switch(this._layoutType){case w.HORIZONTAL:this.updateHorizontalLayout(t);break;case w.VERTICAL:this.updateVerticalLayout(t);break;case w.GRID:this.updateGridLayout(t)}}},s.updateHorizontalLayout=function(t){var e=this,i=2*this._padding,n=0;t.forEach((function(a,o){var s=a.getComponent(p);s&&(i+=s.width,o<t.length-1&&(i+=e._spacingX),n=Math.max(n,s.height))}));var a=new h(i,n+2*this._padding),o=this.getAlignmentOffset(a),s=o.x;if(t.forEach((function(t){var i=t.getComponent(p);if(i){var a=i.height,c=i.width,r=o.y;switch(e._alignment){case M.LEFT_TOP:case M.CENTER_TOP:case M.RIGHT_TOP:r=o.y-e._padding;break;case M.LEFT_CENTER:case M.CENTER:case M.RIGHT_CENTER:r=o.y-(n-a)/2;break;case M.LEFT_BOTTOM:case M.CENTER_BOTTOM:case M.RIGHT_BOTTOM:r=o.y-n+a}t.position=new T(s+c/2,r-a/2,0),s+=c+e._spacingX}})),this._layoutSize=a,this._autoResize){var c=this.node.getComponent(p);c&&c.setContentSize(a)}},s.updateVerticalLayout=function(t){var e=this,i=2*this._padding,n=0;t.forEach((function(a,o){var s=a.getComponent(p);s&&(i+=s.height,o<t.length-1&&(i+=e._spacingY),n=Math.max(n,s.width))}));var a=new h(n+2*this._padding,i),o=this.getAlignmentOffset(a),s=o.y;if(t.forEach((function(t){var i=t.getComponent(p);if(i){var a=i.height,c=i.width,r=o.x;switch(e._alignment){case M.LEFT_TOP:case M.LEFT_CENTER:case M.LEFT_BOTTOM:r=o.x+e._padding;break;case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:r=o.x+(n-c)/2+e._padding;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:r=o.x+n-c+e._padding}t.position=new T(r+c/2,s-a/2,0),s-=a+e._spacingY}})),this._layoutSize=a,this._autoResize){var c=this.node.getComponent(p);c&&c.setContentSize(a)}},s.updateGridLayout=function(t){if(!(this._columns<=0)){var e=Math.ceil(t.length/this._columns),i=0,n=0;t.forEach((function(t){var e=t.getComponent(p);e&&(i=Math.max(i,e.width),n=Math.max(n,e.height))}));for(var a=2*this._padding+i*this._columns+this._spacingX*(this._columns-1),o=2*this._padding+n*e+this._spacingY*(e-1),s=new h(a,o),c=this.getAlignmentOffset(s),r=0;r<e;r++){var u=Math.min(this._columns,t.length-r*this._columns),_=u*i+(u-1)*this._spacingX,l=0;switch(this._alignment){case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:l=(this._columns*i+(this._columns-1)*this._spacingX-_)/2;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:l=this._columns*i+(this._columns-1)*this._spacingX-_}for(var d=0;d<u;d++){var E=r*this._columns+d;if(E>=t.length)break;var g=t[E],y=g.getComponent(p);if(y){var f=y.width,O=y.height,C=c.x+this._padding+d*(i+this._spacingX)+l,R=c.y-this._padding-r*(n+this._spacingY),L=C,m=R;switch(this._alignment){case M.LEFT_TOP:case M.LEFT_CENTER:case M.LEFT_BOTTOM:L=C;break;case M.CENTER_TOP:case M.CENTER:case M.CENTER_BOTTOM:L=C+(i-f)/2;break;case M.RIGHT_TOP:case M.RIGHT_CENTER:case M.RIGHT_BOTTOM:L=C+i-f}switch(this._alignment){case M.LEFT_TOP:case M.CENTER_TOP:case M.RIGHT_TOP:m=R;break;case M.LEFT_CENTER:case M.CENTER:case M.RIGHT_CENTER:m=R-(n-O)/2;break;case M.LEFT_BOTTOM:case M.CENTER_BOTTOM:case M.RIGHT_BOTTOM:m=R-n+O}g.position=new T(L+f/2,m-O/2,0)}}}if(this._layoutSize=s,this._autoResize){var v=this.node.getComponent(p);v&&v.setContentSize(s)}}},s.update=function(t){if(this.node&&this.node.children.length>0){var e=this.node.children.map((function(t){return t.active})),i=!1;if(this._lastChildActiveState.length!==e.length)i=!0;else for(var n=0;n<e.length;n++)if(this._lastChildActiveState[n]!==e[n]){i=!0;break}i&&(this._lastChildActiveState=e,this.updateLayout())}},s.onChildAdded=function(t){this.addChildActiveListener(t),this.updateLayout()},o(e,[{key:"layoutType",get:function(){return this._layoutType},set:function(t){this._layoutType=t,this.updateLayout()}},{key:"alignment",get:function(){return this._alignment},set:function(t){this._alignment=t,this.updateLayout()}},{key:"spacingX",get:function(){return this._spacingX},set:function(t){this._spacingX=t,this.updateLayout()}},{key:"spacingY",get:function(){return this._spacingY},set:function(t){this._spacingY=t,this.updateLayout()}},{key:"columns",get:function(){return this._columns},set:function(t){this._columns=t,this.updateLayout()}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding=t,this.updateLayout()}},{key:"autoResize",get:function(){return this._autoResize},set:function(t){this._autoResize=t,this.updateLayout()}}]),e}(_)).prototype,"_layoutType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.HORIZONTAL}}),e(C.prototype,"layoutType",[E],Object.getOwnPropertyDescriptor(C.prototype,"layoutType"),C.prototype),L=e(C.prototype,"_alignment",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.LEFT_TOP}}),e(C.prototype,"alignment",[y],Object.getOwnPropertyDescriptor(C.prototype,"alignment"),C.prototype),m=e(C.prototype,"_spacingX",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(C.prototype,"spacingX",[A],Object.getOwnPropertyDescriptor(C.prototype,"spacingX"),C.prototype),v=e(C.prototype,"_spacingY",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(C.prototype,"spacingY",[A],Object.getOwnPropertyDescriptor(C.prototype,"spacingY"),C.prototype),N=e(C.prototype,"_columns",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),e(C.prototype,"columns",[f],Object.getOwnPropertyDescriptor(C.prototype,"columns"),C.prototype),I=e(C.prototype,"_padding",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(C.prototype,"padding",[A],Object.getOwnPropertyDescriptor(C.prototype,"padding"),C.prototype),H=e(C.prototype,"_autoResize",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(C.prototype,"autoResize",[A],Object.getOwnPropertyDescriptor(C.prototype,"autoResize"),C.prototype),O=C))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_MoveOptionsInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_PlayerAssets.ts","./Ludo_CameraManger.ts"],(function(t){var e,o,i,n,s,l,r,u,a,c,h,C,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Label,u=t.Node,a=t.UITransform,c=t.Sprite,h=t.Vec3,C=t.Component},function(t){d=t.LudoPlayerAssets},function(t){m=t.LudoCameraManger}],execute:function(){var p,f,b,O,T,L,g,y,v,k,S,w,_,U,A;s._RF.push({},"9b0ac/e1CFIF7LkqGL7gfm9","Ludo_MoveOptionsInput",void 0);var I=l.ccclass,P=l.property;t("LudoMoveOptionsInput",(p=I("LudoMoveOptionsInput"),f=P({type:r}),b=P({type:r}),O=P({type:r}),T=P({type:u}),L=P({type:a}),g=P({type:c}),p((k=e((v=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"firstOutComeLabel",k,n(e)),i(e,"secondOutComeLabel",S,n(e)),i(e,"thirdOutComeLabel",w,n(e)),e.outComeValues=[6,6,6],i(e,"pointer",_,n(e)),e.outComeClickedCallback=null,e.uiTransform=null,i(e,"optionsUITransform",U,n(e)),i(e,"optionsBGSprite",A,n(e)),e}o(e,t);var s=e.prototype;return s.onLoad=function(){this.uiTransform=this.node.getComponent(a)},s.onEnable=function(){this.firstOutComeLabel.node.on(u.EventType.TOUCH_START,this.onFirstOutComeClick,this),this.secondOutComeLabel.node.on(u.EventType.TOUCH_START,this.onSecondOutComeClick,this),this.thirdOutComeLabel.node.on(u.EventType.TOUCH_START,this.onThirdOutComeClick,this)},s.onDisable=function(){this.firstOutComeLabel.node.off(u.EventType.TOUCH_START,this.onFirstOutComeClick,this),this.secondOutComeLabel.node.off(u.EventType.TOUCH_START,this.onSecondOutComeClick,this),this.thirdOutComeLabel.node.on(u.EventType.TOUCH_START,this.onThirdOutComeClick,this)},s.setOutComeSprites=function(t,e){this.outComeValues=t,this.optionsBGSprite.color=d.instance.getPawnColor(e),t.length>=1&&(this.firstOutComeLabel.string=this.outComeValues[0].toString()),t.length>=2?(console.log("Setting Second OutCome"),this.secondOutComeLabel.node.active=!0,this.secondOutComeLabel.string=this.outComeValues[1].toString()):this.secondOutComeLabel.node.active=!1,t.length>=3?(console.log("Setting Third OutCome"),this.thirdOutComeLabel.node.active=!0,this.thirdOutComeLabel.string=this.outComeValues[2].toString()):this.thirdOutComeLabel.node.active=!1},s.onFirstOutComeClick=function(){null!=this.outComeClickedCallback&&this.outComeClickedCallback(this.outComeValues[0])},s.onSecondOutComeClick=function(){null!=this.outComeClickedCallback&&this.outComeClickedCallback(this.outComeValues[1])},s.onThirdOutComeClick=function(){null!=this.outComeClickedCallback&&this.outComeClickedCallback(this.outComeValues[2])},s.SetPosition=function(t){var e=m.instance.getWidth(),o=.5*this.optionsUITransform.width,i=.2*this.optionsUITransform.width,n=t.x,s=n,l=0;console.log("Debug - Screen Width:",e,"Component Width:",this.optionsUITransform.width,"Half Width:",o,"Offset Width:",i),console.log("Debug - Pawn X:",n,"Default Left Bound:",n-o,"Default Right Bound:",n+o),n-o<0?(l=n-(s=n+o-i),console.log("Left overflow - Moving options 20% left. Actual X:",s,"Pointer offset:",l)):n+o>e?(l=n-(s=n-o+i),console.log("Right overflow - Moving options 20% right. Actual X:",s,"Pointer offset:",l)):console.log("No overflow - Centered on pawn"),this.node.setWorldPosition(new h(s,t.y,t.z)),this.optionsUITransform.node.setPosition(new h(0,0,0));var r=o-20;l=Math.max(-r,Math.min(r,l)),this.pointer&&this.pointer.setPosition(new h(l,this.pointer.position.y,this.pointer.position.z)),console.log("Final - World X:",s,"Pointer offset:",l,"Final bounds:",s-o,"to",s+o)},s.SetBackgroundColor=function(t){this.optionsBGSprite.color=t},s.onDestroy=function(){this.cleanup()},s.cleanup=function(){this.firstOutComeLabel&&this.firstOutComeLabel.node&&this.firstOutComeLabel.node.off(u.EventType.TOUCH_START,this.onFirstOutComeClick,this),this.secondOutComeLabel&&this.secondOutComeLabel.node&&this.secondOutComeLabel.node.off(u.EventType.TOUCH_START,this.onSecondOutComeClick,this),this.thirdOutComeLabel&&this.thirdOutComeLabel.node&&this.thirdOutComeLabel.node.off(u.EventType.TOUCH_START,this.onThirdOutComeClick,this)},e}(C)).prototype,"firstOutComeLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(v.prototype,"secondOutComeLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"thirdOutComeLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(v.prototype,"pointer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(v.prototype,"optionsUITransform",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(v.prototype,"optionsBGSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_MovePieceState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Player.ts","./Ludo_PlayerBaseState.ts","./Ludo_Piece.ts","./Ludo_Defines.ts","./Ludo_GameManager.ts","./Ludo_NetworkManager.ts"],(function(e){var t,i,n,a,o,r,s,l,c,u;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.Node,a=e.Vec3},function(e){o=e.PlayerState},function(e){r=e.LudoPlayerBaseState},function(e){s=e.LudoPiece},function(e){l=e.LudoGameMessageType},function(e){c=e.LudoGameManager},function(e){u=e.LudoNetworkManager}],execute:function(){i._RF.push({},"f3927+WU2RAEZliBMGTRyeT","Ludo_MovePieceState",void 0);e("LudoMovePieceState",function(e){function i(t){var i;return(i=e.call(this)||this).stateMachine=void 0,i._stateName=o.MOVING_PIECE,i.player=void 0,i.moveOptionsOffset=new a(0,120,0),i.stateMachine=t,i.player=i.stateMachine.player,i}t(i,e);var r=i.prototype;return r.enterState=function(){console.log("Entered Moving Piece State"),console.log("Rolls : ",this.player.outComesUIManager.getOutComes());var e=this.stateMachine.currentServerState.playersData[this.player.playerNumber];this.player.outComesUIManager.reset(e.rollsList),this.player.diceRoot.active=!1,this.player.timer.stop(),this.player.timer.setTotalTime(this.stateMachine.currentServerState.roomSettings.movePiecesWaitTime),this.player.timer.run(),this.player._pawnHandler.StartRippleForValidMovePieces();for(var t=0;t<this.player.pawns.length;t++)this.player.pawns[t].node.on(n.EventType.TOUCH_START,this.OnPieceClick,this)},r.updateState=function(e){},r.exitState=function(){console.log("Exited Move Piece State local ",this.player._isLocal),this.player.timer.stop(),this.player._pawnHandler.Reset(this.stateMachine.currentServerState);for(var e=0;e<this.player.pawns.length;e++)this.player.pawns[e].node.off(n.EventType.TOUCH_START,this.OnPieceClick,this)},r.getAllMovablePieces=function(){for(var e,t=this,i=[],n=this.player.outComesUIManager.getOutComes(),a=function(a){e=n.filter((function(e){return t.canMovePiece(t.player.pawns[a].pathNumber,e)})),(e=Array.from(new Set(e))).length>0&&i.push(t.player.pawns[a])},o=0;o<this.player.pawns.length;o++)a(o);return i},r.OnPieceClick=function(e){var t=this;if(this.player._isLocal)if(this.player._pawnHandler.isAnimating())this.player._moveOptioneInput.node.active=!1;else{this.player._moveOptioneInput.node.active=!1;var i=e.target.getComponent(s),n=this.player.outComesUIManager.getOutComes().filter((function(e){return t.canMovePiece(i.pathNumber,e)}));if(n=Array.from(new Set(n)),console.log("Piece Valid OutComes: ",n),0!=n.length)return 1==n.length&&this.sendMovePieceMessage(i.pieceNumber,n[0]),n.length>=2?(this.player._moveOptioneInput.node.active=!0,this.player._moveOptioneInput.outComeClickedCallback=this.outComeClickedCallback.bind(this),this.player._moveOptioneInput.setOutComeSprites(n,this.player.playerNumber),this.player._currentSelectedPieceNumber=i.pieceNumber,void this.player._moveOptioneInput.SetPosition(e.target.worldPosition.clone().add(this.moveOptionsOffset))):void 0}},r.onMovePiece=function(){var e=JSON.parse(this.stateMachine.currentServerState.inputPayload.inputValue);console.log("Move Piece From Server: ",e);this.stateMachine.currentServerState.playersData[this.player.playerNumber];var t=e.pieceIndex,i=e.rollValue;this.player.timer.stop(),this.player._moveOptioneInput.node.active=!1,this.player._pawnHandler.movePiece(t,i,!0)},r.canMovePiece=function(e,t){var i=this.player._roomSettings;return(0!=e||6==t)&&!(e+t>this.nonHomePathCount(i)+this.homePathCount(i))},r.nonHomePathCount=function(e){return 8*e.pathTilesPerSide+4},r.homePathCount=function(e){return e.pathTilesPerSide},r.sendMovePieceMessage=function(e,t){c.Instance.setInput("MovePiece"),u.Instance.CurrentRoom.send(l.MOVE_PIECE,JSON.stringify({pieceIndex:e,rollValue:t})),console.log("Move Piece Message Sent : ","piece ",e,"with roll value ",t)},r.outComeClickedCallback=function(e){this.sendMovePieceMessage(this.player._currentSelectedPieceNumber,e),this.player._moveOptioneInput.node.active=!1,this.player._currentSelectedPieceNumber=-1},r.reset=function(){this.exitState()},i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_NetworkConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_PBLogger.ts"],(function(e){var r,t,o,i,n,a,u,s,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,u=e.sys,s=e.Component},function(e){l=e.LudoPBLogger}],execute:function(){var f,c,d,p,g,m,h,v,y,b,P,S,I,L,w;n._RF.push({},"e4058gBTZdP478xfKH7t4KO","Ludo_NetworkConfig",void 0);var C=a.ccclass,N=a.property;e("LudoNetworkConfig",(f=C("LudoNetworkConfig"),c=N({tooltip:"Server host address"}),d=N({tooltip:"Server port number"}),p=N({tooltip:"Use SSL for connections"}),g=N({tooltip:"Player identifier"}),m=N({tooltip:"Room identifier"}),h=N({tooltip:"Name of the game"}),f((b=r((y=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r=e.call.apply(e,[this].concat(n))||this,o(r,"serverHost",b,i(r)),o(r,"serverPort",P,i(r)),o(r,"useSSL",S,i(r)),o(r,"userId",I,i(r)),o(r,"roomId",L,i(r)),o(r,"gameName",w,i(r)),r}t(r,e);var n=r.prototype;return n.initNetworkConfig=function(){if(u.isBrowser){var e=new URLSearchParams(window.location.search),r="true"===e.get("debug");l.debug("Initializing network config (debug="+r+")"),r?this.parseQueryParams(e):this.parseInjectedConfig(),l.debug("Final network config:",{serverHost:this.serverHost,serverPort:this.serverPort,useSSL:this.useSSL,userId:this.userId,roomId:this.roomId,gameName:this.gameName})}},n.parseQueryParams=function(e){var r=this;l.debug("Parsing config from query parameters"),this.updateConfigFromQueryParam(e,"userId",(function(e){return r.userId=e})),this.updateConfigFromQueryParam(e,"roomId",(function(e){return r.roomId=e})),this.updateConfigFromQueryParam(e,"apiUrl",(function(e){return r.serverHost=e})),this.updateConfigFromQueryParam(e,"apiPort",(function(e){var t=parseInt(e);isNaN(t)||(r.serverPort=t)})),this.updateConfigFromQueryParam(e,"useSSL",(function(e){return r.useSSL="true"===e}))},n.parseInjectedConfig=function(){l.debug("Parsing config from injected GameConfig");try{var e=window.GameConfig;if(!e)return void l.debug("No injected GameConfig found");var r="string"==typeof e?JSON.parse(e):e;this.applyConfig(r)}catch(e){l.debug("Failed to parse injected GameConfig:",e)}},n.applyConfig=function(e){var r,t,o,i,n;e&&(this.userId=null!=(r=e.userId)?r:this.userId,this.roomId=null!=(t=e.roomId)?t:this.roomId,this.serverHost=null!=(o=e.apiUrl)?o:this.serverHost,this.serverPort=Number(null!=(i=e.apiPort)?i:this.serverPort),this.useSSL=null!=(n=e.useSSL)?n:this.useSSL)},n.updateConfigFromQueryParam=function(e,r,t){var o=e.get(r);null!=o&&t(o)},r}(s)).prototype,"serverHost",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"localhost"}}),P=r(y.prototype,"serverPort",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2567}}),S=r(y.prototype,"useSSL",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=r(y.prototype,"userId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=r(y.prototype,"roomId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"testroom1"}}),w=r(y.prototype,"gameName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Pictionary"}}),v=y))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_NetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./colyseus.mjs_cjs=&original=.js","./Ludo_NetworkTypes.ts","./Ludo_PlayerTypes.ts","./Ludo_PbSaveSystem.ts","./Ludo_NetworkConfig.ts","./Ludo_PBLogger.ts","./colyseus.js"],(function(t){var n,e,o,i,r,a,s,c,u,h,l,d,f,g,m,p,C,v,_,k,w;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.extends,a=t.createClass,s=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){u=t.cclegacy,h=t._decorator,l=t.EventTarget,d=t.CCBoolean,f=t.Component},null,function(t){g=t.LudoConnectionState,m=t.LudoNetworkEvents,p=t.LudoServerMessageType},function(t){C=t.LudoPlayerType},function(t){v=t.LudoPbSaveSystem},function(t){_=t.LudoNetworkConfig},function(t){k=t.LudoPBLogger},function(t){w=t.default}],execute:function(){var y,S,N,E,D,R,I,T;u._RF.push({},"73e75uE9GBNV5HiTK3x/NCS","Ludo_NetworkManager",void 0);var b=h.ccclass,M=h.property,x={roomId:"testroom1",reconnectionToken:"eyJ"},L=t("ConnectionStateChangeEvent",new l),O=t("ServerRoomStateChangeEvent",new l),P=t("ServerMessageEvent",new l);t("LudoNetworkManager",(y=b("LudoNetworkManager"),S=M({type:d,tooltip:"Enable development mode for additional logging"}),N=M({type:_,tooltip:"Network configuration settings"}),y(((T=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,o(n,"isDevMode",R,i(n)),o(n,"networkConfig",I,i(n)),n._client=void 0,n._room=void 0,n._currentConnectionState=g.INITIALIZING,n._reconnectionData=r({},x),n}e(n,t);var u=n.prototype;return u.onLoad=function(){n._instance&&(this.log("NetworkManager instance already exists. Destroying duplicate."),this.node.destroy()),n._instance=this,this.networkConfig.initNetworkConfig(),this.isDevMode||k.setProductionMode(!0)},u.start=function(){this.initializeClient(),k.info("============ Initializing client ========="),k.info("============ Connecting to room ========="),this.connect(this.networkConfig.roomId,this.networkConfig.userId)},u.initializeClient=function(){var t=this.networkConfig.useSSL?"wss":"ws",n="";n=0==this.networkConfig.serverPort?t+"://"+this.networkConfig.serverHost:t+"://"+this.networkConfig.serverHost+":"+this.networkConfig.serverPort,this.log("Initializing client with endpoint: "+n),this._client=new w.Client(n)},u.shouldRejoin=function(){return!this.isDevMode&&(this._reconnectionData=v.LoadData(this.networkConfig.gameName),!!(this._reconnectionData&&this._reconnectionData.roomId&&this._reconnectionData.reconnectionToken)&&this._reconnectionData.roomId===this.networkConfig.roomId)},u.connect=function(){var t=s(c().mark((function t(n,e){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k.info("============ Connecting to room from connect function ========="),this.updateConnectionState(g.CONNECTING),!this.shouldRejoin()){t.next=7;break}return this.log("Rejoining room",n),t.next=6,this.rejoin();case 6:return t.abrupt("return");case 7:return t.prev=7,o=this.createPlayerData(e),this.log("Joining with options ",{player:o}),t.next=12,this._client.joinById(n,{player:o});case 12:this._room=t.sent,this.initAfterJoin(n),t.next=20;break;case 16:throw t.prev=16,t.t0=t.catch(7),this.handleConnectionError(t.t0),t.t0;case 20:case"end":return t.stop()}}),t,this,[[7,16]])})));return function(n,e){return t.apply(this,arguments)}}(),u.initAfterJoin=function(t){this.updateConnectionState(g.JOINED_ROOM),this.log("Joined room "+t+" with sessionId: "+this._room.sessionId),this.initializeRoomCallbacks(),this.saveReconnectionData()},u.createAndJoinRoom=function(){var t=s(c().mark((function t(n,e){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.log("Creating room",n),this.updateConnectionState(g.CONNECTING),t.prev=2,o=this.createPlayerData(e),t.next=6,this._client.create("PictionaryRoom",{roomId:n,player:o,roomSettings:{maxClients:10}});case 6:this._room=t.sent,this.initAfterJoin(n),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(2),this.handleConnectionError(t.t0),t.t0;case 14:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(n,e){return t.apply(this,arguments)}}(),u.createPlayerData=function(t){return{userId:t,name:t,avatar:"randomProfilePicture",type:C.HUMAN}},u.initializeRoomCallbacks=function(){var t=this;console.log("============ Initializing room callbacks ========="),this._room?(this._room.onStateChange((function(t){O.emit(m.SERVER_ROOM_STATE_CHANGE,t)})),this._room.onLeave((function(n){4001===n?t.updateConnectionState(g.KICKED_OUT):t.updateConnectionState(g.DISCONNECTED)})),this._room.onMessage(p.KICKED_OUT,(function(){t.updateConnectionState(g.KICKED_OUT)})),this._room.onMessage("*",(function(t,n){P.emit(m.SERVER_MESSAGE,t,n)}))):this.log("Cannot initialize callbacks: Room is not defined")},u.updateConnectionState=function(t){if(this._currentConnectionState!==t){var n=this._currentConnectionState;this._currentConnectionState=t,this.log("Connection state changed: "+g[n]+" -> "+g[t]),L.emit(m.CONNECTION_STATE_CHANGE,n,t)}},u.reconnect=function(){var t=s(c().mark((function t(n,e,o){var i,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=1),void 0===e&&(e=10),void 0===o&&(o=2e3),this._currentConnectionState===g.DISCONNECTED||this._currentConnectionState===g.RECONNECTING){t.next=6;break}return this.log("Cannot reconnect: Current state is "+g[this._currentConnectionState]),t.abrupt("return");case 6:return this._room&&this._room.state&&(i=this._room.state).roomSettings&&i.roomSettings.maxReconnectionAttempts&&(e=i.roomSettings.maxReconnectionAttempts),this.updateConnectionState(g.RECONNECTING),this.log("Reconnect attempt "+n+"/"+e),t.prev=9,t.next=12,this.delay(o);case 12:if(this._room&&this._room.reconnectionToken){t.next=14;break}throw new Error("Reconnection token not available");case 14:return t.next=16,this._client.reconnect(this._room.reconnectionToken);case 16:r=t.sent,this._room=r,this.saveReconnectionData(),this.initializeRoomCallbacks(),this.updateConnectionState(g.JOINED_ROOM),this.log("Reconnected successfully."),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(9),this.handleReconnectionError(t.t0,n,e,o);case 27:case"end":return t.stop()}}),t,this,[[9,24]])})));return function(n,e,o){return t.apply(this,arguments)}}(),u.rejoin=function(){var t=s(c().mark((function t(n,e,o){var i,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),void 0===e&&(e=10),void 0===o&&(o=2e3),this.log("Rejoin attempt "+n+"/"+e),t.prev=4,t.next=7,this.delay(o);case 7:if(this._reconnectionData&&this._reconnectionData.reconnectionToken){t.next=9;break}throw new Error("Reconnection data not available");case 9:return i=this._reconnectionData.roomId+":"+this._reconnectionData.reconnectionToken,k.info("Using formatted reconnection token: ",i),t.next=13,this._client.reconnect(i);case 13:r=t.sent,this._room=r,this.saveReconnectionData(),this.initializeRoomCallbacks(),this.updateConnectionState(g.JOINED_ROOM),this.log("Rejoined successfully."),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(4),this.handleReconnectionError(t.t0,n,e,o,"reJoin");case 24:case"end":return t.stop()}}),t,this,[[4,21]])})));return function(n,e,o){return t.apply(this,arguments)}}(),u.delay=function(){var t=s(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,n)})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),u.handleConnectionError=function(t){var n=(null==t?void 0:t.message)||"Unknown error";this.log("Error connecting to room:",n),this.updateConnectionState(g.DISCONNECTED)},u.handleReconnectionError=function(t,n,e,o,i){void 0===i&&(i="reconnect");var r=(null==t?void 0:t.message)||"Unknown error";this.log(i+" attempt "+n+" failed:",r),n<e||-1===e?"reconnect"===i?this.reconnect(n+1,e,o):this.rejoin(n+1,e,o):(this.log("Max reconnection attempts reached. Please check your network or contact support."),this.updateConnectionState(g.DISCONNECTED))},u.saveReconnectionData=function(){if(k.info("============ Saving reconnection data ========="),this._room&&this._room.reconnectionToken){var t=this._room.reconnectionToken;t.includes(":")&&(t=t.split(":")[1]),k.info("saving Reconnection token: ",t),this._reconnectionData={roomId:this.networkConfig.roomId,reconnectionToken:t},v.SaveData(this.networkConfig.gameName,this._reconnectionData),k.info("Reconnection data saved")}else this.log("Cannot save reconnection data: Room or reconnection token not available")},u.leaveRoom=function(){var t=this;this._room?(this.log("Leaving room"),this._room.leave(!0).then((function(){return t.log("Left room successfully")})).catch((function(n){return t.log("Error leaving room:",(null==n?void 0:n.message)||"Unknown error")}))):this.log("Cannot leave room: Room is not defined")},u.getMySessionId=function(){return this._room.sessionId},u.sendMessage=function(t,n){this._room?(this.isDevMode&&this.log("Sending message:",t,n),this._room.send(t,n)):this.log("Cannot send message: Room is not defined")},u.log=function(t){if(this.isDevMode){for(var n=arguments.length,e=new Array(n>1?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];e.length>0?k.info.apply(k,["[NetworkManager] "+t].concat(e)):k.info("[NetworkManager] "+t)}},u.onDestroy=function(){this.cleanup()},u.cleanup=function(){this._room&&(this.leaveRoom(),this._room=null),this._client&&(this._client=null),this._currentConnectionState=g.INITIALIZING,this._reconnectionData=r({},x),n._instance===this&&(n._instance=null)},a(n,[{key:"CurrentRoom",get:function(){return this._room}},{key:"CurrentConnectionState",get:function(){return this._currentConnectionState}}],[{key:"Instance",get:function(){if(!this._instance)throw new Error("NetworkManager instance is not initialized.");return this._instance}}]),n}(f))._instance=null,R=n((D=T).prototype,"isDevMode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=n(D.prototype,"networkConfig",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=D))||E));u._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_NetworkTypes.ts",["cc"],(function(E){var N;return{setters:[function(E){N=E.cclegacy}],execute:function(){N._RF.push({},"5c769UxAqtBHbbVocngx5rD","Ludo_NetworkTypes",void 0);E("LudoNetworkEvents",function(E){return E[E.SERVER_ROOM_STATE_CHANGE=0]="SERVER_ROOM_STATE_CHANGE",E[E.CONNECTION_STATE_CHANGE=1]="CONNECTION_STATE_CHANGE",E[E.ROOM_STATUS_CHANGE=2]="ROOM_STATUS_CHANGE",E[E.SERVER_MESSAGE=3]="SERVER_MESSAGE",E}({})),E("LudoConnectionState",function(E){return E[E.INITIALIZING=0]="INITIALIZING",E[E.CONNECTING=1]="CONNECTING",E[E.CONNECTED=2]="CONNECTED",E[E.LOBBY=3]="LOBBY",E[E.JOINED_ROOM=4]="JOINED_ROOM",E[E.DISCONNECTED=5]="DISCONNECTED",E[E.RECONNECTING=6]="RECONNECTING",E[E.KICKED_OUT=7]="KICKED_OUT",E}({})),E("LudoServerMessageType",function(E){return E.NONE="none",E.KICKED_OUT="kicked_out",E.PLAYER_CAMEBACK="player_cameback",E.PLAYER_JOINED="player_joined",E}({}));N._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_OutComesUIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_PlayerAssets.ts"],(function(e){var t,o,n,s,r,u,i,a,c,l,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,i=e.Prefab,a=e.instantiate,c=e.Sprite,l=e.Component},function(e){m=e.LudoPlayerAssets}],execute:function(){var h,C,O,p,d;r._RF.push({},"05831EM9wFKDYwgl1xxBdlq","Ludo_OutComesUIManager",void 0);var f=u.ccclass,g=u.property;e("LudoOutComesUIManager",(h=f("LudoOutComesUIManager"),C=g({type:i}),h((d=t((p=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,n(t,"outComesPrefab",d,s(t)),t.currentOutComesUI=[],t.currentOutComesValues=[],t.goldenDiceOutcomes=0,t.player=null,t}o(t,e);var r=t.prototype;return r.setGoldenDiceOutcomes=function(e){this.goldenDiceOutcomes=e},r.addOutCome=function(e){var t=a(this.outComesPrefab);t.setParent(this.node),t.getComponent(c).spriteFrame=m.instance.getDiceOutComesStackSprite(e),this.currentOutComesUI.length<this.goldenDiceOutcomes&&6==e&&(t.getComponent(c).spriteFrame=m.instance.getGoldenDiceOutComeSprite()),this.currentOutComesUI.push(t),this.currentOutComesValues.push(e),this.onOutComesChanged()},r.removeOutCome=function(e){var t=this.currentOutComesValues.indexOf(e);-1!=t&&(this.currentOutComesUI[t].destroy(),this.currentOutComesUI.splice(t,1),this.currentOutComesValues.splice(t,1)),this.onOutComesChanged()},r.clearAllOutComes=function(){console.warn("Clearing All OutComes"),this.currentOutComesUI.forEach((function(e){e.destroy()})),this.currentOutComesUI=[],this.currentOutComesValues=[],this.onOutComesChanged()},r.getOutComes=function(){return this.currentOutComesValues},r.onOutComesChanged=function(){this.currentOutComesValues.length<=0?this.player.enableName(!0):this.player.enableName(!1)},r.reset=function(e){this.clearAllOutComes();for(var t=0;t<e.length;t++)this.addOutCome(e[t]);console.warn("all out comes ",this.getOutComes())},r.setPlayer=function(e){this.player=e},r.onDestroy=function(){this.cleanup()},r.cleanup=function(){this.clearAllOutComes()},t}(l)).prototype,"outComesPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=p))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PawnHandler.ts",["cc","./Ludo_Board.ts","./Ludo_Defines.ts","./Ludo_PowerUp.ts","./Ludo_AudioManager.ts","./Ludo_GameHandler.ts","./Ludo_AnimationTag.ts","./Ludo_UIManager.ts","./Ludo_NetworkManager.ts"],(function(e){var n,t,i,o,a,l,s,r,c,u,d,p,h,P;return{setters:[function(e){n=e.cclegacy,t=e.Vec3,i=e.tween,o=e.math,a=e.Tween},function(e){l=e.LudoBoard},function(e){s=e.LudoTileType,r=e.LudoGameMessageType},function(e){c=e.LudoPowerUp},function(e){u=e.LudoAudioManager},function(e){d=e.LudoGameHandler},function(e){p=e.LudoAnimationTag},function(e){h=e.LudoUIManager},function(e){P=e.LudoNetworkManager}],execute:function(){n._RF.push({},"0f849xgRBtKtY8k5XecVFN+","Ludo_PawnHandler",void 0);var g=0,m=1;e("LudoPawnHandler",function(){function e(e,n){this.player=void 0,this.pawns=void 0,this.state=g,this.moveDataQueue=[],this.pawnAnimation=null,this.currentHandlingPieceIndex=-1,this.currentHandlingMoveData=null,this.pieceAnimationsTag=p.PIECE_MOVE,this.hasKilledInThisMove=!1,this.pawns=e,this.player=n}var n=e.prototype;return n.setState=function(e){this.state=e},n.onPawnMoveAnimationComplete=function(){l.Instance.updateAllPiecePositions(),this.handleData()},n.handleData=function(){if(this.hasKilledInThisMove=!1,0!=this.moveDataQueue.length){this.StopRippleAnimations();var e=this.moveDataQueue.shift();this.setState(m),this.player.outComesUIManager.removeOutCome(e.rollValue),this.currentHandlingPieceIndex=e.pieceIndex,this.currentHandlingMoveData=e,console.log("Handling Move Data: ","piece ",e.pieceIndex,"with roll value ",e.rollValue),this.pawnAnimation=this.pawns[e.pieceIndex].move(e.rollValue,this.onPieceLandedOnTargetTile.bind(this)),this.pawnAnimation.tag(this.pieceAnimationsTag),this.pawnAnimation.start()}else this.state==m&&(this.setState(g),this.StartRippleForValidMovePieces())},n.onPieceLandedOnTargetTile=function(){var e=this;console.log("Moved Piece to Target Tile: ",this.pawns[this.currentHandlingPieceIndex].pathNumber),0===this.pawns[this.currentHandlingPieceIndex].previousPathNumber&&this.pawns[this.currentHandlingPieceIndex].pathNumber>0&&u.instance.playSound("PawnOutOfBase");var n=this.killOpponentPieces(this.pawns[this.currentHandlingPieceIndex]);if(null!=n)return n.call((function(){e.onPieceLandedOnTargetTile()})),void n.start();var t=this.handlePowerUps(this.pawns[this.currentHandlingPieceIndex]);if(null!=t&&u.instance.playSound("Power"),null==t||t.start(),null==t){if(d.Instance.anyPlayerFinished())return console.log("All Players Finished : Sending Move Ack"),void this.sendMoveAck();if(this.hasKilledInThisMove)return console.log("Killed in this move: Sending Move Ack"),void this.sendMoveAck();this.currentHandlingMoveData.sendAck&&this.sendMoveAck(),this.onPawnMoveAnimationComplete()}},n.handlePowerUps=function(e){var n=l.Instance.getPowerUpType(e);return n==s.PROPELLER?(console.log("Landed on Propeller Powerup"),this.getPropellerAnimation(e)):n==s.BOMB?(console.log("Landed on Bomb Powerup"),this.getBombAnimation(e)):n==s.GOLDEN_DICE?(console.log("Landed on Golden Dice Powerup"),this.getGoldenDiceAnimation(e)):null},n.getPropellerAnimation=function(e){var n=this,o=l.Instance.getPropellerLandingPathNumber(e);console.log("Propeller Landing Path Number: ",o);var a=l.Instance.getPowerupNode(e);l.Instance.removePowerUp(a.getComponent(c)),e.setPathNumber(o),e.updateParentNode();var s=l.Instance.getPathTile(o,e.playerNumber,e.pieceNumber).worldPosition.clone(),r=t.distance(e.node.worldPosition,s)/100*.15,u=s.clone().subtract(e.node.worldPosition).normalize();r=Math.max(r,.3);var d=i(e.node).call((function(){e.playPropellerAnimation(u)})).to(r,{worldPosition:s});return d.call((function(){e.stopPropellerAnimation(),n.onPieceLandedOnTargetTile()})),d.tag(this.pieceAnimationsTag),d},n.getGoldenDiceAnimation=function(e){var n=this,a=l.Instance.getPowerupNode(e),s=a.getComponent(c),r=this.player.node.worldPosition;a.setParent(this.player.node,!0),s.playMagicTrailEffect(),console.log("Golden Dice Powerup Target Position: ",r);var d=t.distance(a.worldPosition,r)/50*.15;d=o.clamp(d,.3,1),console.log("Golden Dice Animation Duration: ",d);var p=i(this.player.node).to(.2,{scale:t.ONE.clone().multiplyScalar(1.15)}).to(.1,{scale:t.ONE.clone()}),h=i(a);return h.call((function(){u.instance.playSound("MagicTrail")})),h.to(.05,{scale:t.ONE.clone().multiplyScalar(.7)}),h.to(d,{worldPosition:r},{easing:"expoIn"}),h.call((function(){u.instance.stopSound("MagicTrail"),p.start()})),h.delay(.1),h.call((function(){l.Instance.removePowerUp(s),n.onPieceLandedOnTargetTile()})),h},n.getBombAnimation=function(e){var n=this,t=l.Instance.getPowerupNode(e),o=t.getComponent(c),a=l.Instance.getBombLandingPathNumber(e);console.log("Bomb Landing Path Number: ",a),e.setPathNumber(a),e.updateParentNode();var s=l.Instance.getPathPositions(e.previousPathNumber,a,e.playerNumber,e.pieceNumber),r=e.getMoveAnimation(a,null);r.tag(this.pieceAnimationsTag);for(var u=i(t).call((function(){t.setWorldPosition(s[0]),o.blinkWithRedColor()})),d=1;d<s.length;d++)u.then(this.jumpToNextTileAnimation(t,s[d-1],s[d])),d==s.length-1&&u.call((function(){r.call((function(){n.onPieceLandedOnTargetTile()})),r.start()}));return u.call((function(){var i;l.Instance.createBombBlastEffect(t.worldPosition.clone()),null==(i=n.killOpponentPieces(e))||i.start(),l.Instance.removePowerUp(t.getComponent(c))})),u.tag(this.pieceAnimationsTag),u},n.jumpToNextTileAnimation=function(e,n,t){var o=n.clone().add(t).multiplyScalar(.5),a=e.scale.clone(),l=i(e).call((function(){u.instance.playSound("Move"),e.setWorldPosition(n)}));return l.to(.12,{worldPosition:o,scale:a.clone().multiplyScalar(1.5)}),l.to(.12,{worldPosition:t,scale:a}),l},n.killOpponentPieces=function(e){var n=this,a=l.Instance.getKillablePieces(e);if(null!=a){console.log("Killing Opponent Piece: ","piece ",a.pieceNumber,"of player ",a.playerNumber);var s=l.Instance.getPathPositions(a.pathNumber,0,a.playerNumber,a.pieceNumber);a.setPathNumber(0),a.updateParentNode(),a.updatePieceScale();var r=o.clamp(t.distance(a.node.worldPosition,s[s.length-1])/50*.15,.3,1);console.log("kill animation duration per tile: ",r);var c=i(a.node);return c.call((function(){u.instance.playSound("Kill");var e=d.Instance.getPlayer(a.playerNumber);e&&e._isLocal&&h.instance.playFlashEffect(),a.node.setWorldPosition(s[0])})),c.to(r,{worldPosition:s[s.length-1]},{progress:function(e,t,i,a){return o.lerp(e,t,n.easeOutBack(a))}}),c.call((function(){})),this.hasKilledInThisMove=!0,c}},n.easeOutBack=function(e){var n=1.70158*1.5;return 1+3.5523700000000002*Math.pow(e-1,3)+n*Math.pow(e-1,2)},n.movePiece=function(e,n,t){this.moveDataQueue.push({pieceIndex:e,rollValue:n,sendAck:t}),this.state==g&&this.handleData()},n.Reset=function(e){this.stopAllAnimations(),this.moveDataQueue=[],this.setState(g),this.ResetPawnPositions(e),l.Instance.reset(e)},n.ResetPawnPositions=function(e){for(var n=e.playersData[this.player.playerNumber],t=0;t<n.pieces.length;t++)this.pawns[t].reset(n.pieces[t]);console.log("Reset Pawn Positions of Player: ",this.player.playerNumber)},n.stopAllAnimations=function(){this.StopRippleAnimations(),a.stopAllByTag(this.pieceAnimationsTag)},n.sendMoveAck=function(){P.Instance.CurrentRoom.send(r.MOVE_PIECE_ACK,JSON.stringify({}))},n.isAnimating=function(){return this.state==m},n.StartRippleForValidMovePieces=function(){if(this.player._isLocal)for(var e=this.player._stateMachine.movePieceState.getAllMovablePieces(),n=0;n<e.length;n++)e[n].playRippleAnimation()},n.StopRippleAnimations=function(){if(this.player._isLocal)for(var e=0;e<this.pawns.length;e++)this.pawns[e].stopRippleAnimation()},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PbExtensions.ts",["cc","./Ludo_PBLogger.ts"],(function(){var t,n,o,e;return{setters:[function(e){t=e.cclegacy,n=e.Vec3,o=e.Component},function(t){e=t.LudoPBLogger}],execute:function(){t._RF.push({},"d60aeTma09GH52ik5OUjVWN","Ludo_PbExtensions",void 0),n.prototype.clampMagnitude=function(t,n){if(!(t>n)){var o=this.length();return o>n?(this.normalize(),this.multiplyScalar(n)):o<t&&(this.normalize(),this.multiplyScalar(t)),this}console.error("min should be less than max")},o.prototype.log=function(){for(var t=this.constructor.name,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];e.info.apply(e,[t+" "].concat(o))},t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PBLogger.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"252bcBm+SNGlrM56mjzUHDf","Ludo_PBLogger",void 0);var n=e("LogLevel",function(e){return e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e}({})),o=e("LudoPBLogger",function(){function e(){}return e.debug=function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];this.log(n.Debug,e,o)},e.info=function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];this.log(n.Info,e,o)},e.warning=function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];this.log(n.Warning,e,o)},e.error=function(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];this.log(n.Error,e,o)},e.log=function(e,r,o){if(e>=this.currentLevel){var t,i=n[e]+": "+r;if((t=console).log.apply(t,[i].concat(o)),this.isProduction&&window.ReactNativeWebView)try{var c={type:"log",level:n[e],message:i,params:o};window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify(c))}catch(e){console.error("Failed to send log to ReactNativeWebView:",e)}}},e.setLevel=function(e){this.currentLevel=e},e.setProductionMode=function(e){this.isProduction=e},e}());o.currentLevel=n.Debug,o.isProduction=!1,r._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PbSaveSystem.ts",["cc","./Ludo_PBLogger.ts"],(function(e){var t,a,o,n;return{setters:[function(e){t=e.cclegacy,a=e._decorator,o=e.sys},function(e){n=e.LudoPBLogger}],execute:function(){var c;t._RF.push({},"e31ccxQaj5LtqnJTrZKMgzh","Ludo_PbSaveSystem",void 0);var r=a.ccclass;e("LudoPbSaveSystem",r("LudoPbSaveSystem")(c=function(){function e(){}return e.SaveData=function(e,t){n.info("============ Saving data in pb save system ========="),o.localStorage.setItem(e,JSON.stringify(t))},e.LoadData=function(e){return JSON.parse(o.localStorage.getItem(e))},e.RemoveData=function(e){o.localStorage.removeItem(e)},e.ClearAllData=function(){o.localStorage.clear()},e}())||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Piece.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_PlayerAssets.ts","./Ludo_Board.ts","./Ludo_AudioManager.ts","./Ludo_PoolManager.ts"],(function(e){var t,i,n,o,r,a,l,s,c,p,u,d,h,m,f,P,b,y,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Sprite,s=e.CCInteger,c=e.Animation,p=e.Prefab,u=e.tween,d=e.Vec3,h=e.quat,m=e.Quat,f=e.Component},function(e){P=e.LudoPlayerAssets},function(e){b=e.LudoBoard},function(e){y=e.LudoAudioManager},function(e){N=e.LudoPoolManager}],execute:function(){var v,A,g,S,w,C,L,O,T,E,I,R,z,M,B;r._RF.push({},"50862QE65RBTZEJtP2u9mku","Ludo_Piece",void 0);var _=a.ccclass,D=a.property;e("LudoPiece",(v=_("LudoPiece"),A=D({type:l}),g=D({type:s}),S=D({type:s}),w=D({type:c}),C=D({type:c}),L=D({type:p}),v((E=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"pieceSprite",E,o(t)),n(t,"pieceNumber",I,o(t)),n(t,"playerNumber",R,o(t)),t.moveData=[],t.previousPathNumber=0,t.pathNumber=0,t.pieceScaleOnBoard=.45,t.stackedupScale=.35,n(t,"propellerAnimation",z,o(t)),n(t,"dottedCircleAnim",M,o(t)),n(t,"moveRippleEffect",B,o(t)),t.stackedupCount=0,t}i(t,e);var r=t.prototype;return r.Initialize=function(e,t){this.playerNumber=e,this.pieceNumber=t,this.pieceSprite&&P.instance&&(this.pieceSprite.spriteFrame=P.instance.getPawnSprite(e))},r.start=function(){},r.update=function(e){},r.move=function(e,t){var i=this.pathNumber+e;return this.isOnBase()&&6==e&&(i=1),this.setPathNumber(i),this.updateParentNode(),this.getMoveAnimation(i,t)},r.moveToTargetPathNumber=function(e,t,i){return void 0===i&&(i=.12),this.setPathNumber(e),this.updateParentNode(),this.getMoveAnimation(e,t,i)},r.getMoveAnimation=function(e,t,i){var n=this;void 0===i&&(i=.12);for(var o=this.node.worldPosition.clone(),r=b.Instance.getPathPositions(this.previousPathNumber,e,this.playerNumber,this.pieceNumber),a=(b.Instance.getPathTile(e,this.playerNumber,this.pieceNumber),u(this.node).call((function(){n.node.setWorldPosition(o)}))),l=1;l<r.length;l++)a.then(this.jumpToNextTileAnimation(this.node,r[l-1],r[l],i));return a.call((function(){null!=t&&t()})),a},r.jumpToNextTileAnimation=function(e,t,i,n){var o=this;void 0===n&&(n=.12);var r=t.clone().add(i).multiplyScalar(.5),a=e.scale.clone(),l=u(e).call((function(){y.instance.playSound("Move"),e.setWorldPosition(t)}));return l.call((function(){o.playMoveRippleEffect(t.clone())})),l.to(n,{worldPosition:r,scale:a.clone().multiplyScalar(1.5)}),l.to(n,{worldPosition:i,scale:a}),l},r.setPathNumber=function(e){this.previousPathNumber=this.pathNumber,this.pathNumber=e},r.updateParentNode=function(e){void 0===e&&(e=-1),-1==e&&(e=this.pathNumber);var t=b.Instance.getPathTile(e,this.playerNumber,this.pieceNumber);this.node.setParent(t,!0)},r.updatePiecePosition=function(e){void 0===e&&(e=-1),-1==e&&(e=this.pathNumber),this.node.setPosition(d.ZERO.clone());b.Instance.getPathTile(e,this.playerNumber,this.pieceNumber);b.Instance.piecesOnTile(e,this.playerNumber)>1&&this.node.setWorldPosition(this.node.worldPosition.add(this.getOffsetPosition())),this.updatePieceScale()},r.getOffsetPosition=function(){if(1==this.node.parent.children.length)return d.ZERO.clone();var e=this.myIndexInTile(this.node.parent)+1;return new d(10*e-20,0,0)},r.updatePieceScale=function(){var e=b.Instance.getPawnsCountOnTile(this.pathNumber,this.playerNumber);this.isOnBase()?this.node.scale=d.ONE.clone():this.node.scale=2==e?d.ONE.clone().multiplyScalar(this.stackedupScale):e>2?d.ONE.clone().multiplyScalar(this.stackedupScale-.07):d.ONE.clone().multiplyScalar(this.pieceScaleOnBoard)},r.myIndexInTile=function(e){for(var t=0;t<e.children.length;t++)if(e.children[t]==this.node)return t;return-1},r.animatePieceToSize=function(e){u(this.node).to(.5,{scale:d.ONE.clone().multiplyScalar(e)}).start()},r.isOnBase=function(){return 0==this.pathNumber},r.playPropellerAnimation=function(e){this.propellerAnimation&&this.propellerAnimation.node?(this.propellerAnimation.node.active=!0,this.propellerAnimation.node.setPosition(d.ZERO.clone()),this.setNodeUpDirection(this.propellerAnimation.node,e),this.propellerAnimation.node.setWorldPosition(this.node.worldPosition.clone().subtract(this.propellerAnimation.node.up.multiplyScalar(50))),this.propellerAnimation.play(),y.instance&&y.instance.playSound("Propeller")):console.warn("[LudoPiece] Propeller animation is null, cannot play")},r.setNodeUpDirection=function(e,t){var i=t.clone().normalize(),n=new d(0,0,1),o=new d(0,0,0);d.cross(o,i,n).normalize();var r=h();m.fromAxes(r,o,i,n),e.setWorldRotation(r)},r.stopPropellerAnimation=function(){this.propellerAnimation&&this.propellerAnimation.node&&(this.propellerAnimation.stop(),this.propellerAnimation.node.active=!1),y.instance&&y.instance.stopSound("Propeller")},r.playRippleAnimation=function(){if(this.dottedCircleAnim&&this.dottedCircleAnim.node){this.dottedCircleAnim.node.active=!0;var e=this.dottedCircleAnim.node.getComponent(l);null!=e&&P.instance&&(e.color=P.instance.getPawnColor(this.playerNumber)),this.dottedCircleAnim.play()}else console.warn("[LudoPiece] Dotted circle animation is null, cannot play")},r.stopRippleAnimation=function(){this.dottedCircleAnim&&this.dottedCircleAnim.node&&(this.dottedCircleAnim.stop(),this.dottedCircleAnim.node.active=!1)},r.playMoveRippleEffect=function(e){if(N.instance&&b.Instance){var t=N.instance.getObjectFromPool(this.moveRippleEffect);if(t){t.setParent(b.Instance.node,!0),t.setWorldPosition(e);var i=t.getComponent(l);null!=i&&P.instance&&(i.color=P.instance.getPawnColor(this.playerNumber));var n=t.getComponent(c);n&&n.play()}else console.warn("[LudoPiece] Failed to get ripple effect from pool")}else console.warn("[LudoPiece] PoolManager or Board instance is null, cannot play ripple effect")},r.reset=function(e){this.setPathNumber(e),this.updateParentNode(),this.updatePiecePosition(),this.stopPropellerAnimation()},t}(f)).prototype,"pieceSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"pieceNumber",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=t(T.prototype,"playerNumber",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(T.prototype,"propellerAnimation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"dottedCircleAnim",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"moveRippleEffect",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=T))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Dice.ts","./Ludo_Board.ts","./Ludo_Piece.ts","./Ludo_PlayerAssets.ts","./Ludo_Timer.ts","./Ludo_PawnHandler.ts","./Ludo_OutComesUIManager.ts","./Ludo_MoveOptionsInput.ts","./Ludo_PlayerStateMachine.ts","./Ludo_PlayerAvatar.ts","./Ludo_NetworkManager.ts","./Ludo_GameHandler.ts"],(function(e){var t,i,n,r,o,a,s,l,u,c,p,h,m,f,d,g,y,P,b,w,_,I,v,L,A,N,S,C,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.CCInteger,l=e.Label,u=e.Sprite,c=e.Widget,p=e.Node,h=e.Vec3,m=e.instantiate,f=e.UITransform,d=e.Layout,g=e.tween,y=e.Component},function(e){P=e.LudoDice},function(e){b=e.LudoBoard},function(e){w=e.LudoPiece},function(e){_=e.LudoPlayerAssets},function(e){I=e.LudoTimer},function(e){v=e.LudoPawnHandler},function(e){L=e.LudoOutComesUIManager},function(e){A=e.LudoMoveOptionsInput},function(e){N=e.LudoPlayerStateMachine},function(e){S=e.LudoPlayerAvatar},function(e){C=e.LudoNetworkManager},function(e){M=e.LudoGameHandler}],execute:function(){var z,D,U,B,O,H,T,R,E,F,G,k,x,V,W,Q,j,Y,Z,q,J,K,X,$,ee,te,ie,ne,re,oe,ae;o._RF.push({},"87f9b9YQoBHFZGNuuQ0d4mr","Ludo_Player",void 0);var se=a.ccclass,le=a.property,ue=e("PlayerState",function(e){return e[e.IDLE=0]="IDLE",e[e.ROLLING=1]="ROLLING",e[e.MOVING_PIECE=2]="MOVING_PIECE",e}({}));e("LudoPlayer",(z=se("LudoPlayer"),D=le({type:s}),U=le({type:l}),B=le({type:u}),O=le({type:u}),H=le({type:c}),T=le({type:I}),R=le({type:u}),E=le({type:P}),F=le({type:p}),G=le({type:u}),k=le({type:u}),x=le({type:S}),V=le({type:L}),W=le({type:p}),z((Y=t((j=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"playerNumber",Y,r(t)),n(t,"playerName",Z,r(t)),n(t,"profileImage",q,r(t)),n(t,"profilePicHolder",J,r(t)),n(t,"profilePicWidget",K,r(t)),n(t,"timer",X,r(t)),n(t,"timerSprite",$,r(t)),n(t,"dice",ee,r(t)),n(t,"diceRoot",te,r(t)),n(t,"diceBgSprite",ie,r(t)),n(t,"namePlateSprite",ne,r(t)),n(t,"playerAvatar",re,r(t)),t.bases=[],t.pawns=[],t.state=ue.IDLE,t.playerData=null,t._isLocal=!1,t._isInitialized=!1,t._currentPiecesData=[0,0,0,0],t._playerIndex=0,t._currentDiceValue=1,t._pieceAnimations=[],t._isProfileInitialized=!1,t._board=null,t._myBasesParent=null,t._pawnHandler=null,n(t,"outComesUIManager",oe,r(t)),n(t,"dicePointingArrow",ae,r(t)),t.diceArrowInitialPosition=new h(0,0,0),t._currentSelectedPieceNumber=-1,t._moveOptioneInput=null,t._roomSettings=null,t._stateMachine=void 0,t.profileImageUrl="",t.arrowAnimation=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){this._pawnHandler=new v(this.pawns,this),this.diceArrowInitialPosition=this.dicePointingArrow.getPosition(),this.outComesUIManager.setPlayer(this),null==this._stateMachine&&(this._stateMachine=new N(this))},o.start=function(){this.createMoveOptionsUI()},o.update=function(e){this._stateMachine.updateState(e)},o.createMoveOptionsUI=function(){var e=m(_.instance.moveOptionsUI);e.setParent(this.node),e.setPosition(new h(0,0,0)),this._moveOptioneInput=e.getComponent(A),this._moveOptioneInput.SetBackgroundColor(_.instance.getPawnColor(this.playerNumber)),this._moveOptioneInput.node.active=!1},o.initialize=function(e,t){var i=this;this._board=t;var n=e.playersData.find((function(e){return e.playerNumber==i.playerNumber}));null!=n&&(this.playerData=n,this.loadProfile(n),this._myBasesParent=t.getPlayerBase(this.playerNumber),this.createBases(2),this.createPawns(2),n.sessionId==C.Instance.CurrentRoom.sessionId&&(this._isLocal=!0,this.timer.setLocal(this._isLocal)),this._roomSettings=e.roomSettings,this.setDiceBgColor(),this.setTimerColor())},o.loadProfile=function(e){if(!this._isProfileInitialized&&null!=e){var t=M.Instance.getContactName(e.userId),i=t||e.name;this.playerName.string=this.truncateName(i,10),this.profileImageUrl=e.avatar,this.loadProfileImage(),this.profilePicHolder.color=_.instance.getPawnColor(e.playerNumber),this.namePlateSprite.spriteFrame=_.instance.getProfileNamePlateSprite(e.playerNumber),this._isInitialized=!0,this.profileImage.node.on(p.EventType.TOUCH_START,this.openProfile,this)}},o.loadProfileImage=function(){this.profileImageUrl?this.playerAvatar.setAvatarFromUrl(this.profileImageUrl):console.warn("[Player] No profile image URL provided")},o.repostionOutComesUI=function(){var e=this.namePlateSprite.node.getComponent(f),t=(this.namePlateSprite.node.getComponent(d).cellSize.width,this.outComesUIManager.node.position.clone());t.x=e.width-30;var i=Math.sign(this.diceRoot.scale.x);t.x*=i,this.outComesUIManager.node.position=t},o.createBases=function(e){for(var t=0;t<e;t++){var i=m(_.instance.basePrefab);i.setParent(this._myBasesParent,!0),i.name="Base"+t;var n=0,r=0;switch(t){case 0:n=-55,r=55;break;case 1:n=55,r=55;break;case 2:n=55,r=-55;break;case 3:n=-55,r=-55}e<=2&&(r=0),i.setWorldPosition(new h(n,r,0).add(this._myBasesParent.worldPosition)),this.bases.push(i)}},o.createPawns=function(e){for(var t=_.instance.pawnPrefab,i=0;i<e;i++){var n=m(t);n.setParent(this.bases[i],!0),n.setPosition(new h(0,0,0));var r=n.getComponent(w);r.Initialize(this.playerNumber,i),this.pawns.push(r),b.Instance.addPiece(r)}},o.onServerStateChange=function(e){null==this._stateMachine&&(this._stateMachine=new N(this)),this._stateMachine.onServerStateChange(e)},o.onReconnection=function(e){this._stateMachine.onReconnection(e)},o.isMyTurn=function(e){return this.playerNumber==e},o.isAnyPieceSelected=function(){return-1!=this._currentSelectedPieceNumber},o.truncateName=function(e,t){var i=e.indexOf(" ");return-1!=i&&(e=e.substring(0,i)),e.length>t?e.substring(0,t)+"..":e},o.setPlayerNumber=function(e){this.playerNumber=e},o.enableName=function(e){},o.arrowPointToDiceAnimation=function(e){var t;null==(t=this.arrowAnimation)||t.stop(),console.log("arrowPointToDiceAnimation : ",e),e?(console.log("Enabling Arrow"),this.dicePointingArrow.active=!0,this.dicePointingArrow.setPosition(this.diceArrowInitialPosition),this.arrowAnimation=g(this.dicePointingArrow),this.arrowAnimation.by(.2,{position:new h(0,-10,0)}),this.arrowAnimation.by(.2,{position:new h(0,10,0)}),this.arrowAnimation.union(),this.arrowAnimation.repeatForever(),this.arrowAnimation.start()):(console.log("Disabling Arrow"),this.dicePointingArrow.active=!1,this.arrowAnimation.stop())},o.isFinished=function(){for(var e=this._roomSettings,t=0;t<this.pawns.length;t++)if(this.pawns[t].pathNumber==b.Instance.nonHomePathCount(e)+b.Instance.homePathCount(e)-1)return!0;return!1},o.setDiceBgColor=function(){this.diceBgSprite.color=_.instance.getDiceBgColor(this.playerNumber)},o.setTimerColor=function(){this.timerSprite},o.GetProfileSpriteFrame=function(){return this.profileImage.spriteFrame},o.openProfile=function(){var e=this,t=this._stateMachine.currentServerState.playersData.find((function(t){return t.playerNumber==e.playerNumber})).userId;console.log("Opening Profile of User : ",t)},t}(y)).prototype,"playerNumber",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Z=t(j.prototype,"playerName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"profileImage",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"profilePicHolder",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(j.prototype,"profilePicWidget",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(j.prototype,"timer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"timerSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"dice",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"diceRoot",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(j.prototype,"diceBgSprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(j.prototype,"namePlateSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"playerAvatar",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(j.prototype,"outComesUIManager",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(j.prototype,"dicePointingArrow",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=j))||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PlayerAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Defines.ts"],(function(e){var t,r,i,n,o,a,p,u,l,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,p=e.SpriteFrame,u=e.Color,l=e.Prefab,c=e.Component},function(e){s=e.LudoTileType}],execute:function(){var f,b,y,m,S,g,w,P,d,C,h,O,z,D,B,L,v,U,_,E,k,A,I,N,R,T,F,H,M,j,G,x;o._RF.push({},"f5a55y4aCtOBbMzeZLjsmUl","Ludo_PlayerAssets",void 0);var W=a.ccclass,Z=a.property;e("LudoPlayerAssets",(f=W("LudoPlayerAssets"),b=Z({type:p}),y=Z({type:u}),m=Z({type:u}),S=Z({type:p}),g=Z({type:p}),w=Z({type:l}),P=Z({type:l}),d=Z({type:p}),C=Z({type:p}),h=Z({type:p}),O=Z({type:l}),z=Z({type:[p]}),D=Z({type:l}),B=Z({type:l}),f(((x=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"pawnSprites",U,n(t)),i(t,"pawnColors",_,n(t)),i(t,"DiceBgColors",E,n(t)),i(t,"profileNamePlateSprite",k,n(t)),i(t,"homeBaseSprite",A,n(t)),i(t,"pawnPrefab",I,n(t)),i(t,"basePrefab",N,n(t)),i(t,"diceOutComeSprites",R,n(t)),i(t,"diceOutComesStackSprites",T,n(t)),i(t,"goldenDiceOutComeSprite",F,n(t)),i(t,"moveOptionsUI",H,n(t)),i(t,"powerUpSprites",M,n(t)),i(t,"powerUpPrefab",j,n(t)),i(t,"bombBlastEffectPrefab",G,n(t)),t}r(t,e);var o=t.prototype;return o.onLoad=function(){t.instance=this},o.getPawnSprite=function(e){return this.pawnSprites[e]},o.getProfileNamePlateSprite=function(e){return this.profileNamePlateSprite[e]},o.getHomeBaseSprite=function(e){return this.homeBaseSprite[e]},o.getDiceOutComeSprite=function(e){return this.diceOutComeSprites[e]},o.getDiceOutComesStackSprite=function(e){return this.diceOutComesStackSprites[e]},o.getGoldenDiceOutComeSprite=function(){return this.goldenDiceOutComeSprite},o.getPowerUpSprite=function(e){var t=e&s.GOLDEN_DICE,r=e&s.BOMB,i=e&s.PROPELLER;return t?this.powerUpSprites[0]:r?this.powerUpSprites[1]:i?this.powerUpSprites[2]:void 0},o.getPawnColor=function(e){return this.pawnColors[e]},o.getDiceBgColor=function(e){return u.WHITE.clone()},o.onDestroy=function(){t.instance===this&&(t.instance=null)},t}(c)).instance=null,U=t((v=x).prototype,"pawnSprites",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(v.prototype,"pawnColors",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=t(v.prototype,"DiceBgColors",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=t(v.prototype,"profileNamePlateSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(v.prototype,"homeBaseSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(v.prototype,"pawnPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(v.prototype,"basePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(v.prototype,"diceOutComeSprites",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(v.prototype,"diceOutComesStackSprites",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(v.prototype,"goldenDiceOutComeSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(v.prototype,"moveOptionsUI",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(v.prototype,"powerUpSprites",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(v.prototype,"powerUpPrefab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(v.prototype,"bombBlastEffectPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=v))||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PlayerAvatar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,a,i,n,o,s,l,c,u,p,f;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,s=e.Sprite,l=e.Node,c=e.assetManager,u=e.SpriteFrame,p=e.Texture2D,f=e.Component}],execute:function(){var v,d,y,h,g,m,A;n._RF.push({},"610f8L0srdIIJNwtb7O4Q+M","Ludo_PlayerAvatar",void 0);var w=o.ccclass,T=o.property;e("LudoPlayerAvatar",(v=w("LudoPlayerAvatar"),d=T({type:s,tooltip:"Player Avatar"}),y=T({type:s,tooltip:"Player Avatar Outline"}),v((m=r((g=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r=e.call.apply(e,[this].concat(n))||this,a(r,"playerAvatar",m,i(r)),a(r,"outline",A,i(r)),r.enableOnClick=!1,r.userId="",r}t(r,e);var n=r.prototype;return n.initialize=function(e,r){this.enableOnClick=e,this.userId=r},n.onEnable=function(){this.registerTouchEvents()},n.onDisable=function(){this.unregisterTouchEvents()},n.start=function(){},n.update=function(e){},n.registerTouchEvents=function(){this.playerAvatar.node.on(l.EventType.TOUCH_START,this.handleTouchStart,this)},n.unregisterTouchEvents=function(){this.playerAvatar.node.off(l.EventType.TOUCH_START,this.handleTouchStart,this)},n.handleTouchStart=function(){this.enableOnClick},n.setOutline=function(e){this.outline.enabled=e},n.setAvatarFromUrl=function(e){console.log("Setting avatar from url: ",e);var r=this.getFromCache(e);r?this.createSpriteFrameFromTexture(r):this.loadRemoteImage(e)},n.setAvatarFromSpriteFrame=function(e){this.playerAvatar.spriteFrame=e},n.getFromCache=function(e){try{var r=c.assets.get(e);if(r&&r.isValid&&"function"==typeof r.getHash)return r}catch(e){console.warn("[PlayerAvatar] Error accessing cached texture: "+e)}return null},n.createSpriteFrameFromTexture=function(e){if(e&&e.isValid&&"function"==typeof e.getHash)if(this.playerAvatar)try{var r=new u;r.texture=e,this.playerAvatar.spriteFrame=r}catch(e){console.error("[PlayerAvatar] Error creating sprite frame: "+e)}else console.warn("[PlayerAvatar] playerAvatar is null, cannot create sprite frame");else console.warn("[PlayerAvatar] Invalid texture provided")},n.loadRemoteImage=function(e){var r=this;c.loadRemote(e,{ext:".png"},(function(t,a){if(t)return console.error("[Player] Failed to load profile image: "+JSON.stringify(t)),void(window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({message:"player_avatar_load_failed",data:{userId:r.userId,url:e,errorName:t.name,errorMessage:t.message,errorStack:t.stack}})));try{var i=new u,n=new p;n.image=a,i.texture=n,r.playerAvatar.spriteFrame=i}catch(t){console.error("[Player] Error creating sprite frame: "+t),window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({message:"player_sprite_frame_creation_failed",data:{userId:r.userId,url:e,error:t}}))}}))},r}(f)).prototype,"playerAvatar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(g.prototype,"outline",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PlayerBaseState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"df26b0q0BZMS5DnK7lTZnIB","Ludo_PlayerBaseState",void 0);e("LudoPlayerBaseState",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PlayerStateMachine.ts",["cc","./Ludo_UIManager.ts","./Ludo_Defines.ts","./Ludo_IdleState.ts","./Ludo_MovePieceState.ts","./Ludo_RollingState.ts","./Ludo_PBLogger.ts","./Ludo_RoomTypes.ts"],(function(t){var e,r,a,i,n,u,o,s,c;return{setters:[function(t){e=t.cclegacy},function(t){r=t.LudoUIManager},function(t){a=t.LudoGameMessageType,i=t.LudoGameState},function(t){n=t.LudoIdleState},function(t){u=t.LudoMovePieceState},function(t){o=t.LudoRollingState},function(t){s=t.LudoPBLogger},function(t){c=t.LudoRoomStatus}],execute:function(){e._RF.push({},"61671wuL4BI5baN7AKOa45p","Ludo_PlayerStateMachine",void 0);t("LudoPlayerStateMachine",function(){function t(t){this._currentState=void 0,this.idleState=void 0,this.rollingState=void 0,this.movePieceState=void 0,this.player=void 0,this.currentServerState=void 0,this.currentTurnPlayerNumber=-1,this.player=t,this.idleState=new n(this),this.rollingState=new o(this),this.movePieceState=new u(this),this._currentState=this.idleState}var e=t.prototype;return e.updateState=function(t){null!=this._currentState&&this._currentState.updateState(t)},e.changeState=function(t){this._currentState.exitState(),this._currentState=t,this._currentState.enterState()},e.getPlayerNumber=function(){return this.player.playerNumber},e.onServerStateChange=function(t){if(this.currentServerState=t,s.info("onServerStateChange input payload inputType : ",t.inputPayload.inputType),this.currentTurnPlayerNumber!=t.turnPlayerNumber&&(this.currentTurnPlayerNumber=t.turnPlayerNumber,this.player.isMyTurn(t.turnPlayerNumber)&&(console.log("===================================="),console.log("Player Turn : ",this.currentTurnPlayerNumber))),this.currentServerState.currentRoomStatus!==c.END_GAME&&this.checkAndUpdateBotScreen(),this.player.isMyTurn(t.turnPlayerNumber)){if(s.info("input payload inputType : ",t.inputPayload.inputType),t.inputPayload.inputType!=a.NONE)switch(t.inputPayload.inputType){case a.SET_STATE:this.onSetState(t);break;case a.DICE_OUTCOME:this._currentState==this.rollingState&&this.rollingState.onDiceOutCome();break;case a.MOVE_PIECE:this._currentState==this.movePieceState&&this.movePieceState.onMovePiece()}}else this._currentState!=this.idleState&&this.changeState(this.idleState)},e.onReconnection=function(t){this.currentServerState=t,this.rollingState.exitState(),this.movePieceState.exitState(),this.player.isMyTurn(t.turnPlayerNumber)?t.currentGameState==i.ROLLING?(this._currentState=this.rollingState,this._currentState.enterState(),this.player.timer.setCurrentTime(t.timer)):t.currentGameState==i.MOVING_PIECE&&(this._currentState=this.movePieceState,this._currentState.enterState(),this.player.timer.setCurrentTime(t.timer)):this.changeState(this.idleState)},e.onSetState=function(t){t.currentGameState==i.ROLLING?this.changeState(this.rollingState):t.currentGameState==i.MOVING_PIECE&&this.changeState(this.movePieceState)},e.checkAndUpdateBotScreen=function(){this.player._isLocal&&(this.currentServerState.playersData[this.player.playerNumber].isKickedOut?r.instance.OpenMenu("KickedOutScreen"):this.currentServerState.playersData[this.player.playerNumber].isBot&&(console.log("Opening BotMadeMoveScreen"),r.instance.OpenMenu("BotMadeMoveScreen")))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PlayerTypes.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"ce170UUEpVOWKSm1y0OznJC","Ludo_PlayerTypes",void 0);e("LudoPlayerType",function(e){return e[e.HUMAN=0]="HUMAN",e[e.BOT=1]="BOT",e[e.SPECTATOR=2]="SPECTATOR",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Pooler.ts",["cc"],(function(t){var e,o,c;return{setters:[function(t){e=t.cclegacy,o=t._decorator,c=t.instantiate}],execute:function(){var i;e._RF.push({},"19663z31QZA16DkkcltEJTD","Ludo_Pooler",void 0);var n=o.ccclass;o.property,t("LudoPooler",n("LudoPooler")(i=function(){function t(t){this.poolName="NodePool",this.pooledObjects=[],this.objectPrefab=null,this.pooledObjectCount=0,this.tempNode=null,this.poolName=t}var e=t.prototype;return e.getObject=function(){return this.pooledObjects.length>0?(this.tempNode=this.pooledObjects.pop(),this.tempNode.active=!0,this.tempNode):this.createObject()},e.returnObject=function(t){this.pooledObjects.push(t),t.active=!1},e.createObject=function(){this.pooledObjectCount++;var t=c(this.objectPrefab);return t.name=this.poolName+" "+this.pooledObjectCount,console.log("Creating new object for pool "+this.poolName),t},t}())||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Pooler.ts"],(function(o){var t,n,e,r,l;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,r=o.Component},function(o){l=o.LudoPooler}],execute:function(){var c,s;n._RF.push({},"3ce18TrxUhP369oN+mnV8Rg","Ludo_PoolManager",void 0);var a=e.ccclass;e.property,o("LudoPoolManager",a("LudoPoolManager")(((s=function(o){function n(){for(var t,n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(t=o.call.apply(o,[this].concat(e))||this).pools=[],t}t(n,o);var e=n.prototype;return e.onLoad=function(){n.instance=this},e.createPool=function(o){var t=new l(o.name);t.objectPrefab=o,this.pools.push(t)},e.getObjectFromPool=function(o){var t=this.getPool(o.name);return null!=t?t.getObject():(this.createPool(o),this.pools[this.pools.length-1].getObject())},e.getPool=function(o){for(var t=0;t<this.pools.length;t++)if(this.pools[t].poolName==o)return this.pools[t];return null},e.returnObjectToPool=function(o){if(o.active){var t=o.name.split(" ")[0],n=this.getPool(t);null!=n?n.returnObject(o):console.warn("No pool found for object "+o.name)}},e.onDestroy=function(){n.instance===this&&(n.instance=null)},n}(r)).instance=null,c=s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_PowerUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_PlayerAssets.ts"],(function(t){var e,i,n,r,o,a,l,p,s,u,c,f,m,y,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Sprite,p=t.Prefab,s=t.Animation,u=t.tween,c=t.Color,f=t.instantiate,m=t.Vec3,y=t.ParticleSystem2D,h=t.Component},function(t){b=t.LudoPlayerAssets}],execute:function(){var d,g,P,w,T,v,I,L,R;o._RF.push({},"79be7R/4lpII4NagNQfqR8k","Ludo_PowerUp",void 0);var U=a.ccclass,E=a.property;t("LudoPowerUp",(d=U("LudoPowerUp"),g=E({type:l}),P=E({type:p}),w=E({type:s}),d((I=e((v=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"sprite",I,r(e)),e.pathNumber=0,e.powerupType=0,n(e,"magicTrailPrefab",L,r(e)),n(e,"animation",R,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.playIdleAnimation()},o.setPathNumber=function(t){this.pathNumber=t},o.setPowerUpType=function(t){this.powerupType=t,this.sprite.spriteFrame=b.instance.getPowerUpSprite(t)},o.blinkWithRedColor=function(){u(this.sprite).to(.2,{color:c.RED},{onUpdate:function(t,e){t.color=c.RED}}).to(.2,{color:c.WHITE},{onUpdate:function(t,e){t.color=c.WHITE}}).union().repeatForever().start()},o.playMagicTrailEffect=function(){console.log("playMagicTrailEffect");var t=f(this.magicTrailPrefab);t.setParent(this.node,!0),t.setSiblingIndex(0),t.setPosition(m.ZERO.clone());t.getComponent(y)},o.playIdleAnimation=function(){var t=this,e=2e3*Math.random();null==this.animation&&(this.animation=this.getComponent(s)),setTimeout((function(){var e;null==(e=t.animation)||e.play()}),e)},e}(h)).prototype,"sprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(v.prototype,"magicTrailPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(v.prototype,"animation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=v))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_ReconnectingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts"],(function(n){var e,t,i,o,r,c,s,p,u;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,s=n.Node,p=n.tween},function(n){u=n.LudoMenu}],execute:function(){var a,l,f,d,h;r._RF.push({},"510bcH0LK9KeoxBGZdL5MCn","Ludo_ReconnectingScreen",void 0);var y=c.ccclass,L=c.property;n("LudoReconnectingScreen",(a=y("LudoReconnectingScreen"),l=L({type:s}),a((h=e((d=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return e=n.call.apply(n,[this].concat(r))||this,i(e,"spinner",h,o(e)),e._spinnerTween=null,e}t(e,n);var r=e.prototype;return r.onLoad=function(){n.prototype.onLoad.call(this)},r.onDestroy=function(){},r.Open=function(){n.prototype.Open.call(this),this.startSpinner()},r.Close=function(){n.prototype.Close.call(this),this.stopSpinner()},r.startSpinner=function(){this._spinnerTween=p(this.spinner).repeatForever(p().by(1,{angle:360})).start()},r.stopSpinner=function(){var n;null==(n=this._spinnerTween)||n.stop(),this._spinnerTween=null},r.initHandTween=function(){},r.initialization=function(){this.initHandTween()},e}(u)).prototype,"spinner",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=d))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_RollingState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Player.ts","./Ludo_PlayerBaseState.ts","./Ludo_Defines.ts","./Ludo_GameManager.ts","./Ludo_PBLogger.ts","./Ludo_NetworkManager.ts"],(function(e){var t,i,a,o,n,r,l,s,c,u,d;return{setters:[function(e){t=e.inheritsLoose,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e.Node,n=e.Input},function(e){r=e.PlayerState},function(e){l=e.LudoPlayerBaseState},function(e){s=e.LudoGameMessageType},function(e){c=e.LudoGameManager},function(e){u=e.LudoPBLogger},function(e){d=e.LudoNetworkManager}],execute:function(){a._RF.push({},"aa136Cw9C5NTap6DGd3y94y","Ludo_RollingState",void 0),e("LudoRollingState",function(e){function a(t){var a;return(a=e.call(this)||this).stateMachine=void 0,a._stateName=r.ROLLING,a.player=void 0,a.currentDiceOutcome=0,a.goldenDiceOutcomes=0,a.stateMachine=t,a.player=a.stateMachine.player,a.player.dice.onDiceRollDone=a.onDiceRollDone.bind(i(a)),a}t(a,e);var l=a.prototype;return l.enterState=function(){console.log("Entered Rolling State"),this.player.diceRoot.active=!0,this.player.dice.reset(),u.info("dice active"),this.player.timer.stop(),this.player.timer.setTotalTime(this.stateMachine.currentServerState.roomSettings.diceRollWaitTime),this.player.timer.run(),this.player._pawnHandler.Reset(this.stateMachine.currentServerState),this.updateGoldenDiceCount(),this.player._isLocal&&(this.player.dice.node.on(o.EventType.TOUCH_START,this.OnDiceClick,this),this.player.arrowPointToDiceAnimation(!0)),a.lastRolledPlayer&&a.lastRolledPlayer!=this.player&&this.player._isLocal&&c.Instance.miloSdk.vibratePreset("light"),a.lastRolledPlayer=this.player},l.updateState=function(e){},l.exitState=function(){this.player.diceRoot.active=!1,this.player.timer.stop(),console.log("Exited Rolling State local ",this.player._isLocal);var e=this.stateMachine.currentServerState.playersData[this.player.playerNumber].rollsList;this.player.outComesUIManager.reset(e),this.player._isLocal&&this.player.dice.node.off(n.EventType.TOUCH_START,this.OnDiceClick,this)},l.OnDiceClick=function(e){this.player._isLocal&&(this.player.dice.node.off(n.EventType.TOUCH_START,this.OnDiceClick,this),c.Instance.setInput("DiceRoll"),this.player.arrowPointToDiceAnimation(!1),console.log("Clicked on Dice"),d.Instance.CurrentRoom.send(s.CLIENT_DICE_ROLL,JSON.stringify({})))},l.onDiceRollDone=function(){this.player.outComesUIManager.addOutCome(this.currentDiceOutcome),d.Instance.CurrentRoom.send(s.ROLLING_ACK,JSON.stringify({})),console.log("Roll Ack Sent")},l.onDiceOutCome=function(){var e=JSON.parse(this.stateMachine.currentServerState.inputPayload.inputValue);this.player.dice.rollDice(e.value),this.currentDiceOutcome=e.value,console.log("Rolled : ",e.value),this.player.timer.stop()},l.updateGoldenDiceCount=function(){var e=this.stateMachine.currentServerState.playersData[this.player.playerNumber];this.goldenDiceOutcomes=e.goldenDiceCount,this.player.outComesUIManager.setGoldenDiceOutcomes(this.goldenDiceOutcomes),this.player.outComesUIManager.reset(e.rollsList)},l.reset=function(){this.exitState()},a}(l)).lastRolledPlayer=void 0,a._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_RoomTypes.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"f212cQ6wtxPAajXkEvADcEq","Ludo_RoomTypes",void 0);t("LudoRoomStatus",function(t){return t[t.NONE=0]="NONE",t[t.WAITING_FOR_PLAYERS=1]="WAITING_FOR_PLAYERS",t[t.COUNTDOWN=2]="COUNTDOWN",t[t.GAME_SIMULATION=3]="GAME_SIMULATION",t[t.END_GAME=4]="END_GAME",t[t.KICKED_OUT=5]="KICKED_OUT",t}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_RoundCompleted.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts","./Ludo_GameManager.ts","./Ludo_PlayerAvatar.ts","./Ludo_GameHandler.ts","./MiloGameSDK.ts","./index.ts","./events.ts"],(function(e){var t,n,a,i,o,r,l,s,u,c,p,m,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Label,s=e.Node},function(e){u=e.LudoMenu},function(e){c=e.LudoGameManager},function(e){p=e.LudoPlayerAvatar},function(e){m=e.LudoGameHandler},function(e){y=e.HostChangeEvent},null,function(e){d=e.InternalGameSdkEvents}],execute:function(){var f,h,g,v,b,C,I,L,P,D,w,H,A,S,N,_,z,F,G,k,M,K,R;o._RF.push({},"193f25F07RLI7FV0+ui2drm","Ludo_RoundCompleted",void 0);var B=r.ccclass,O=r.property;e("LudoRoundCompleted",(f=B("LudoRoundCompleted"),h=O({type:p}),g=O({type:l}),v=O({type:p}),b=O({type:l}),C=O({type:p}),I=O({type:l}),L=O({type:l}),P=O({type:l}),D=O({type:s}),w=O({type:s}),f((S=t((A=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,a(t,"winnerAvatar",S,i(t)),a(t,"winnerName",N,i(t)),a(t,"mostKillsPlayerAvatar",_,i(t)),a(t,"mostKillsPlayerName",z,i(t)),a(t,"mostDeathsPlayerAvatar",F,i(t)),a(t,"mostDeathsPlayerName",G,i(t)),a(t,"killsCountLabel",k,i(t)),a(t,"deathsCountLabel",M,i(t)),a(t,"actionsButtonContainer",K,i(t)),a(t,"infoContainer",R,i(t)),t}n(t,e);var o=t.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),y.on(d.HOST_CHANGED,this.onHostChanged,this)},o.onDestroy=function(){this.cleanup()},o.cleanup=function(){y.off(d.HOST_CHANGED,this.onHostChanged,this)},o.Open=function(){e.prototype.Open.call(this),this.initialize()},o.Close=function(){e.prototype.Close.call(this)},o.initialize=function(){e.prototype.initialize.call(this),null==m.Instance._clientState&&c.Instance._serverStateCopy&&(console.log("Forcing GameHandler update from RoundCompleted to ensure data availability"),m.Instance.OnServerStateChange(c.Instance._serverStateCopy));var t=c.Instance._serverStateCopy.playersData.findIndex((function(e){return 1==e.finishPosition}));if(-1==t)console.error("no winning player");else{var n=m.Instance.getPlayer(t);this.winnerAvatar.setAvatarFromSpriteFrame(n.GetProfileSpriteFrame());var a=m.Instance.getContactName(n.playerData.userId);this.winnerName.string=a||n.playerData.name}var i=m.Instance.getMostKillsPlayer();this.mostKillsPlayerAvatar.setAvatarFromSpriteFrame(i.GetProfileSpriteFrame()),this.mostKillsPlayerName.string=i.playerName.string;var o=m.Instance.getMostDeathsPlayer();this.mostDeathsPlayerAvatar.setAvatarFromSpriteFrame(o.GetProfileSpriteFrame()),this.mostDeathsPlayerName.string=o.playerName.string,this.killsCountLabel.string="Most Kills: "+i.playerData.killsCount,this.deathsCountLabel.string="Most Deaths: "+o.playerData.deathsCount,this.updateHostUI()},o.updateHostUI=function(){var e=m.Instance.isLocalUserHost(),t=m.Instance.getHostPlayer();if(e)t&&(this.infoContainer.active=!1,this.actionsButtonContainer.active=!0);else if(t){this.actionsButtonContainer.active=!1;var n=this.infoContainer.getComponent(l),a=m.Instance.getContactName(t.playerData.userId),i=a||t.playerData.name;n.string="Ask "+i+"(Host) to play again or change game",this.infoContainer.active=!0}},o.onHostChanged=function(e){console.log("RoundCompleted: Host changed from",e.oldHostId,"to",e.newHostId),this.node.active&&this.updateHostUI()},o.onPlayAgainButtonClicked=function(){var e=Date.now();c.Instance.miloSdk.playAgain({timestamp:e}),console.log("play again button clicked")},o.onChangeGameButtonClicked=function(){var e=Date.now();c.Instance.miloSdk.changeGame({timestamp:e}),console.log("change game button clicked")},t}(u)).prototype,"winnerAvatar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(A.prototype,"winnerName",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(A.prototype,"mostKillsPlayerAvatar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(A.prototype,"mostKillsPlayerName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(A.prototype,"mostDeathsPlayerAvatar",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(A.prototype,"mostDeathsPlayerName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(A.prototype,"killsCountLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(A.prototype,"deathsCountLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(A.prototype,"actionsButtonContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(A.prototype,"infoContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=A))||H));o._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_ScaleUICanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,i,n,o,s,h;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,i=t._decorator,n=t.UITransform,o=t.view,s=t.log,h=t.Component}],execute:function(){var c;a._RF.push({},"a8a3bubYfhORq+a4d29zTFx","Ludo_ScaleUICanvas",void 0);var u=i.ccclass;i.property,t("LudoScaleUICanvas",u("LudoScaleUICanvas")(c=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var i=a.prototype;return i.onLoad=function(){this.adjustCanvasScale(),this.adjustCanvasScale()},i.adjustCanvasScale=function(){var t=this.node.getComponent(n);if(t){var e=o.getVisibleSize(),a=o.getDesignResolutionSize(),i=e.width/a.width,h=e.height/a.height,c=Math.min(i,h);t.width=a.width*c,t.height=a.height*c,s("Adjusted Canvas Scale: width="+t.width+", height="+t.height)}},a}(h))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_AudioManager.ts"],(function(e){var i,t,n,r,s,a,c,o,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,c=e.Sprite,o=e.Component},function(e){u=e.LudoAudioManager}],execute:function(){var m,l,T,h,f;s._RF.push({},"eafe8/x0ZZFgJLAvuatzb9l","Ludo_Timer",void 0);var p=a.ccclass,g=a.property;e("LudoTimer",(m=p("LudoTimer"),l=g({type:c}),m((f=i((h=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return(i=e.call.apply(e,[this].concat(s))||this)._totalTime=0,i._currentTime=0,n(i,"timerSprite",f,r(i)),i._canRunTimer=!1,i._isTimerWarning=!1,i._isLocal=!1,i}t(i,e);var s=i.prototype;return s.update=function(e){this._canRunTimer&&(this._currentTime-=e,this._currentTime<0&&(this._currentTime=0),this.timerSprite.fillRange=this.getTimeLeftPercentage(),this.checkAndSetTimerWarning())},s.isTimeUp=function(){return this._currentTime<=0},s.setTotalTime=function(e){this._totalTime=e,this._currentTime=e,this.timerSprite.fillRange=this.getTimeLeftPercentage()},s.setCurrentTime=function(e){this._currentTime=e,this.timerSprite.fillRange=this.getTimeLeftPercentage()},s.run=function(){this._canRunTimer=!0},s.stop=function(){this._canRunTimer=!1,this.reset()},s.reset=function(){this._isTimerWarning=!1,this.timerSprite.fillRange=0,u.instance.stopSound("TimerWarning")},s.getTimeLeftPercentage=function(){return this._currentTime/this._totalTime},s.checkAndSetTimerWarning=function(){this._isLocal&&this.getTimeLeftPercentage()<.2&&(this._isTimerWarning||(u.instance.playSound("TimerWarning"),this._isTimerWarning=!0))},s.setLocal=function(e){this._isLocal=e},i}(o)).prototype,"timerSprite",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=h))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_TutorialScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts"],(function(n){var e,t,o,i,a,r,l,u,s,c,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.Node,u=n.Quat,s=n.tween,c=n.Vec3},function(n){d=n.LudoMenu}],execute:function(){var h,p,f,_,y;a._RF.push({},"44badGTvIVGxaxHEmKkfZux","Ludo_TutorialScreen",void 0);var w=r.ccclass,m=r.property;n("LudoTutorialScreen",(h=w("LudoTutorialScreen"),p=m({type:l}),h((y=e((_=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,o(e,"handNode",y,i(e)),e._showHandGesture=!0,e._handAnimationTween=null,e}t(e,n);var a=e.prototype;return a.onLoad=function(){n.prototype.onLoad.call(this)},a.start=function(){},a.onDestroy=function(){},a.ServerGameOptionsReceived=function(n){this._showHandGesture=n.show_hand_gesture},a.onSelectedLane=function(){console.log("Selected lane so closing tutorial"),this.Close()},a.Open=function(){this._showHandGesture&&(n.prototype.Open.call(this),this.initialization())},a.Close=function(){n.prototype.Close.call(this),this._handAnimationTween&&this._handAnimationTween.stop()},a.handClickAnimation=function(){var n=this,e=new u;u.fromEuler(e,0,0,15);new u;u.fromEuler(e,0,0,15),this._handAnimationTween=s(this.handNode).call((function(){n.handNode.eulerAngles=c.ZERO.clone()})).delay(.2).to(.3,{rotation:e},{easing:"backOut"}).delay(.7).union().repeatForever(),this._handAnimationTween.start()},a.initialization=function(){this.handClickAnimation()},e}(d)).prototype,"handNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=_))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts","./Ludo_GameManager.ts","./Ludo_NetworkTypes.ts","./Ludo_RoomTypes.ts","./Ludo_CameraManger.ts"],(function(e){var n,t,o,i,s,r,a,u,l,h,c,f,g,p,d,m,C,w,M,S,v,_,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Camera,u=e.Node,l=e.Prefab,h=e.UITransform,c=e.Widget,f=e.Sprite,g=e.Color,p=e.tween,d=e.instantiate,m=e.Vec3,C=e.Component},function(e){w=e.LudoMenu},function(e){M=e.RoomStatusChangeEvent,S=e.LudoGameManager},function(e){v=e.LudoNetworkEvents},function(e){_=e.LudoRoomStatus},function(e){y=e.LudoCameraManger}],execute:function(){var O,b,N,I,A,L,R,U,T,P,z,E,F,G;s._RF.push({},"7baa6RkSZpERbIrrDte7z8d","Ludo_UIManager",void 0);var H=r.ccclass,D=r.property;e("LudoUIManager",(O=H("LudoUIManager"),b=D({type:a}),N=D({type:[w]}),I=D({type:u}),A=D({type:l}),L=D({type:u}),O(((G=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,o(n,"uiCamera",T,i(n)),o(n,"menus",P,i(n)),n.showMuteButton=!0,n.showResultScreen=!0,n.showFAQ=!0,o(n,"flashNode",z,i(n)),o(n,"showerConfettiPrefab",E,i(n)),o(n,"confettiPositionNode",F,i(n)),n}t(n,e);var s=n.prototype;return s.onLoad=function(){n.instance=this,M.on(v.ROOM_STATUS_CHANGE,this.onRoomStatusChange,this)},s.start=function(){},s.onDestroy=function(){M.off(v.ROOM_STATUS_CHANGE,this.onRoomStatusChange,this),n.instance===this&&(n.instance=null)},s.OpenHowToPlay=function(){this.OpenMenu("HowToPlay")},s.OpenMenu=function(e){for(var n=0;n<this.menus.length;n++)this.menus[n].menuName==e&&this.menus[n].Open()},s.CloseMenu=function(e){for(var n=0;n<this.menus.length;n++)this.menus[n].menuName==e&&this.menus[n].Close()},s.GetMenu=function(e){for(var n=0;n<this.menus.length;n++)if(this.menus[n].menuName==e)return this.menus[n];return null},s.CloseAllMenus=function(){for(var e=0;e<this.menus.length;e++)this.menus[e].Close()},s.onRoomStatusChange=function(e){var n=this;e==_.WAITING_FOR_PLAYERS?(console.log("Opening waiting screen"),this.updateUiBasedOnConfig(),this.OpenMenu("WaitingScreen")):e==_.COUNTDOWN?(console.log("Opening countdown screen"),this.CloseAllMenus(),this.OpenMenu("CountdownScreen")):e==_.GAME_SIMULATION?this.scheduleOnce((function(){n.CloseMenu("CountdownScreen"),n.OpenMenu("InGameMenu")}),1):e==_.END_GAME?(this.CloseAllMenus(),this.OpenMenu("RoundCompletedScreen")):e==_.KICKED_OUT&&(this.CloseAllMenus(),this.OpenMenu("KickedOutScreen"))},s.FixWidthOfUICamera=function(){console.log("Fixing width of UI Camera"),this.uiCamera.orthoHeight=y.instance.getCurrentOrthoHeight(),this.FixCanvasSize()},s.FixCanvasSize=function(){var e=this.node.getComponent(h);e.setContentSize(y.instance.getWidth(),2*y.instance.camera.orthoHeight),console.log("UI Width: ",e.width,"UI Height: ",e.height);var n=this.node.getComponent(c);n.top=960-e.height/2,n.bottom=960-e.height/2,n.updateAlignment();for(var t=this.node.getComponentsInChildren(c),o=0;o<t.length;o++)t[o].updateAlignment()},s.getAllChildWidgets=function(e){var n=e.getComponentsInChildren(c);console.log("All widgets: ",n.length)},s.updateUiBasedOnConfig=function(){this.showMuteButton=S.Instance._serverStateCopy.roomSettings.show_mute_button,this.showResultScreen=S.Instance._serverStateCopy.roomSettings.show_result_screen,this.showFAQ=S.Instance._serverStateCopy.roomSettings.show_faq;for(var e=0;e<this.menus.length;e++)this.menus[e].initialize()},s.playFlashEffect=function(){var e=this;this.flashNode.active=!0;var n=this.flashNode.getComponent(f);n?(n.color=new g(197,8,8,0),p(n).to(.2,{color:new g(197,8,8,255)}).to(.3,{color:new g(197,8,8,0)}).call((function(){e.flashNode.active=!1})).start()):console.error("No Sprite component found on flashNode")},s.showConfetti=function(){var e=d(this.showerConfettiPrefab);this.confettiPositionNode.addChild(e),e.setPosition(new m(0,150,0))},n}(C)).instance=null,T=n((U=G).prototype,"uiCamera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(U.prototype,"menus",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=n(U.prototype,"flashNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(U.prototype,"showerConfettiPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(U.prototype,"confettiPositionNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=U))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_Utils.ts",["cc"],(function(t){var u;return{setters:[function(t){u=t.cclegacy}],execute:function(){u._RF.push({},"36d70Gp0MFBHof+pJPfkcIh","Ludo_Utils",void 0);t("LudoUtils",function(){function t(){}return t.roundNumber=function(t,u){void 0===u&&(u=2);var n=Math.pow(10,u);return Math.round((t+Number.EPSILON)*n)/n},t}());u._RF.pop()}}}));

System.register("chunks:///_virtual/Ludo_WaitingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Menu.ts"],(function(t){var n,o,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator},function(t){i=t.LudoMenu}],execute:function(){var c;o._RF.push({},"4dcaa5V7pVOaJ3COa3U4RDw","Ludo_WaitingScreen",void 0);var r=e.ccclass;e.property,t("LudoWaitingScreen",r("LudoWaitingScreen")(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.onLoad=function(){t.prototype.onLoad.call(this)},e.onDestroy=function(){},e.Open=function(){t.prototype.Open.call(this)},e.Close=function(){t.prototype.Close.call(this)},e.initialize=function(){t.prototype.initialize.call(this)},o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/LudoInputPayload.ts",["cc"],(function(t){var u;return{setters:[function(t){u=t.cclegacy}],execute:function(){u._RF.push({},"0ed96DhOm5GSKiSbb+Eb8Q9","LudoInputPayload",void 0);t("LudoInputPayload",function(){function t(){this.inputType=void 0,this.inputValue=void 0}return t.prototype.copyFrom=function(t){this.inputType=t.inputType,this.inputValue=t.inputValue},t}());u._RF.pop()}}}));

System.register("chunks:///_virtual/LudoPlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_BasePlayerData.ts","./Ludo_GameHandler.ts"],(function(t){var s,e,i,o;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.LudoBasePlayerData},function(t){o=t.LudoGameHandler}],execute:function(){e._RF.push({},"0f127sRNEpCYZ0EXfo54zWR","LudoPlayerData",void 0);t("LudoPlayerData",function(t){function e(){for(var s,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(s=t.call.apply(t,[this].concat(i))||this).pieces=[1,1,1,1],s.rollsList=[],s.goldenDiceCount=0,s.timeLeft=0,s.finishPosition=-1,s.isBot=!1,s.killsCount=0,s.deathsCount=0,s}return s(e,t),e.prototype.copyFrom=function(s){t.prototype.copyFrom.call(this,s),this.pieces=[];for(var e=0;e<s.pieces.length;e++)this.pieces.push(s.pieces[e]);this.timeLeft=s.timeLeft,this.finishPosition=s.finishPosition,this.rollsList=[];for(var i=0;i<s.rollsList.length;i++)this.rollsList.push(s.rollsList[i]);if(this.goldenDiceCount=s.goldenDiceCount,this.isBot=s.isBot,this.isKickedOut=s.isKickedOut,this.killsCount=s.killsCount,this.deathsCount=s.deathsCount,this.userId&&o.Instance){var n=o.Instance.getContactName(this.userId);console.log("contactName of userId",n),n&&(this.name=n)}},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/LudoRoomSettings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_BaseRoomSettings.ts","./Ludo_Defines.ts"],(function(e){var t,i,s,o,n,a;return{setters:[function(e){t=e.extends,i=e.inheritsLoose},function(e){s=e.cclegacy},function(e){o=e.DefaultRoomSettings,n=e.LudoBaseRoomSettings},function(e){a=e.LudoTileType}],execute:function(){s._RF.push({},"28ae6s9f0JHvIUODASGOMiF","LudoRoomSettings",void 0);var m=e("DefaultLudoRoomSettings",t({},o,{pathTilesPerSide:6,safeTiles:[1,9],diceRollWaitTime:30,movePiecesWaitTime:30,lagDelayCompensationTime:1,animationWaitTime:10,bombSteps:8,rocketSteps:8,PowerupTypes:[a.GOLDEN_DICE,a.BOMB,a.PROPELLER],show_mute_button:!1,show_result_screen:!0,show_faq:!0,MissTurnsToKickOut:3,maxReconnectionAttempts:10}));e("LudoRoomSettings",function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).pathTilesPerSide=m.pathTilesPerSide,t.safeTiles=m.safeTiles,t.diceRollWaitTime=m.diceRollWaitTime,t.movePiecesWaitTime=m.movePiecesWaitTime,t.lagDelayCompensationTime=m.lagDelayCompensationTime,t.animationWaitTime=m.animationWaitTime,t.bombSteps=m.bombSteps,t.rocketSteps=m.rocketSteps,t.PowerupTypes=m.PowerupTypes,t.show_mute_button=m.show_mute_button,t.show_result_screen=m.show_result_screen,t.show_faq=m.show_faq,t.MissTurnsToKickOut=m.MissTurnsToKickOut,t.maxReconnectionAttempts=m.maxReconnectionAttempts,t}return i(t,e),t.prototype.CopyFrom=function(e){this.pathTilesPerSide=e.pathTilesPerSide,this.safeTiles=[];for(var t=0;t<e.safeTiles.length;t++)this.safeTiles.push(e.safeTiles[t]);this.diceRollWaitTime=e.diceRollWaitTime,this.movePiecesWaitTime=e.movePiecesWaitTime,this.lagDelayCompensationTime=e.lagDelayCompensationTime,this.animationWaitTime=e.animationWaitTime,this.show_mute_button=e.show_mute_button,this.show_result_screen=e.show_result_screen,this.show_faq=e.show_faq,this.MissTurnsToKickOut=e.MissTurnsToKickOut,this.maxReconnectionAttempts=e.maxReconnectionAttempts},t}(n));s._RF.pop()}}}));

System.register("chunks:///_virtual/LudoRoomState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Ludo_Defines.ts","./LudoRoomSettings.ts","./LudoPlayerData.ts","./LudoInputPayload.ts","./Ludo_BaseRoomState.ts","./Ludo_BasePlayerData.ts"],(function(t){var e,o,a,n,r,s,u,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){a=t.LudoGameState},function(t){n=t.LudoRoomSettings},function(t){r=t.LudoPlayerData},function(t){s=t.LudoInputPayload},function(t){u=t.LudoBaseRoomState},function(t){i=t.LudoBasePlayerData}],execute:function(){o._RF.push({},"e755fBWyzZDJblI9DGio/Bu","LudoRoomState",void 0);t("LudoRoomState",function(t){function o(){var e;return(e=t.call(this,new n,[])||this).turnPlayerNumber=0,e.finishedCount=0,e.inputPayload=new s,e.currentGameState=a.NONE,e.previousGameState=a.NONE,e.syncStateNumber=0,e.boardTiles=[],e.hasMissedTurn=!0,e.timer=0,e}return e(o,t),o.prototype.copyFrom=function(e){t.prototype.copyFrom.call(this,e),this.playersData=e.playersData.map((function(t){var e=new r;return e.copyFrom(t),e})),this.spectatorsData=e.spectatorsData.map((function(t){var e=new i;return e.copyFrom(t),e})),this.turnPlayerNumber=e.turnPlayerNumber,this.finishedCount=e.finishedCount,this.syncStateNumber=e.syncStateNumber,this.inputPayload=new s,this.inputPayload.copyFrom(e.inputPayload),this.boardTiles=[];for(var o=0;o<e.boardTiles.length;o++)this.boardTiles.push(e.boardTiles[o]);this.hasMissedTurn=e.hasMissedTurn,this.timer=e.timer,this.currentGameState=e.currentGameState,this.previousGameState=e.previousGameState},o}(u));o._RF.pop()}}}));

System.register("chunks:///_virtual/TestScript.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c;n._RF.push({},"52b052wwelCkqAQSO8EA9kj","TestScript",void 0);var i=o.ccclass;o.property,t("NewComponent",i("NewComponent")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){},n}(r))||c);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/ludo_game', 'chunks:///_virtual/ludo_game'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});